[
  {
    "__docId__": 1,
    "kind": "external",
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Infinity",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 2,
    "kind": "external",
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~NaN",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 3,
    "kind": "external",
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~undefined",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 4,
    "kind": "external",
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~null",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 5,
    "kind": "external",
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 6,
    "kind": "external",
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 7,
    "kind": "external",
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 8,
    "kind": "external",
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 9,
    "kind": "external",
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 10,
    "kind": "external",
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 11,
    "kind": "external",
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Symbol",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 12,
    "kind": "external",
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Error",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 13,
    "kind": "external",
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~EvalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 14,
    "kind": "external",
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~InternalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 15,
    "kind": "external",
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~RangeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 16,
    "kind": "external",
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~ReferenceError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 17,
    "kind": "external",
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~SyntaxError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 18,
    "kind": "external",
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~TypeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 19,
    "kind": "external",
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~URIError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 20,
    "kind": "external",
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 21,
    "kind": "external",
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 22,
    "kind": "external",
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Date",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 23,
    "kind": "external",
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~String",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 24,
    "kind": "external",
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~string",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 25,
    "kind": "external",
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~RegExp",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 26,
    "kind": "external",
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 27,
    "kind": "external",
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Int8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 28,
    "kind": "external",
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Uint8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 29,
    "kind": "external",
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Uint8ClampedArray",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 30,
    "kind": "external",
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Int16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 31,
    "kind": "external",
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Uint16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 32,
    "kind": "external",
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Int32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 33,
    "kind": "external",
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Uint32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 34,
    "kind": "external",
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Float32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 35,
    "kind": "external",
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Float64Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 36,
    "kind": "external",
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Map",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 37,
    "kind": "external",
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Set",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 38,
    "kind": "external",
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~WeakMap",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 39,
    "kind": "external",
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~WeakSet",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 40,
    "kind": "external",
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~ArrayBuffer",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 41,
    "kind": "external",
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~DataView",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 42,
    "kind": "external",
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~JSON",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 43,
    "kind": "external",
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Promise",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 44,
    "kind": "external",
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Generator",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 45,
    "kind": "external",
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~GeneratorFunction",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 46,
    "kind": "external",
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Reflect",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 47,
    "kind": "external",
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "js/.external-ecmascript.js",
    "static": true,
    "longname": "js/.external-ecmascript.js~Proxy",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 48,
    "kind": "file",
    "name": "js/app.js",
    "content": "import {\r\n    Vector3,\r\n    Scene,\r\n    WebGLRenderer,\r\n    GridHelper,\r\n    PerspectiveCamera,\r\n    HemisphereLight,\r\n    MeshBasicMaterial,\r\n    BoxGeometry,\r\n    PlaneGeometry,\r\n    CylinderGeometry\r\n} from './lib/three.module.js';\r\nimport {\r\n    GLTFLoader\r\n} from 'https://threejsfundamentals.org/threejs/resources/threejs/r115/examples/jsm/loaders/GLTFLoader.js';\r\nimport {\r\n    OrbitControls\r\n} from 'https://threejsfundamentals.org/threejs/resources/threejs/r115/examples/jsm/controls/OrbitControls.js';\r\nimport {\r\n    addCameraNameTpl\r\n} from './editor/Template.js';\r\nimport {\r\n    displayEntity\r\n} from './editor/EntityTransform.js';\r\n\r\nimport {\r\n    calculateSpringRate,\r\n    calculateSteering\r\n} from './editor/ParamsCalculator.js';\r\n\r\n\r\nimport {\r\n    createTrack\r\n} from './editor/TrackCreator.js';\r\nimport {\r\n    clickActions\r\n} from './editor/ClickHandler.js';\r\nimport {\r\n    setCarColor,\r\n    colorGUI\r\n} from './editor/CarColor.js';\r\nimport {\r\n    rivieraTrack\r\n} from './editor/tracks/Riviera.js';\r\nimport {\r\n    hardTrack\r\n} from './editor/tracks/HardTrack.js';\r\n\r\nclass App {\r\n\r\n    constructor() {\r\n        this.createScene();\r\n\r\n    }\r\n\r\n    createScene() {\r\n        this.scene = new Scene();\r\n\r\n        this.createCamera();\r\n\r\n        this.createLight();\r\n\r\n        this.renderer = new WebGLRenderer({\r\n            antialias: true\r\n        });\r\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n        document.body.appendChild(this.renderer.domElement);\r\n\r\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n        this.controls.update();\r\n\r\n        this.render();\r\n\r\n        const size = 100;\r\n        const divisions = 10;\r\n\r\n        this.gridHelper = new GridHelper(size, divisions, 'green', 'green');\r\n        this.gridHelper.visible = false;\r\n\r\n        this.scene.add(this.gridHelper);\r\n\r\n    }\r\n\r\n    createCamera() {\r\n        this.fov = 40;\r\n        this.aspect = window.innerWidth / window.innerHeight;\r\n        this.near = .1;\r\n        this.far = 10000;\r\n        this.camera = new PerspectiveCamera(this.fov, this.aspect, this.near, this.far);\r\n        this.camera.position.z = 5;\r\n        this.camera.name = 'camera';\r\n\r\n    }\r\n\r\n    createLight() {\r\n        this.intensity = 1;\r\n        this.light = new HemisphereLight(0xffffbb, 0x080820, this.intensity);\r\n        this.scene.add(this.light);\r\n\r\n    }\r\n\r\n    render() {\r\n        requestAnimationFrame(() => {\r\n            this.render();\r\n        });\r\n        this.renderer.render(this.scene, this.camera);\r\n    }\r\n\r\n}\r\n\r\nlet app = new App();\r\n\r\nconst {\r\n    scene,\r\n    camera,\r\n    gridHelper\r\n} = app\r\n\r\nlet model;\r\n\r\nconst gltfInput = document.querySelector(\"#gltfUpload\");\r\n\r\nconst notifier = new AWN();\r\n\r\nconst loader = new GLTFLoader();\r\n\r\nfunction uploadGltf() {\r\n\r\n    function handleFiles() {\r\n        const fileList = this.files;\r\n        const gltf = fileList[0].name;\r\n\r\n        const entity = document.querySelector('#entity');\r\n        entity.textContent = gltf;\r\n\r\n        function loadGltf() {\r\n\r\n            function onLoad(gltf) {\r\n\r\n                model = gltf.scene.children[0];\r\n                console.log(model.position);\r\n\r\n                scene.add(model);\r\n\r\n                notifier.success('model loaded');\r\n\r\n                colorGUI.show()\r\n\r\n            }\r\n\r\n            function onError(error) {\r\n\r\n                console.error(error);\r\n\r\n            }\r\n            loader.load(`assets/${gltf}`, onLoad, undefined, onError);\r\n\r\n        }\r\n        loadGltf();\r\n\r\n    }\r\n    gltfInput.addEventListener(\"change\", handleFiles, false);\r\n}\r\n\r\nuploadGltf();\r\nsetCarColor();\r\n\r\nfunction loadFinishLine() {\r\n\r\n    function loadGltf() {\r\n\r\n        function onLoad(gltf) {\r\n\r\n            model = gltf.scene.children[0];\r\n\r\n            scene.add(model);\r\n\r\n            notifier.success('finish line added');\r\n\r\n        }\r\n\r\n        function onError(error) {\r\n\r\n            console.error(error);\r\n\r\n        }\r\n        loader.load(`assets/finish-line.gltf`, onLoad, undefined, onError);\r\n\r\n    }\r\n\r\n    loadGltf();\r\n\r\n}\r\n\r\nfunction display() {\r\n    displayEntity(model);\r\n\r\n}\r\n\r\nfunction calculate() {\r\n    calculateSteering();\r\n    calculateSpringRate();\r\n}\r\ndisplay();\r\n\r\naddCameraNameTpl(camera);\r\n\r\ncalculate();\r\n\r\nconst guiTransform = new dat.GUI();\r\nconst guiCamera = new dat.GUI();\r\nconst guiCarParams = new dat.GUI();\r\nconst guiTracks = new dat.GUI();\r\n\r\n\r\n\r\nconst guiArr = [guiTransform, guiCamera, guiCarParams, guiTracks];\r\n\r\nguiArr.map(gui => gui.hide());\r\n\r\nconst pi = Math.PI;\r\n\r\nclickActions();\r\n\r\nconsole.log(scene)\r\n\r\nconst link = document.createElement('a');\r\nlink.style.display = 'none';\r\ndocument.body.appendChild(link);\r\n\r\nfunction save(blob, filename) {\r\n\r\n    link.href = URL.createObjectURL(blob);\r\n    link.download = filename;\r\n    link.click();\r\n\r\n}\r\n\r\nfunction saveString(text, filename) {\r\n\r\n    save(new Blob([text], {\r\n        type: 'text/plain'\r\n    }), filename);\r\n\r\n}\r\n\r\nconst tracksNames = ['riviera', 'hardtrack']\r\nconst track = {\r\n    name: ''\r\n}\r\nlet trackSelect = guiTracks.add(track, 'name', tracksNames).name('track name').listen();\r\n$('#addTrack').click(() => guiTracks.show())\r\n\r\ntrackSelect.onChange((value) => {\r\n    if (value === 'riviera') {\r\n        if (scene.getObjectByName('hardTrack') !== undefined) {\r\n            scene.remove(scene.getObjectByName('hardTrack'));\r\n        }\r\n        createTrack('riviera', rivieraTrack)\r\n\r\n        console.log(scene)\r\n    } else if (value === 'hardtrack') {\r\n\r\n        if (scene.getObjectByName('riviera') !== undefined) {\r\n\r\n            scene.remove(scene.getObjectByName('riviera'));\r\n        }\r\n        createTrack('hardTrack', hardTrack, 1000, 2);\r\n    }\r\n\r\n})\r\n\r\nfunction toggleGrid() {\r\n    if ($(this).is(':checked')) {\r\n\r\n        gridHelper.visible = true\r\n    } else {\r\n\r\n        gridHelper.visible = false\r\n    }\r\n}\r\n\r\n$('#customSwitch').click(toggleGrid)\r\n\r\ncamera.position.z = 10;\r\ncamera.position.y = 2;\r\n\r\nconsole.log(scene);\r\n\r\nexport {\r\n    guiCarParams,\r\n    app,\r\n    notifier,\r\n    camera,\r\n    scene,\r\n    pi,\r\n    loadFinishLine,\r\n    saveString,\r\n    model,\r\n    guiTransform,\r\n    guiCamera,\r\n    guiTracks\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/app.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 49,
    "kind": "variable",
    "name": "scene",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~scene",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 113,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 50,
    "kind": "variable",
    "name": "gltfInput",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~gltfInput",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 121,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 51,
    "kind": "variable",
    "name": "loader",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~loader",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 125,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 52,
    "kind": "function",
    "name": "uploadGltf",
    "memberof": "js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/app.js~uploadGltf",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 127,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 53,
    "kind": "function",
    "name": "display",
    "memberof": "js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/app.js~display",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 195,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 54,
    "kind": "function",
    "name": "calculate",
    "memberof": "js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/app.js~calculate",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 200,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 55,
    "kind": "variable",
    "name": "guiArr",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~guiArr",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 217,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 56,
    "kind": "variable",
    "name": "link",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~link",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 227,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 57,
    "kind": "function",
    "name": "save",
    "memberof": "js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/app.js~save",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 231,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 58,
    "kind": "variable",
    "name": "tracksNames",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~tracksNames",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 247,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 59,
    "kind": "variable",
    "name": "track",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~track",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 248,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 60,
    "kind": "variable",
    "name": "trackSelect",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~trackSelect",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 251,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 61,
    "kind": "function",
    "name": "toggleGrid",
    "memberof": "js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/app.js~toggleGrid",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 273,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 62,
    "kind": "variable",
    "name": "guiCarParams",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~guiCarParams",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/app.js",
    "importStyle": "{guiCarParams}",
    "description": null,
    "lineNumber": 212,
    "undocument": true
  },
  {
    "__docId__": 63,
    "kind": "variable",
    "name": "app",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~app",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/app.js",
    "importStyle": "{app}",
    "description": null,
    "lineNumber": 111,
    "undocument": true
  },
  {
    "__docId__": 64,
    "kind": "class",
    "name": "App",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~App",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 49,
    "pseudoExport": true,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 65,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "js/app.js~App",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "js/app.js~App#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 51,
    "undocument": true
  },
  {
    "__docId__": 66,
    "kind": "method",
    "name": "createScene",
    "memberof": "js/app.js~App",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "js/app.js~App#createScene",
    "access": "public",
    "description": null,
    "lineNumber": 56,
    "undocument": true
  },
  {
    "__docId__": 67,
    "kind": "member",
    "name": "scene",
    "memberof": "js/app.js~App",
    "static": false,
    "longname": "js/app.js~App#scene",
    "access": "public",
    "description": null,
    "lineNumber": 57,
    "undocument": true
  },
  {
    "__docId__": 68,
    "kind": "member",
    "name": "renderer",
    "memberof": "js/app.js~App",
    "static": false,
    "longname": "js/app.js~App#renderer",
    "access": "public",
    "description": null,
    "lineNumber": 63,
    "undocument": true
  },
  {
    "__docId__": 69,
    "kind": "member",
    "name": "controls",
    "memberof": "js/app.js~App",
    "static": false,
    "longname": "js/app.js~App#controls",
    "access": "public",
    "description": null,
    "lineNumber": 69,
    "undocument": true
  },
  {
    "__docId__": 70,
    "kind": "member",
    "name": "gridHelper",
    "memberof": "js/app.js~App",
    "static": false,
    "longname": "js/app.js~App#gridHelper",
    "access": "public",
    "description": null,
    "lineNumber": 77,
    "undocument": true
  },
  {
    "__docId__": 71,
    "kind": "method",
    "name": "createCamera",
    "memberof": "js/app.js~App",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "js/app.js~App#createCamera",
    "access": "public",
    "description": null,
    "lineNumber": 84,
    "undocument": true
  },
  {
    "__docId__": 72,
    "kind": "member",
    "name": "fov",
    "memberof": "js/app.js~App",
    "static": false,
    "longname": "js/app.js~App#fov",
    "access": "public",
    "description": null,
    "lineNumber": 85,
    "undocument": true
  },
  {
    "__docId__": 73,
    "kind": "member",
    "name": "aspect",
    "memberof": "js/app.js~App",
    "static": false,
    "longname": "js/app.js~App#aspect",
    "access": "public",
    "description": null,
    "lineNumber": 86,
    "undocument": true
  },
  {
    "__docId__": 74,
    "kind": "member",
    "name": "near",
    "memberof": "js/app.js~App",
    "static": false,
    "longname": "js/app.js~App#near",
    "access": "public",
    "description": null,
    "lineNumber": 87,
    "undocument": true
  },
  {
    "__docId__": 75,
    "kind": "member",
    "name": "far",
    "memberof": "js/app.js~App",
    "static": false,
    "longname": "js/app.js~App#far",
    "access": "public",
    "description": null,
    "lineNumber": 88,
    "undocument": true
  },
  {
    "__docId__": 76,
    "kind": "member",
    "name": "camera",
    "memberof": "js/app.js~App",
    "static": false,
    "longname": "js/app.js~App#camera",
    "access": "public",
    "description": null,
    "lineNumber": 89,
    "undocument": true
  },
  {
    "__docId__": 77,
    "kind": "method",
    "name": "createLight",
    "memberof": "js/app.js~App",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "js/app.js~App#createLight",
    "access": "public",
    "description": null,
    "lineNumber": 95,
    "undocument": true
  },
  {
    "__docId__": 78,
    "kind": "member",
    "name": "intensity",
    "memberof": "js/app.js~App",
    "static": false,
    "longname": "js/app.js~App#intensity",
    "access": "public",
    "description": null,
    "lineNumber": 96,
    "undocument": true
  },
  {
    "__docId__": 79,
    "kind": "member",
    "name": "light",
    "memberof": "js/app.js~App",
    "static": false,
    "longname": "js/app.js~App#light",
    "access": "public",
    "description": null,
    "lineNumber": 97,
    "undocument": true
  },
  {
    "__docId__": 80,
    "kind": "method",
    "name": "render",
    "memberof": "js/app.js~App",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "js/app.js~App#render",
    "access": "public",
    "description": null,
    "lineNumber": 102,
    "undocument": true
  },
  {
    "__docId__": 81,
    "kind": "variable",
    "name": "notifier",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~notifier",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/app.js",
    "importStyle": "{notifier}",
    "description": null,
    "lineNumber": 123,
    "undocument": true
  },
  {
    "__docId__": 82,
    "kind": "variable",
    "name": "pi",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~pi",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/app.js",
    "importStyle": "{pi}",
    "description": null,
    "lineNumber": 221,
    "undocument": true
  },
  {
    "__docId__": 83,
    "kind": "function",
    "name": "loadFinishLine",
    "memberof": "js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/app.js~loadFinishLine",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/app.js",
    "importStyle": "{loadFinishLine}",
    "description": null,
    "lineNumber": 168,
    "undocument": true
  },
  {
    "__docId__": 84,
    "kind": "function",
    "name": "saveString",
    "memberof": "js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/app.js~saveString",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/app.js",
    "importStyle": "{saveString}",
    "description": null,
    "lineNumber": 239,
    "undocument": true
  },
  {
    "__docId__": 85,
    "kind": "variable",
    "name": "guiTransform",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~guiTransform",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/app.js",
    "importStyle": "{guiTransform}",
    "description": null,
    "lineNumber": 210,
    "undocument": true
  },
  {
    "__docId__": 86,
    "kind": "variable",
    "name": "guiCamera",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~guiCamera",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/app.js",
    "importStyle": "{guiCamera}",
    "description": null,
    "lineNumber": 211,
    "undocument": true
  },
  {
    "__docId__": 87,
    "kind": "variable",
    "name": "guiTracks",
    "memberof": "js/app.js",
    "static": true,
    "longname": "js/app.js~guiTracks",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/app.js",
    "importStyle": "{guiTracks}",
    "description": null,
    "lineNumber": 213,
    "undocument": true
  },
  {
    "__docId__": 88,
    "kind": "file",
    "name": "js/editor/CarColor.js",
    "content": "import {\r\n    model\r\n} from '../app.js'\r\n\r\nconst colorGUI = new dat.GUI();\r\nexport function setCarColor() {\r\n\r\n    colorGUI.hide();\r\n\r\n    const params = {\r\n        color: \"#ffffff\",\r\n        metalness: 1,\r\n        roughness: 1\r\n    }\r\n\r\n    let carColor = colorGUI.addColor(params, 'color').listen()\r\n    let carMetalness = colorGUI.add(params, 'metalness', 0, 1, .1).listen()\r\n    let carRoughness = colorGUI.add(params, 'roughness', 0, 1, .1).listen()\r\n\r\n    const partName = 'Paint';\r\n    carColor.onChange((value) => model.getObjectByName(partName)\r\n        .children[0]\r\n        .material\r\n        .color.setHex(value.replace(\"#\", \"0x\")))\r\n\r\n    carMetalness.onChange((value) => model.getObjectByName(partName)\r\n        .children[0]\r\n        .material\r\n        .metalness = value)\r\n\r\n    carRoughness.onChange((value) => {\r\n        model.getObjectByName(partName)\r\n            .children[0]\r\n            .material\r\n            .roughness = value\r\n\r\n    })\r\n}\r\nexport {\r\n    colorGUI\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/editor/CarColor.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 89,
    "kind": "function",
    "name": "setCarColor",
    "memberof": "js/editor/CarColor.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/CarColor.js~setCarColor",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/CarColor.js",
    "importStyle": "{setCarColor}",
    "description": null,
    "lineNumber": 6,
    "undocument": true
  },
  {
    "__docId__": 90,
    "kind": "variable",
    "name": "colorGUI",
    "memberof": "js/editor/CarColor.js",
    "static": true,
    "longname": "js/editor/CarColor.js~colorGUI",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/CarColor.js",
    "importStyle": "{colorGUI}",
    "description": null,
    "lineNumber": 5,
    "undocument": true
  },
  {
    "__docId__": 91,
    "kind": "file",
    "name": "js/editor/ClickHandler.js",
    "content": "import {\r\n    MeshBasicMaterial\r\n} from \"../lib/three.module.js\";\r\nimport {\r\n    addBox,\r\n    addPlane,\r\n    addCone,\r\n    addCylinder\r\n} from '../editor/Shapes.js';\r\nimport {\r\n    scene,\r\n    loadFinishLine,\r\n    saveString\r\n} from \"../app.js\";\r\nimport {\r\n    addGuiTransform,\r\n    addGuiCamera,\r\n    addGuiCarParams\r\n} from '../editor/GuiManager.js';\r\n\r\nimport {\r\n    GLTFExporter\r\n} from 'https://threejsfundamentals.org/threejs/resources/threejs/r115/examples/jsm/exporters/GLTFExporter.js';\r\n\r\nimport {\r\n    guiTransform,\r\n    guiCamera,\r\n    guiCarParams\r\n} from '../app.js'\r\n\r\n\r\nexport function clickActions() {\r\n    const $entity = $('#entity');\r\n    const $camera = $('.camera');\r\n    const $car = $('#car');\r\n    const $addBox = $('#addBox');\r\n    const $addPlane = $('#addPlane');\r\n    const $addCone = $('#addCone');\r\n    const $addCylinder = $('#addCylinder');\r\n    const $addFinishLine = $('#addFinishLine');\r\n\r\n    const material = new MeshBasicMaterial();\r\n\r\n\r\n\r\n    $entity.click(() => {\r\n        guiTransform.show();\r\n        guiCamera.hide();\r\n        guiCarParams.hide();\r\n\r\n    });\r\n    $entity.one('click', () => addGuiTransform(guiTransform, model));\r\n\r\n    $camera.click(() => {\r\n        guiCamera.show();\r\n        guiCarParams.hide();\r\n        guiTransform.hide();\r\n\r\n    });\r\n    $camera.one('click', () => addGuiCamera(guiCamera));\r\n\r\n    $car.click(() => {\r\n\r\n        guiCarParams.show();\r\n        guiTransform.hide();\r\n        guiCamera.hide();\r\n\r\n    });\r\n    $car.one('click', () => addGuiCarParams(guiCarParams)\r\n\r\n    );\r\n\r\n    $addBox.one('click', () => {\r\n\r\n        const box = document.createElement('p');\r\n        box.textContent = 'box';\r\n        $('.hierarchy').append(box);\r\n    })\r\n    $addBox.click(() => {\r\n        addBox(material)\r\n        console.log(scene)\r\n    });\r\n\r\n    $addPlane.one('click', () => {\r\n\r\n        const plane = document.createElement('p');\r\n        plane.textContent = 'plane';\r\n        $('.hierarchy').append(plane);\r\n\r\n    })\r\n    $addPlane.click(() => addPlane(material))\r\n\r\n    $addCone.one('click', () => {\r\n\r\n        const cone = document.createElement('p');\r\n        cone.textContent = 'cone';\r\n        $('.hierarchy').append(cone);\r\n\r\n    })\r\n    $addCone.click(() => addCone(material))\r\n\r\n    $addCylinder.one('click', () => {\r\n\r\n        const cylinder = document.createElement('p');\r\n        cylinder.textContent = 'cylinder';\r\n        $('.hierarchy').append(cylinder);\r\n\r\n    })\r\n\r\n    $addCylinder.click(() => {\r\n        addCylinder('', material)\r\n\r\n    });\r\n\r\n    $addFinishLine.one('click', () => {\r\n        loadFinishLine()\r\n    })\r\n\r\n    $('#exportGltf').click(() => {\r\n        const exporter = new GLTFExporter();\r\n\r\n        function onExport(gltf) {\r\n            console.log(gltf);\r\n            const output = JSON.stringify(gltf, null, 2);\r\n\r\n            saveString(output, 'scene.gltf');\r\n        }\r\n        exporter.parse(scene, onExport);\r\n    })\r\n\r\n\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/editor/ClickHandler.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 92,
    "kind": "function",
    "name": "clickActions",
    "memberof": "js/editor/ClickHandler.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/ClickHandler.js~clickActions",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/ClickHandler.js",
    "importStyle": "{clickActions}",
    "description": null,
    "lineNumber": 32,
    "undocument": true
  },
  {
    "__docId__": 93,
    "kind": "file",
    "name": "js/editor/EntityTransform.js",
    "content": "import {\r\n    Transform\r\n} from './Transform.js';\r\n\r\nexport function displayEntity(model) {\r\n\r\n\r\n    function entityCallback() {\r\n\r\n        console.log('c')\r\n\r\n        const html = addTransformTpl(model);\r\n        $('.transform').append(html);\r\n\r\n        const posX = document.querySelector('#posX');\r\n        const posY = document.querySelector('#posY');\r\n        const posZ = document.querySelector('#posZ');\r\n\r\n        const rotX = document.querySelector('#rotX');\r\n        const rotY = document.querySelector('#rotY');\r\n        const rotZ = document.querySelector('#rotZ');\r\n\r\n        const scaleX = document.querySelector('#scaleX');\r\n        const scaleY = document.querySelector('#scaleY');\r\n        const scaleZ = document.querySelector('#scaleZ');\r\n\r\n        function setPos() {\r\n            Transform.setPosX(posX, model);\r\n            Transform.setPosY(posY, model);\r\n            Transform.setPosZ(posZ, model);\r\n        }\r\n\r\n        function setRot() {\r\n\r\n            Transform.setRotX(rotX, model);\r\n            Transform.setRotY(rotY, model);\r\n            Transform.setRotZ(rotZ, model);\r\n        }\r\n\r\n        function setScale() {\r\n\r\n            Transform.setScaleX(scaleX, model);\r\n            Transform.setScaleY(scaleY, model);\r\n            Transform.setScaleZ(scaleZ, model);\r\n        }\r\n        setPos();\r\n        setRot();\r\n        setScale();\r\n    }\r\n    // $('#entity').one('click', entityCallback);\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/editor/EntityTransform.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 94,
    "kind": "function",
    "name": "displayEntity",
    "memberof": "js/editor/EntityTransform.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/EntityTransform.js~displayEntity",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/EntityTransform.js",
    "importStyle": "{displayEntity}",
    "description": null,
    "lineNumber": 5,
    "undocument": true
  },
  {
    "__docId__": 95,
    "kind": "file",
    "name": "js/editor/GuiManager.js",
    "content": "import {\r\n    guiCarParams,\r\n    notifier,\r\n    camera\r\n} from '../app.js';\r\n/** \r\n * \r\n * \r\n * @param gui\r\n * @param model\r\n * \r\n */\r\nfunction addGuiTransform(gui, model) {\r\n    const fTrans = gui.addFolder('Transform');\r\n    const fPos = fTrans.addFolder('Position');\r\n    const fRot = fTrans.addFolder('Rotation');\r\n    const fScale = fTrans.addFolder('Scale');\r\n\r\n    const position = {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0,\r\n        resetPos: function() {\r\n            model.position.set(0, 0, 0);\r\n            position.x = 0;\r\n            position.y = 0;\r\n            position.z = 0;\r\n        }\r\n    };\r\n    const rotation = {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0,\r\n        resetRot: function() {\r\n            model.rotation.set(0, 0, 0);\r\n            rotation.x = 0;\r\n            rotation.y = 0;\r\n            rotation.z = 0;\r\n        }\r\n    };\r\n    const scale = {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0\r\n    };\r\n\r\n    let posX = fPos.add(position, 'x', -10, 10, .1).listen();\r\n    let posY = fPos.add(position, 'y', -10, 10, .1).listen();\r\n    let posZ = fPos.add(position, 'z', -10, 10, .1).listen();\r\n    fPos.add(position, 'resetPos');\r\n\r\n    let rotX = fRot.add(rotation, 'x', -4, 4, .05).listen();\r\n    let rotY = fRot.add(rotation, 'y', -4, 4, .05).listen();\r\n    let rotZ = fRot.add(rotation, 'z', -4, 4, .05).listen();\r\n    fRot.add(rotation, 'resetRot');\r\n\r\n    let scaleX = fScale.add(scale, 'x').listen();\r\n    let scaleY = fScale.add(scale, 'y').listen();\r\n    let scaleZ = fScale.add(scale, 'z').listen();\r\n\r\n    fTrans.open();\r\n\r\n    fPos.open();\r\n    fRot.open();\r\n    fScale.open();\r\n\r\n    posX.onChange(function(value) {\r\n        model.position.x = value;\r\n\r\n        console.log('x', value)\r\n    });\r\n\r\n    posY.onChange(function(value) {\r\n        model.position.y = value;\r\n    });\r\n\r\n    posZ.onChange(function(value) {\r\n        model.position.z = value;\r\n    });\r\n\r\n    rotX.onChange(function(value) {\r\n        model.rotation.x = value;\r\n    });\r\n\r\n    rotY.onChange(function(value) {\r\n        model.rotation.y = value;\r\n    });\r\n\r\n    rotZ.onChange(function(value) {\r\n        model.rotation.z = value;\r\n    });\r\n\r\n}\r\n/**\r\n * \r\n * @param  gui \r\n */\r\nfunction addGuiCamera(gui) {\r\n\r\n    const fTrans = gui.addFolder('Transform');\r\n    const fPos = fTrans.addFolder('Position');\r\n    const fRot = fTrans.addFolder('Rotation');\r\n\r\n    let {\r\n        name,\r\n        position,\r\n        rotation\r\n    } = camera;\r\n\r\n    const cameraParams = {\r\n        name,\r\n        cameraView: 'Near'\r\n    };\r\n\r\n    const pos = {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0,\r\n        resetPos: function() {\r\n            position.set(0, 0, 0);\r\n            pos.x = 0;\r\n            pos.y = 0;\r\n            pos.z = 0;\r\n        }\r\n    };\r\n    const rot = {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0,\r\n        resetRot: function() {\r\n            rotation.set(0, 0, 0);\r\n            rot.x = 0;\r\n            rot.y = 0;\r\n            rot.z = 0;\r\n        }\r\n    };\r\n\r\n    let posX = fPos.add(pos, 'x', -10, 10, .1).listen();\r\n    let posY = fPos.add(pos, 'y', -10, 10, .1).listen();\r\n    let posZ = fPos.add(pos, 'z', -10, 10, .1).listen();\r\n    fPos.add(pos, 'resetPos');\r\n\r\n    let rotX = fRot.add(rot, 'x', -4, 4).listen();\r\n    let rotY = fRot.add(rot, 'y', -4, 4).listen();\r\n    let rotZ = fRot.add(rot, 'z', -4, 4).listen();\r\n    fRot.add(rot, 'resetRot');\r\n\r\n    fTrans.open();\r\n\r\n    fPos.open();\r\n    fRot.open();\r\n\r\n    posX.onChange(function(value) {\r\n        position.x = value;\r\n    });\r\n\r\n    posY.onChange(function(value) {\r\n        position.y = value;\r\n    });\r\n\r\n    posZ.onChange(function(value) {\r\n        position.z = value;\r\n    });\r\n\r\n    rotX.onChange(function(value) {\r\n        rotation.x = value;\r\n    });\r\n\r\n    rotY.onChange(function(value) {\r\n        rotation.y = value;\r\n    });\r\n\r\n    rotZ.onChange(function(value) {\r\n        rotation.z = value;\r\n    });\r\n\r\n    const cameraView = [\r\n        'SideLeft',\r\n        'SideRight',\r\n        'Near',\r\n        'Far',\r\n        'Driver',\r\n        'Front',\r\n        'Bumper',\r\n        'Hood'\r\n    ];\r\n\r\n    let cameraViewValue = gui.add(cameraParams, 'cameraView', cameraView).listen();\r\n\r\n    cameraViewValue.onChange(function(value) {\r\n\r\n        if (value === 'Near') {\r\n            position.z = 5;\r\n\r\n            console.log('near');\r\n        } else if (value === 'Far') {\r\n            position.z = 10;\r\n            console.log('far');\r\n        } else if (value === 'SideLeft') {\r\n            console.log('side left');\r\n        } else if (value === 'SideRight') {\r\n            position.set(-5, 1, -2);\r\n            rotation.y = -2;\r\n            console.log('side right');\r\n        } else if (value === 'Driver') {\r\n            console.log('driver');\r\n        } else if (value === 'Front') {\r\n            console.log('front');\r\n        } else if (value === 'Bumper') {\r\n            console.log('bumper');\r\n        } else if (value === 'Hood') {\r\n            console.log('hood');\r\n        }\r\n    });\r\n\r\n}\r\n\r\n/**\r\n * \r\n * @param  gui \r\n */\r\nfunction addGuiCarParams(gui) {\r\n    const cars = [];\r\n\r\n\r\n    const carParams = {\r\n        make: '',\r\n        model: '',\r\n        topSpeed: 0,\r\n        acceleration: 0,\r\n        color: '',\r\n        hp: 0,\r\n        weight: 0,\r\n        wheelbase: 0,\r\n        rearTrack: 0,\r\n        turnRadius: 0,\r\n        wheelRadius: 0.0,\r\n        RPM: 0,\r\n        fuelConsumption: 0,\r\n        tireExploit: 0,\r\n        driveType: 'fwd',\r\n        transmission: 'AT',\r\n        carType: 'Racecar',\r\n        racingType: '',\r\n        differential: 'ClutchPack',\r\n        paint: 'Matte',\r\n        price: 'Usd',\r\n        isLocked: true,\r\n        isWon: false,\r\n        isUsed: false,\r\n        AImode: false,\r\n        generate: function() {\r\n            const carData = generateCarData();\r\n            cars.push(carData);\r\n            notifier.success('cars data added');\r\n\r\n        },\r\n        exportToJsonFile: function() {\r\n\r\n            const content = `<pre id=\"cars-json\">${JSON.stringify(cars, null, 3)}</pre> `\r\n            $('#exampleModalScrollable').modal();\r\n            document.querySelector('.modal-body').innerHTML = content;\r\n            $('#download').click(function() {\r\n                exportToJsonFile(cars);\r\n\r\n            });\r\n\r\n        }\r\n\r\n    };\r\n\r\n    const driveType = ['fwd', 'rwd', 'awd'];\r\n    const transmission = ['AT', 'MT'];\r\n    const carType = [\r\n        'Racecar',\r\n        'Supercar',\r\n        'Drift',\r\n        'Drag',\r\n        'Rally',\r\n        'Sports',\r\n        'Concept',\r\n        'Hypercar',\r\n        'Tuned'\r\n    ];\r\n    const racingType = [\r\n        'GTR',\r\n        'F1',\r\n        'Touring'\r\n    ];\r\n    const differential = ['ClutchPack',\r\n        'Locked', // drift\r\n        'Open',\r\n        'TorqueBias',\r\n        'Viscous'\r\n    ];\r\n\r\n    const paint = [\r\n        'Matte',\r\n        'Chrome',\r\n        'Metallic',\r\n        'Pearl',\r\n        'Solid'\r\n    ];\r\n    const price = ['Usd',\r\n        'Eur'\r\n    ];\r\n\r\n    const params = ['make',\r\n        'model', 'topSpeed', 'acceleration', 'color', 'hp', 'weight'\r\n    ];\r\n\r\n    const ackermannParams = [\r\n        'wheelbase',\r\n        'rearTrack',\r\n        'turnRadius',\r\n        'wheelRadius'\r\n\r\n    ];\r\n\r\n    const params2 = [\r\n        'RPM',\r\n        'fuelConsumption',\r\n        'tireExploit'\r\n    ];\r\n\r\n    const switchesArr = [\r\n        'isLocked',\r\n        'isWon',\r\n        'isUsed',\r\n        'AImode'\r\n    ];\r\n    const types = {\r\n        driveType,\r\n        carType,\r\n        racingType,\r\n        differential\r\n    };\r\n\r\n    function addParams() {\r\n        params.map(param => gui.add(carParams, param));\r\n\r\n        const ackermann = gui.addFolder('Ackermann steering');\r\n\r\n        ackermannParams.map(param => ackermann.add(carParams, param));\r\n        params2.map((param) => gui.add(carParams, param));\r\n        gui.add(carParams, 'transmission', transmission);\r\n        switchesArr.map(param => gui.add(carParams, param));\r\n\r\n        const fTypes = gui.addFolder('Types');\r\n\r\n        Object.entries(types).map(([key, value]) => fTypes.add(carParams, key, value));\r\n        gui.add(carParams, 'paint', paint);\r\n        gui.add(carParams, 'price', price);\r\n\r\n        gui.add(carParams, 'generate');\r\n        gui.add(carParams, 'exportToJsonFile').name('export to json');\r\n    }\r\n\r\n    addParams();\r\n\r\n}\r\n\r\nfunction generateCarData() {\r\n    const gui = guiCarParams;\r\n\r\n    return gui.__controllers[0].object;\r\n}\r\n\r\n/**\r\n * \r\n * @param  jsonData \r\n */\r\nfunction exportToJsonFile(jsonData) {\r\n    let dataStr = JSON.stringify(jsonData);\r\n    let dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr);\r\n\r\n    let exportFileDefaultName = 'data.json';\r\n\r\n    let linkElement = document.createElement('a');\r\n    linkElement.setAttribute('href', dataUri);\r\n    linkElement.setAttribute('download', exportFileDefaultName);\r\n    linkElement.click();\r\n}\r\n\r\nexport {\r\n    addGuiTransform,\r\n    addGuiCamera,\r\n    addGuiCarParams,\r\n    generateCarData,\r\n    exportToJsonFile\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/editor/GuiManager.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 96,
    "kind": "function",
    "name": "addGuiTransform",
    "memberof": "js/editor/GuiManager.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/GuiManager.js~addGuiTransform",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/GuiManager.js",
    "importStyle": "{addGuiTransform}",
    "description": "",
    "lineNumber": 13,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "gui",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "model",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 97,
    "kind": "function",
    "name": "addGuiCamera",
    "memberof": "js/editor/GuiManager.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/GuiManager.js~addGuiCamera",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/GuiManager.js",
    "importStyle": "{addGuiCamera}",
    "description": "",
    "lineNumber": 98,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "gui",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 98,
    "kind": "function",
    "name": "addGuiCarParams",
    "memberof": "js/editor/GuiManager.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/GuiManager.js~addGuiCarParams",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/GuiManager.js",
    "importStyle": "{addGuiCarParams}",
    "description": "",
    "lineNumber": 222,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "gui",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 99,
    "kind": "function",
    "name": "generateCarData",
    "memberof": "js/editor/GuiManager.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/GuiManager.js~generateCarData",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/GuiManager.js",
    "importStyle": "{generateCarData}",
    "description": null,
    "lineNumber": 363,
    "undocument": true
  },
  {
    "__docId__": 100,
    "kind": "function",
    "name": "exportToJsonFile",
    "memberof": "js/editor/GuiManager.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/GuiManager.js~exportToJsonFile",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/GuiManager.js",
    "importStyle": "{exportToJsonFile}",
    "description": "",
    "lineNumber": 373,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "jsonData",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 101,
    "kind": "file",
    "name": "js/editor/out/scripts/linenumber.js",
    "content": "/*global document */\n(() => {\n    const source = document.getElementsByClassName('prettyprint source linenums');\n    let i = 0;\n    let lineNumber = 0;\n    let lineId;\n    let lines;\n    let totalLines;\n    let anchorHash;\n\n    if (source && source[0]) {\n        anchorHash = document.location.hash.substring(1);\n        lines = source[0].getElementsByTagName('li');\n        totalLines = lines.length;\n\n        for (; i < totalLines; i++) {\n            lineNumber++;\n            lineId = `line${lineNumber}`;\n            lines[i].id = lineId;\n            if (lineId === anchorHash) {\n                lines[i].className += ' selected';\n            }\n        }\n    }\n})();\n",
    "static": true,
    "longname": "E:/rgnjs/js/editor/out/scripts/linenumber.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 102,
    "kind": "file",
    "name": "js/editor/out/scripts/prettify/lang-css.js",
    "content": "PR.registerLangHandler(PR.createSimpleLexer([[\"pln\",/^[\\t\\n\\f\\r ]+/,null,\" \\t\\r\\n\f\"]],[[\"str\",/^\"(?:[^\\n\\f\\r\"\\\\]|\\\\(?:\\r\\n?|\\n|\\f)|\\\\[\\S\\s])*\"/,null],[\"str\",/^'(?:[^\\n\\f\\r'\\\\]|\\\\(?:\\r\\n?|\\n|\\f)|\\\\[\\S\\s])*'/,null],[\"lang-css-str\",/^url\\(([^\"')]*)\\)/i],[\"kwd\",/^(?:url|rgb|!important|@import|@page|@media|@charset|inherit)(?=[^\\w-]|$)/i,null],[\"lang-css-kw\",/^(-?(?:[_a-z]|\\\\[\\da-f]+ ?)(?:[\\w-]|\\\\\\\\[\\da-f]+ ?)*)\\s*:/i],[\"com\",/^\\/\\*[^*]*\\*+(?:[^*/][^*]*\\*+)*\\//],[\"com\",\n/^(?:<\\!--|--\\>)/],[\"lit\",/^(?:\\d+|\\d*\\.\\d+)(?:%|[a-z]+)?/i],[\"lit\",/^#[\\da-f]{3,6}/i],[\"pln\",/^-?(?:[_a-z]|\\\\[\\da-f]+ ?)(?:[\\w-]|\\\\\\\\[\\da-f]+ ?)*/i],[\"pun\",/^[^\\s\\w\"']+/]]),[\"css\"]);PR.registerLangHandler(PR.createSimpleLexer([],[[\"kwd\",/^-?(?:[_a-z]|\\\\[\\da-f]+ ?)(?:[\\w-]|\\\\\\\\[\\da-f]+ ?)*/i]]),[\"css-kw\"]);PR.registerLangHandler(PR.createSimpleLexer([],[[\"str\",/^[^\"')]+/]]),[\"css-str\"]);\n",
    "static": true,
    "longname": "E:/rgnjs/js/editor/out/scripts/prettify/lang-css.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 103,
    "kind": "file",
    "name": "js/editor/out/scripts/prettify/prettify.js",
    "content": "var q=null;window.PR_SHOULD_USE_CONTINUATION=!0;\n(function(){function L(a){function m(a){var f=a.charCodeAt(0);if(f!==92)return f;var b=a.charAt(1);return(f=r[b])?f:\"0\"<=b&&b<=\"7\"?parseInt(a.substring(1),8):b===\"u\"||b===\"x\"?parseInt(a.substring(2),16):a.charCodeAt(1)}function e(a){if(a<32)return(a<16?\"\\\\x0\":\"\\\\x\")+a.toString(16);a=String.fromCharCode(a);if(a===\"\\\\\"||a===\"-\"||a===\"[\"||a===\"]\")a=\"\\\\\"+a;return a}function h(a){for(var f=a.substring(1,a.length-1).match(/\\\\u[\\dA-Fa-f]{4}|\\\\x[\\dA-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\S\\s]|[^\\\\]/g),a=\n[],b=[],o=f[0]===\"^\",c=o?1:0,i=f.length;c<i;++c){var j=f[c];if(/\\\\[bdsw]/i.test(j))a.push(j);else{var j=m(j),d;c+2<i&&\"-\"===f[c+1]?(d=m(f[c+2]),c+=2):d=j;b.push([j,d]);d<65||j>122||(d<65||j>90||b.push([Math.max(65,j)|32,Math.min(d,90)|32]),d<97||j>122||b.push([Math.max(97,j)&-33,Math.min(d,122)&-33]))}}b.sort(function(a,f){return a[0]-f[0]||f[1]-a[1]});f=[];j=[NaN,NaN];for(c=0;c<b.length;++c)i=b[c],i[0]<=j[1]+1?j[1]=Math.max(j[1],i[1]):f.push(j=i);b=[\"[\"];o&&b.push(\"^\");b.push.apply(b,a);for(c=0;c<\nf.length;++c)i=f[c],b.push(e(i[0])),i[1]>i[0]&&(i[1]+1>i[0]&&b.push(\"-\"),b.push(e(i[1])));b.push(\"]\");return b.join(\"\")}function y(a){for(var f=a.source.match(/\\[(?:[^\\\\\\]]|\\\\[\\S\\s])*]|\\\\u[\\dA-Fa-f]{4}|\\\\x[\\dA-Fa-f]{2}|\\\\\\d+|\\\\[^\\dux]|\\(\\?[!:=]|[()^]|[^()[\\\\^]+/g),b=f.length,d=[],c=0,i=0;c<b;++c){var j=f[c];j===\"(\"?++i:\"\\\\\"===j.charAt(0)&&(j=+j.substring(1))&&j<=i&&(d[j]=-1)}for(c=1;c<d.length;++c)-1===d[c]&&(d[c]=++t);for(i=c=0;c<b;++c)j=f[c],j===\"(\"?(++i,d[i]===void 0&&(f[c]=\"(?:\")):\"\\\\\"===j.charAt(0)&&\n(j=+j.substring(1))&&j<=i&&(f[c]=\"\\\\\"+d[i]);for(i=c=0;c<b;++c)\"^\"===f[c]&&\"^\"!==f[c+1]&&(f[c]=\"\");if(a.ignoreCase&&s)for(c=0;c<b;++c)j=f[c],a=j.charAt(0),j.length>=2&&a===\"[\"?f[c]=h(j):a!==\"\\\\\"&&(f[c]=j.replace(/[A-Za-z]/g,function(a){a=a.charCodeAt(0);return\"[\"+String.fromCharCode(a&-33,a|32)+\"]\"}));return f.join(\"\")}for(var t=0,s=!1,l=!1,p=0,d=a.length;p<d;++p){var g=a[p];if(g.ignoreCase)l=!0;else if(/[a-z]/i.test(g.source.replace(/\\\\u[\\da-f]{4}|\\\\x[\\da-f]{2}|\\\\[^UXux]/gi,\"\"))){s=!0;l=!1;break}}for(var r=\n{b:8,t:9,n:10,v:11,f:12,r:13},n=[],p=0,d=a.length;p<d;++p){g=a[p];if(g.global||g.multiline)throw Error(\"\"+g);n.push(\"(?:\"+y(g)+\")\")}return RegExp(n.join(\"|\"),l?\"gi\":\"g\")}function M(a){function m(a){switch(a.nodeType){case 1:if(e.test(a.className))break;for(var g=a.firstChild;g;g=g.nextSibling)m(g);g=a.nodeName;if(\"BR\"===g||\"LI\"===g)h[s]=\"\\n\",t[s<<1]=y++,t[s++<<1|1]=a;break;case 3:case 4:g=a.nodeValue,g.length&&(g=p?g.replace(/\\r\\n?/g,\"\\n\"):g.replace(/[\\t\\n\\r ]+/g,\" \"),h[s]=g,t[s<<1]=y,y+=g.length,\nt[s++<<1|1]=a)}}var e=/(?:^|\\s)nocode(?:\\s|$)/,h=[],y=0,t=[],s=0,l;a.currentStyle?l=a.currentStyle.whiteSpace:window.getComputedStyle&&(l=document.defaultView.getComputedStyle(a,q).getPropertyValue(\"white-space\"));var p=l&&\"pre\"===l.substring(0,3);m(a);return{a:h.join(\"\").replace(/\\n$/,\"\"),c:t}}function B(a,m,e,h){m&&(a={a:m,d:a},e(a),h.push.apply(h,a.e))}function x(a,m){function e(a){for(var l=a.d,p=[l,\"pln\"],d=0,g=a.a.match(y)||[],r={},n=0,z=g.length;n<z;++n){var f=g[n],b=r[f],o=void 0,c;if(typeof b===\n\"string\")c=!1;else{var i=h[f.charAt(0)];if(i)o=f.match(i[1]),b=i[0];else{for(c=0;c<t;++c)if(i=m[c],o=f.match(i[1])){b=i[0];break}o||(b=\"pln\")}if((c=b.length>=5&&\"lang-\"===b.substring(0,5))&&!(o&&typeof o[1]===\"string\"))c=!1,b=\"src\";c||(r[f]=b)}i=d;d+=f.length;if(c){c=o[1];var j=f.indexOf(c),k=j+c.length;o[2]&&(k=f.length-o[2].length,j=k-c.length);b=b.substring(5);B(l+i,f.substring(0,j),e,p);B(l+i+j,c,C(b,c),p);B(l+i+k,f.substring(k),e,p)}else p.push(l+i,b)}a.e=p}var h={},y;(function(){for(var e=a.concat(m),\nl=[],p={},d=0,g=e.length;d<g;++d){var r=e[d],n=r[3];if(n)for(var k=n.length;--k>=0;)h[n.charAt(k)]=r;r=r[1];n=\"\"+r;p.hasOwnProperty(n)||(l.push(r),p[n]=q)}l.push(/[\\S\\s]/);y=L(l)})();var t=m.length;return e}function u(a){var m=[],e=[];a.tripleQuotedStrings?m.push([\"str\",/^(?:'''(?:[^'\\\\]|\\\\[\\S\\s]|''?(?=[^']))*(?:'''|$)|\"\"\"(?:[^\"\\\\]|\\\\[\\S\\s]|\"\"?(?=[^\"]))*(?:\"\"\"|$)|'(?:[^'\\\\]|\\\\[\\S\\s])*(?:'|$)|\"(?:[^\"\\\\]|\\\\[\\S\\s])*(?:\"|$))/,q,\"'\\\"\"]):a.multiLineStrings?m.push([\"str\",/^(?:'(?:[^'\\\\]|\\\\[\\S\\s])*(?:'|$)|\"(?:[^\"\\\\]|\\\\[\\S\\s])*(?:\"|$)|`(?:[^\\\\`]|\\\\[\\S\\s])*(?:`|$))/,\nq,\"'\\\"`\"]):m.push([\"str\",/^(?:'(?:[^\\n\\r'\\\\]|\\\\.)*(?:'|$)|\"(?:[^\\n\\r\"\\\\]|\\\\.)*(?:\"|$))/,q,\"\\\"'\"]);a.verbatimStrings&&e.push([\"str\",/^@\"(?:[^\"]|\"\")*(?:\"|$)/,q]);var h=a.hashComments;h&&(a.cStyleComments?(h>1?m.push([\"com\",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,\"#\"]):m.push([\"com\",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\\b|[^\\n\\r]*)/,q,\"#\"]),e.push([\"str\",/^<(?:(?:(?:\\.\\.\\/)*|\\/?)(?:[\\w-]+(?:\\/[\\w-]+)+)?[\\w-]+\\.h|[a-z]\\w*)>/,q])):m.push([\"com\",/^#[^\\n\\r]*/,\nq,\"#\"]));a.cStyleComments&&(e.push([\"com\",/^\\/\\/[^\\n\\r]*/,q]),e.push([\"com\",/^\\/\\*[\\S\\s]*?(?:\\*\\/|$)/,q]));a.regexLiterals&&e.push([\"lang-regex\",/^(?:^^\\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\\(|\\*|\\*=|\\+=|,|-=|->|\\/|\\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\\^=|\\^\\^|\\^\\^=|{|\\||\\|=|\\|\\||\\|\\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*(\\/(?=[^*/])(?:[^/[\\\\]|\\\\[\\S\\s]|\\[(?:[^\\\\\\]]|\\\\[\\S\\s])*(?:]|$))+\\/)/]);(h=a.types)&&e.push([\"typ\",h]);a=(\"\"+a.keywords).replace(/^ | $/g,\n\"\");a.length&&e.push([\"kwd\",RegExp(\"^(?:\"+a.replace(/[\\s,]+/g,\"|\")+\")\\\\b\"),q]);m.push([\"pln\",/^\\s+/,q,\" \\r\\n\\t\\xa0\"]);e.push([\"lit\",/^@[$_a-z][\\w$@]*/i,q],[\"typ\",/^(?:[@_]?[A-Z]+[a-z][\\w$@]*|\\w+_t\\b)/,q],[\"pln\",/^[$_a-z][\\w$@]*/i,q],[\"lit\",/^(?:0x[\\da-f]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+-]?\\d+)?)[a-z]*/i,q,\"0123456789\"],[\"pln\",/^\\\\[\\S\\s]?/,q],[\"pun\",/^.[^\\s\\w\"-$'./@\\\\`]*/,q]);return x(m,e)}function D(a,m){function e(a){switch(a.nodeType){case 1:if(k.test(a.className))break;if(\"BR\"===a.nodeName)h(a),\na.parentNode&&a.parentNode.removeChild(a);else for(a=a.firstChild;a;a=a.nextSibling)e(a);break;case 3:case 4:if(p){var b=a.nodeValue,d=b.match(t);if(d){var c=b.substring(0,d.index);a.nodeValue=c;(b=b.substring(d.index+d[0].length))&&a.parentNode.insertBefore(s.createTextNode(b),a.nextSibling);h(a);c||a.parentNode.removeChild(a)}}}}function h(a){function b(a,d){var e=d?a.cloneNode(!1):a,f=a.parentNode;if(f){var f=b(f,1),g=a.nextSibling;f.appendChild(e);for(var h=g;h;h=g)g=h.nextSibling,f.appendChild(h)}return e}\nfor(;!a.nextSibling;)if(a=a.parentNode,!a)return;for(var a=b(a.nextSibling,0),e;(e=a.parentNode)&&e.nodeType===1;)a=e;d.push(a)}var k=/(?:^|\\s)nocode(?:\\s|$)/,t=/\\r\\n?|\\n/,s=a.ownerDocument,l;a.currentStyle?l=a.currentStyle.whiteSpace:window.getComputedStyle&&(l=s.defaultView.getComputedStyle(a,q).getPropertyValue(\"white-space\"));var p=l&&\"pre\"===l.substring(0,3);for(l=s.createElement(\"LI\");a.firstChild;)l.appendChild(a.firstChild);for(var d=[l],g=0;g<d.length;++g)e(d[g]);m===(m|0)&&d[0].setAttribute(\"value\",\nm);var r=s.createElement(\"OL\");r.className=\"linenums\";for(var n=Math.max(0,m-1|0)||0,g=0,z=d.length;g<z;++g)l=d[g],l.className=\"L\"+(g+n)%10,l.firstChild||l.appendChild(s.createTextNode(\"\\xa0\")),r.appendChild(l);a.appendChild(r)}function k(a,m){for(var e=m.length;--e>=0;){var h=m[e];A.hasOwnProperty(h)?window.console&&console.warn(\"cannot override language handler %s\",h):A[h]=a}}function C(a,m){if(!a||!A.hasOwnProperty(a))a=/^\\s*</.test(m)?\"default-markup\":\"default-code\";return A[a]}function E(a){var m=\na.g;try{var e=M(a.h),h=e.a;a.a=h;a.c=e.c;a.d=0;C(m,h)(a);var k=/\\bMSIE\\b/.test(navigator.userAgent),m=/\\n/g,t=a.a,s=t.length,e=0,l=a.c,p=l.length,h=0,d=a.e,g=d.length,a=0;d[g]=s;var r,n;for(n=r=0;n<g;)d[n]!==d[n+2]?(d[r++]=d[n++],d[r++]=d[n++]):n+=2;g=r;for(n=r=0;n<g;){for(var z=d[n],f=d[n+1],b=n+2;b+2<=g&&d[b+1]===f;)b+=2;d[r++]=z;d[r++]=f;n=b}for(d.length=r;h<p;){var o=l[h+2]||s,c=d[a+2]||s,b=Math.min(o,c),i=l[h+1],j;if(i.nodeType!==1&&(j=t.substring(e,b))){k&&(j=j.replace(m,\"\\r\"));i.nodeValue=\nj;var u=i.ownerDocument,v=u.createElement(\"SPAN\");v.className=d[a+1];var x=i.parentNode;x.replaceChild(v,i);v.appendChild(i);e<o&&(l[h+1]=i=u.createTextNode(t.substring(b,o)),x.insertBefore(i,v.nextSibling))}e=b;e>=o&&(h+=2);e>=c&&(a+=2)}}catch(w){\"console\"in window&&console.log(w&&w.stack?w.stack:w)}}var v=[\"break,continue,do,else,for,if,return,while\"],w=[[v,\"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile\"],\n\"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof\"],F=[w,\"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where\"],G=[w,\"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient\"],\nH=[G,\"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var\"],w=[w,\"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN\"],I=[v,\"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None\"],\nJ=[v,\"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END\"],v=[v,\"case,done,elif,esac,eval,fi,function,in,local,set,then,until\"],K=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\\d*)/,N=/\\S/,O=u({keywords:[F,H,w,\"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END\"+\nI,J,v],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),A={};k(O,[\"default-code\"]);k(x([],[[\"pln\",/^[^<?]+/],[\"dec\",/^<!\\w[^>]*(?:>|$)/],[\"com\",/^<\\!--[\\S\\s]*?(?:--\\>|$)/],[\"lang-\",/^<\\?([\\S\\s]+?)(?:\\?>|$)/],[\"lang-\",/^<%([\\S\\s]+?)(?:%>|$)/],[\"pun\",/^(?:<[%?]|[%?]>)/],[\"lang-\",/^<xmp\\b[^>]*>([\\S\\s]+?)<\\/xmp\\b[^>]*>/i],[\"lang-js\",/^<script\\b[^>]*>([\\S\\s]*?)(<\\/script\\b[^>]*>)/i],[\"lang-css\",/^<style\\b[^>]*>([\\S\\s]*?)(<\\/style\\b[^>]*>)/i],[\"lang-in.tag\",/^(<\\/?[a-z][^<>]*>)/i]]),\n[\"default-markup\",\"htm\",\"html\",\"mxml\",\"xhtml\",\"xml\",\"xsl\"]);k(x([[\"pln\",/^\\s+/,q,\" \\t\\r\\n\"],[\"atv\",/^(?:\"[^\"]*\"?|'[^']*'?)/,q,\"\\\"'\"]],[[\"tag\",/^^<\\/?[a-z](?:[\\w-.:]*\\w)?|\\/?>$/i],[\"atn\",/^(?!style[\\s=]|on)[a-z](?:[\\w:-]*\\w)?/i],[\"lang-uq.val\",/^=\\s*([^\\s\"'>]*(?:[^\\s\"'/>]|\\/(?=\\s)))/],[\"pun\",/^[/<->]+/],[\"lang-js\",/^on\\w+\\s*=\\s*\"([^\"]+)\"/i],[\"lang-js\",/^on\\w+\\s*=\\s*'([^']+)'/i],[\"lang-js\",/^on\\w+\\s*=\\s*([^\\s\"'>]+)/i],[\"lang-css\",/^style\\s*=\\s*\"([^\"]+)\"/i],[\"lang-css\",/^style\\s*=\\s*'([^']+)'/i],[\"lang-css\",\n/^style\\s*=\\s*([^\\s\"'>]+)/i]]),[\"in.tag\"]);k(x([],[[\"atv\",/^[\\S\\s]+/]]),[\"uq.val\"]);k(u({keywords:F,hashComments:!0,cStyleComments:!0,types:K}),[\"c\",\"cc\",\"cpp\",\"cxx\",\"cyc\",\"m\"]);k(u({keywords:\"null,true,false\"}),[\"json\"]);k(u({keywords:H,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:K}),[\"cs\"]);k(u({keywords:G,cStyleComments:!0}),[\"java\"]);k(u({keywords:v,hashComments:!0,multiLineStrings:!0}),[\"bsh\",\"csh\",\"sh\"]);k(u({keywords:I,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),\n[\"cv\",\"py\"]);k(u({keywords:\"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END\",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),[\"perl\",\"pl\",\"pm\"]);k(u({keywords:J,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),[\"rb\"]);k(u({keywords:w,cStyleComments:!0,regexLiterals:!0}),[\"js\"]);k(u({keywords:\"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes\",\nhashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),[\"coffee\"]);k(x([],[[\"str\",/^[\\S\\s]+/]]),[\"regex\"]);window.prettyPrintOne=function(a,m,e){var h=document.createElement(\"PRE\");h.innerHTML=a;e&&D(h,e);E({g:m,i:e,h:h});return h.innerHTML};window.prettyPrint=function(a){function m(){for(var e=window.PR_SHOULD_USE_CONTINUATION?l.now()+250:Infinity;p<h.length&&l.now()<e;p++){var n=h[p],k=n.className;if(k.indexOf(\"prettyprint\")>=0){var k=k.match(g),f,b;if(b=\n!k){b=n;for(var o=void 0,c=b.firstChild;c;c=c.nextSibling)var i=c.nodeType,o=i===1?o?b:c:i===3?N.test(c.nodeValue)?b:o:o;b=(f=o===b?void 0:o)&&\"CODE\"===f.tagName}b&&(k=f.className.match(g));k&&(k=k[1]);b=!1;for(o=n.parentNode;o;o=o.parentNode)if((o.tagName===\"pre\"||o.tagName===\"code\"||o.tagName===\"xmp\")&&o.className&&o.className.indexOf(\"prettyprint\")>=0){b=!0;break}b||((b=(b=n.className.match(/\\blinenums\\b(?::(\\d+))?/))?b[1]&&b[1].length?+b[1]:!0:!1)&&D(n,b),d={g:k,h:n,i:b},E(d))}}p<h.length?setTimeout(m,\n250):a&&a()}for(var e=[document.getElementsByTagName(\"pre\"),document.getElementsByTagName(\"code\"),document.getElementsByTagName(\"xmp\")],h=[],k=0;k<e.length;++k)for(var t=0,s=e[k].length;t<s;++t)h.push(e[k][t]);var e=q,l=Date;l.now||(l={now:function(){return+new Date}});var p=0,d,g=/\\blang(?:uage)?-([\\w.]+)(?!\\S)/;m()};window.PR={createSimpleLexer:x,registerLangHandler:k,sourceDecorator:u,PR_ATTRIB_NAME:\"atn\",PR_ATTRIB_VALUE:\"atv\",PR_COMMENT:\"com\",PR_DECLARATION:\"dec\",PR_KEYWORD:\"kwd\",PR_LITERAL:\"lit\",\nPR_NOCODE:\"nocode\",PR_PLAIN:\"pln\",PR_PUNCTUATION:\"pun\",PR_SOURCE:\"src\",PR_STRING:\"str\",PR_TAG:\"tag\",PR_TYPE:\"typ\"}})();\n",
    "static": true,
    "longname": "E:/rgnjs/js/editor/out/scripts/prettify/prettify.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 104,
    "kind": "variable",
    "name": "q",
    "memberof": "js/editor/out/scripts/prettify/prettify.js",
    "static": true,
    "longname": "js/editor/out/scripts/prettify/prettify.js~q",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/out/scripts/prettify/prettify.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 105,
    "kind": "file",
    "name": "js/editor/ParamsCalculator.js",
    "content": "import {\r\n    Car\r\n} from '../lib/rgn/Car.js';\r\nimport {\r\n    Suspension\r\n} from '../lib/rgn/CarParts/Suspension.js';\r\n\r\n\r\nfunction calculateSteering() {\r\n    const wheelBase = document.querySelector('#wheelBase2');\r\n    const rearTrack = document.querySelector('#rearTrack2');\r\n    const turnRadius = document.querySelector('#turnRadius2');\r\n\r\n    const resultSteering = document.querySelector('#result');\r\n\r\n\r\n    $('#calculate').click(() => {\r\n\r\n        let ackermann = Car.ackermannLeft(+wheelBase.value, +rearTrack.value, +turnRadius.value);\r\n        if (isNaN(ackermann)) {\r\n            return;\r\n        } else {\r\n\r\n            resultSteering.textContent = `${ackermann.toFixed(2)} degrees`;\r\n        }\r\n    });\r\n}\r\n\r\nfunction calculateSpringRate() {\r\n    const resSpringRate = document.querySelector('#resSpringRate');\r\n\r\n    const mass = document.querySelector('#mass');\r\n    const distance = document.querySelector('#distance');\r\n\r\n\r\n    $('#calcSpring').click(() => {\r\n        let springRate = Suspension.springRate(+mass.value, +distance.value);\r\n        if (isNaN(springRate)) {\r\n            return;\r\n        } else {\r\n            resSpringRate.textContent = `${springRate} N/mm`;\r\n        }\r\n    });\r\n}\r\n\r\nexport {\r\n    calculateSteering,\r\n    calculateSpringRate\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/editor/ParamsCalculator.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 106,
    "kind": "function",
    "name": "calculateSteering",
    "memberof": "js/editor/ParamsCalculator.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/ParamsCalculator.js~calculateSteering",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/ParamsCalculator.js",
    "importStyle": "{calculateSteering}",
    "description": null,
    "lineNumber": 9,
    "undocument": true
  },
  {
    "__docId__": 107,
    "kind": "function",
    "name": "calculateSpringRate",
    "memberof": "js/editor/ParamsCalculator.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/ParamsCalculator.js~calculateSpringRate",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/ParamsCalculator.js",
    "importStyle": "{calculateSpringRate}",
    "description": null,
    "lineNumber": 29,
    "undocument": true
  },
  {
    "__docId__": 108,
    "kind": "file",
    "name": "js/editor/Shapes.js",
    "content": "import {\r\n    BoxGeometry,\r\n    Mesh,\r\n    PlaneGeometry,\r\n    ConeGeometry,\r\n    CylinderGeometry\r\n} from '../lib/three.module.js';\r\nimport {\r\n    scene,\r\n    pi\r\n} from '../app.js';\r\n\r\n/**\r\n * \r\n * @param  material https://threejs.org/docs/#api/en/materials/Material\r\n */\r\nfunction addBox(material) {\r\n    const boxGeo = new BoxGeometry();\r\n    const box = new Mesh(boxGeo, material);\r\n    scene.add(box);\r\n    return box;\r\n}\r\n\r\n/**\r\n * \r\n * @param  material https://threejs.org/docs/#api/en/materials/Material\r\n */\r\nfunction addPlane(material) {\r\n    const planeGeo = new PlaneGeometry();\r\n    const plane = new Mesh(planeGeo, material);\r\n    scene.add(plane);\r\n    plane.rotation.x = pi / 2;\r\n    return plane;\r\n}\r\n/**\r\n * \r\n * @param  material https://threejs.org/docs/#api/en/materials/Material\r\n */\r\nfunction addCone(material) {\r\n    const coneGeo = new ConeGeometry();\r\n    const cone = new Mesh(coneGeo, material);\r\n    scene.add(cone);\r\n    return cone;\r\n}\r\n/**\r\n * \r\n * @param  material https://threejs.org/docs/#api/en/materials/Material\r\n */\r\nfunction addCylinder(name, material) {\r\n    const cylinderGeo = new CylinderGeometry();\r\n    const mesh = new Mesh(cylinderGeo, material);\r\n    mesh.name = name;\r\n    scene.add(mesh);\r\n    return mesh;\r\n}\r\n\r\nexport {\r\n    addBox,\r\n    addPlane,\r\n    addCone,\r\n    addCylinder\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/editor/Shapes.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 109,
    "kind": "function",
    "name": "addBox",
    "memberof": "js/editor/Shapes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/Shapes.js~addBox",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/Shapes.js",
    "importStyle": "{addBox}",
    "description": "",
    "lineNumber": 17,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "material",
        "description": "https://threejs.org/docs/#api/en/materials/Material"
      }
    ]
  },
  {
    "__docId__": 110,
    "kind": "function",
    "name": "addPlane",
    "memberof": "js/editor/Shapes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/Shapes.js~addPlane",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/Shapes.js",
    "importStyle": "{addPlane}",
    "description": "",
    "lineNumber": 28,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "material",
        "description": "https://threejs.org/docs/#api/en/materials/Material"
      }
    ]
  },
  {
    "__docId__": 111,
    "kind": "function",
    "name": "addCone",
    "memberof": "js/editor/Shapes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/Shapes.js~addCone",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/Shapes.js",
    "importStyle": "{addCone}",
    "description": "",
    "lineNumber": 39,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "material",
        "description": "https://threejs.org/docs/#api/en/materials/Material"
      }
    ]
  },
  {
    "__docId__": 112,
    "kind": "function",
    "name": "addCylinder",
    "memberof": "js/editor/Shapes.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/Shapes.js~addCylinder",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/Shapes.js",
    "importStyle": "{addCylinder}",
    "description": "",
    "lineNumber": 49,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "material",
        "description": "https://threejs.org/docs/#api/en/materials/Material"
      }
    ]
  },
  {
    "__docId__": 113,
    "kind": "file",
    "name": "js/editor/Template.js",
    "content": "function loadTemplate(iframeId, id) {\r\n    const iFrame = document.querySelector(iframeId);\r\n    if (!iFrame || !iFrame.contentDocument) {\r\n        console.log('missing iframe or iframe can not be retrieved ' + iframeId);\r\n        return \"\";\r\n    }\r\n\r\n    const el = iFrame.contentDocument.querySelector(id);\r\n    if (!el) {\r\n        console.log('iframe element can not be located ' + id);\r\n        return \"\";\r\n    }\r\n\r\n    return el;\r\n}\r\n\r\nfunction addCameraNameTpl(camera) {\r\n\r\n    const tpl = loadTemplate('#template-camera-name', '#camera-name');\r\n\r\n    const template = $(tpl).html();\r\n\r\n    // Compile the template data into a function\r\n    const templateScript = Handlebars.compile(template);\r\n\r\n    const context = {\r\n        \"name\": camera.name\r\n    };\r\n\r\n    const html = templateScript(context);\r\n\r\n    // Insert the HTML code into the page\r\n    $('.hierarchy').append(html);\r\n}\r\n\r\n\r\n\r\nexport {\r\n    addCameraNameTpl\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/editor/Template.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 114,
    "kind": "function",
    "name": "loadTemplate",
    "memberof": "js/editor/Template.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/Template.js~loadTemplate",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/Template.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 115,
    "kind": "function",
    "name": "addCameraNameTpl",
    "memberof": "js/editor/Template.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/Template.js~addCameraNameTpl",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/Template.js",
    "importStyle": "{addCameraNameTpl}",
    "description": null,
    "lineNumber": 17,
    "undocument": true
  },
  {
    "__docId__": 116,
    "kind": "file",
    "name": "js/editor/TrackCreator.js",
    "content": "import {\r\n    Vector3,\r\n    TubeBufferGeometry,\r\n    MeshBasicMaterial,\r\n    Mesh\r\n} from '../lib/three.module.js';\r\n\r\n\r\nimport {\r\n    scene,\r\n    pi\r\n} from '../app.js';\r\n\r\n/**\r\n * \r\n * @param  x1 x coord of 1st point\r\n * @param  x2 x coord of 2nd point\r\n * @param  x3 x coord of 3rd point\r\n * @param  adder the gap between y of 1st, 2nd, 3rd point\r\n * (the same with z) example adder=10 so 0,10,20 (if y1 is 0)\r\n * @param  y y coord of point\r\n * @param  z z coord of point\r\n * \r\n * @returns array of 3 points (line) \r\n */\r\nfunction addTurn(x1, x2, x3, adder, y, z = y) {\r\n    const line = [new Vector3(x1, y, z),\r\n        new Vector3(x2, y += adder, z += adder),\r\n        new Vector3(x3, y += adder, z += adder)\r\n    ]\r\n    return line;\r\n}\r\n\r\n/**\r\n * @param name name of track\r\n * @param  curve track path\r\n * @param  segments  https://threejs.org/docs/#api/en/geometries/TubeBufferGeometry\r\n * @param  radius  https://threejs.org/docs/#api/en/geometries/TubeBufferGeometry\r\n */\r\nfunction createTrack(name, curve, segments, radius) {\r\n\r\n    const tubeGeometry = new TubeBufferGeometry(curve, segments, 2, radius, false);\r\n\r\n    const mat = new MeshBasicMaterial({\r\n        color: 0x333333\r\n    });\r\n    const curveObject = new Mesh(tubeGeometry, mat);\r\n    curveObject.name = name;\r\n    scene.add(curveObject);\r\n\r\n    curveObject.rotation.x = pi / 4\r\n}\r\n\r\nexport {\r\n    addTurn,\r\n    createTrack\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/editor/TrackCreator.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 117,
    "kind": "function",
    "name": "addTurn",
    "memberof": "js/editor/TrackCreator.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/TrackCreator.js~addTurn",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/TrackCreator.js",
    "importStyle": "{addTurn}",
    "description": "",
    "lineNumber": 26,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "array of 3 points (line) "
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "x1",
        "description": "x coord of 1st point"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "x2",
        "description": "x coord of 2nd point"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "x3",
        "description": "x coord of 3rd point"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "adder",
        "description": "the gap between y of 1st, 2nd, 3rd point\n(the same with z) example adder=10 so 0,10,20 (if y1 is 0)"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "y",
        "description": "y coord of point"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "z",
        "description": "z coord of point"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "array of 3 points (line)"
    }
  },
  {
    "__docId__": 118,
    "kind": "function",
    "name": "createTrack",
    "memberof": "js/editor/TrackCreator.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/TrackCreator.js~createTrack",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/TrackCreator.js",
    "importStyle": "{createTrack}",
    "description": "",
    "lineNumber": 40,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "name of track"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "curve",
        "description": "track path"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "segments",
        "description": "https://threejs.org/docs/#api/en/geometries/TubeBufferGeometry"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "radius",
        "description": "https://threejs.org/docs/#api/en/geometries/TubeBufferGeometry"
      }
    ]
  },
  {
    "__docId__": 119,
    "kind": "file",
    "name": "js/editor/tracks/HardTrack.js",
    "content": "import {\r\n    addTurn\r\n} from \"../TrackCreator.js\";\r\n\r\nimport {\r\n    leftpart1,\r\n    leftpart2,\r\n    leftpart3,\r\n    leftpart4,\r\n    leftpart5,\r\n    leftpart6\r\n} from '../Turns.js'\r\n\r\nimport {\r\n    CatmullRomCurve3\r\n} from '../../lib/three.module.js'\r\n\r\nconst adder = 5;\r\n\r\n\r\nconst turnsArr = [\r\n\r\n    addTurn(leftpart1, leftpart2, leftpart3, adder, 220),\r\n    addTurn(leftpart1, leftpart2, leftpart3, adder, 250),\r\n    addTurn(leftpart1, leftpart2, leftpart3, adder, 300),\r\n    addTurn(leftpart1, leftpart2, leftpart3, adder, 500),\r\n    addTurn(leftpart4, leftpart5, leftpart6, adder, 600),\r\n    addTurn(leftpart1, leftpart2, leftpart3, adder, 700),\r\n    addTurn(leftpart4, leftpart5, leftpart6, adder, 900),\r\n    addTurn(leftpart4, leftpart5, leftpart6, adder, 1000),\r\n    addTurn(leftpart4, leftpart5, leftpart6, adder, 1200),\r\n    addTurn(leftpart4, leftpart5, leftpart6, adder, 1500),\r\n    addTurn(leftpart4, leftpart5, leftpart6, adder, 2000),\r\n    addTurn(leftpart4, leftpart5, leftpart6, adder, 2500),\r\n    addTurn(leftpart4, leftpart5, leftpart6, adder, 2600),\r\n\r\n    addTurn(100, 150, 200, 50, 4200),\r\n    addTurn(250, 300, 400, 50, 4500),\r\n    addTurn(500, 600, 800, 50, 5000),\r\n    addTurn(900, 1000, 1200, 50, 5500),\r\n    addTurn(1500, 1600, 1800, 50, 6000),\r\n\r\n]\r\n\r\nconst hardTrack = new CatmullRomCurve3(turnsArr.flat());\r\n\r\nhardTrack.closed = true;\r\n\r\nexport {\r\n    hardTrack\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/editor/tracks/HardTrack.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 120,
    "kind": "variable",
    "name": "adder",
    "memberof": "js/editor/tracks/HardTrack.js",
    "static": true,
    "longname": "js/editor/tracks/HardTrack.js~adder",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/HardTrack.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 121,
    "kind": "variable",
    "name": "turnsArr",
    "memberof": "js/editor/tracks/HardTrack.js",
    "static": true,
    "longname": "js/editor/tracks/HardTrack.js~turnsArr",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/HardTrack.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 122,
    "kind": "variable",
    "name": "hardTrack",
    "memberof": "js/editor/tracks/HardTrack.js",
    "static": true,
    "longname": "js/editor/tracks/HardTrack.js~hardTrack",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/tracks/HardTrack.js",
    "importStyle": "{hardTrack}",
    "description": null,
    "lineNumber": 45,
    "undocument": true
  },
  {
    "__docId__": 123,
    "kind": "file",
    "name": "js/editor/tracks/Riviera.js",
    "content": "import {\r\n    Vector3,\r\n    CatmullRomCurve3\r\n} from \"../../lib/three.module.js\";\r\n\r\n\r\nconst pi = Math.PI\r\n\r\n// riviera points\r\nlet point4 = new Vector3(-pi, 30, 30);\r\nlet point5 = new Vector3(-6 * pi, 40, 40);\r\nlet point6 = new Vector3(-pi, 140, 140);\r\nlet point7 = new Vector3(-5 * pi, 150, 150);\r\nlet point8 = new Vector3(pi, 170, 170);\r\nlet point9 = new Vector3(-2 * pi, 180, 180);\r\nlet point10 = new Vector3(2 * pi, 200, 200);\r\nlet point11 = new Vector3(-10 * pi, 210, 210);\r\nlet point12 = new Vector3(3 * pi, 220, 220);\r\nlet point13 = new Vector3(4 * pi, 250, 250);\r\nlet point14 = new Vector3(.5 * pi, 300, 300);\r\nlet point15 = new Vector3(-2 * pi, 310, 310);\r\nlet point16 = new Vector3(10 * pi, 320, 320);\r\nlet point17 = new Vector3(-5 * pi, 330, 330);\r\nlet point18 = new Vector3(5 * pi, 400, 400);\r\nlet point19 = new Vector3(10 * pi, 500, 500);\r\nlet point20 = new Vector3(50 * pi, 550, 550);\r\n\r\nconst rivieraTrack = new CatmullRomCurve3([\r\n    point4, point5, point6, point7, point8, point9, point10,\r\n    point11, point12, point13, point14, point15, point16, point17, point18, point19, point20\r\n\r\n]);\r\n\r\nrivieraTrack.curveType = 'catmullrom';\r\nrivieraTrack.closed = true;\r\n\r\n\r\nexport {\r\n    rivieraTrack\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/editor/tracks/Riviera.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 124,
    "kind": "variable",
    "name": "pi",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~pi",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 125,
    "kind": "variable",
    "name": "point4",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point4",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 126,
    "kind": "variable",
    "name": "point5",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point5",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 127,
    "kind": "variable",
    "name": "point6",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point6",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 128,
    "kind": "variable",
    "name": "point7",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point7",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 129,
    "kind": "variable",
    "name": "point8",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point8",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 130,
    "kind": "variable",
    "name": "point9",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point9",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 131,
    "kind": "variable",
    "name": "point10",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point10",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 132,
    "kind": "variable",
    "name": "point11",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point11",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 133,
    "kind": "variable",
    "name": "point12",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point12",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 134,
    "kind": "variable",
    "name": "point13",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point13",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 135,
    "kind": "variable",
    "name": "point14",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point14",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 136,
    "kind": "variable",
    "name": "point15",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point15",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 137,
    "kind": "variable",
    "name": "point16",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point16",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 138,
    "kind": "variable",
    "name": "point17",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point17",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 139,
    "kind": "variable",
    "name": "point18",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point18",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 24,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 140,
    "kind": "variable",
    "name": "point19",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point19",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 25,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 141,
    "kind": "variable",
    "name": "point20",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~point20",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 142,
    "kind": "variable",
    "name": "rivieraTrack",
    "memberof": "js/editor/tracks/Riviera.js",
    "static": true,
    "longname": "js/editor/tracks/Riviera.js~rivieraTrack",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/tracks/Riviera.js",
    "importStyle": "{rivieraTrack}",
    "description": null,
    "lineNumber": 28,
    "undocument": true
  },
  {
    "__docId__": 143,
    "kind": "file",
    "name": "js/editor/Transform.js",
    "content": "export class Transform {\r\n    constructor() {\r\n\r\n    }\r\n\r\n    static setPosX(transform, model) {\r\n        transform.addEventListener('keypress', e => {\r\n\r\n            let {\r\n                value\r\n            } = transform;\r\n            const enter = e.keyCode === 13;\r\n            const {\r\n                position\r\n            } = model;\r\n            if (enter) {\r\n                position.x = value;\r\n            }\r\n        });\r\n    }\r\n\r\n    static setPosY(transform, model) {\r\n        transform.addEventListener('keypress', e => {\r\n\r\n            let {\r\n                value\r\n            } = transform;\r\n\r\n            const enter = e.keyCode === 13;\r\n            const {\r\n                position\r\n            } = model;\r\n\r\n            if (enter) {\r\n                position.y = value;\r\n            }\r\n        });\r\n    }\r\n\r\n    static setPosZ(transform, model) {\r\n        transform.addEventListener('keypress', e => {\r\n\r\n            let {\r\n                value\r\n            } = transform;\r\n\r\n            const enter = e.keyCode === 13;\r\n            const {\r\n                position\r\n            } = model;\r\n\r\n            if (enter) {\r\n                position.z = value;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    static setRotX(transform, model) {\r\n        transform.addEventListener('keypress', e => {\r\n\r\n            let {\r\n                value\r\n            } = transform;\r\n\r\n            const enter = e.keyCode === 13;\r\n            const {\r\n                rotation\r\n            } = model;\r\n\r\n            if (enter) {\r\n                rotation.x = value;\r\n            }\r\n        });\r\n    }\r\n\r\n    static setRotY(transform, model) {\r\n        transform.addEventListener('keypress', e => {\r\n\r\n            let {\r\n                value\r\n            } = transform;\r\n\r\n            const enter = e.keyCode === 13;\r\n            const {\r\n                rotation\r\n            } = model;\r\n\r\n            if (enter) {\r\n                rotation.y = value;\r\n            }\r\n        });\r\n    }\r\n\r\n    static setRotZ(transform, model) {\r\n        transform.addEventListener('keypress', e => {\r\n\r\n            let {\r\n                value\r\n            } = transform;\r\n\r\n            const enter = e.keyCode === 13;\r\n            const {\r\n                rotation\r\n            } = model;\r\n\r\n            if (enter) {\r\n                rotation.z = value;\r\n            }\r\n        });\r\n    }\r\n\r\n    static setScaleX(transform, model) {\r\n        transform.addEventListener('keypress', e => {\r\n\r\n            let {\r\n                value\r\n            } = transform;\r\n\r\n            const enter = e.keyCode === 13;\r\n            const {\r\n                scale\r\n            } = model;\r\n\r\n            if (enter) {\r\n                scale.x = value;\r\n            }\r\n        });\r\n    }\r\n\r\n    static setScaleY(transform, model) {\r\n        transform.addEventListener('keypress', e => {\r\n\r\n            let {\r\n                value\r\n            } = transform;\r\n\r\n            const enter = e.keyCode === 13;\r\n            const {\r\n                scale\r\n            } = model;\r\n\r\n            if (enter) {\r\n                scale.y = value;\r\n            }\r\n        });\r\n    }\r\n    static setScaleZ(transform, model) {\r\n        transform.addEventListener('keypress', e => {\r\n\r\n            let {\r\n                value\r\n            } = transform;\r\n\r\n            const enter = e.keyCode === 13;\r\n            const {\r\n                scale\r\n            } = model;\r\n\r\n            if (enter) {\r\n                scale.z = value;\r\n            }\r\n        });\r\n    }\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/editor/Transform.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 144,
    "kind": "class",
    "name": "Transform",
    "memberof": "js/editor/Transform.js",
    "static": true,
    "longname": "js/editor/Transform.js~Transform",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/Transform.js",
    "importStyle": "{Transform}",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 145,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "js/editor/Transform.js~Transform",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "js/editor/Transform.js~Transform#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 2,
    "undocument": true
  },
  {
    "__docId__": 146,
    "kind": "method",
    "name": "setPosX",
    "memberof": "js/editor/Transform.js~Transform",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/Transform.js~Transform.setPosX",
    "access": "public",
    "description": null,
    "lineNumber": 6,
    "undocument": true
  },
  {
    "__docId__": 147,
    "kind": "method",
    "name": "setPosY",
    "memberof": "js/editor/Transform.js~Transform",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/Transform.js~Transform.setPosY",
    "access": "public",
    "description": null,
    "lineNumber": 22,
    "undocument": true
  },
  {
    "__docId__": 148,
    "kind": "method",
    "name": "setPosZ",
    "memberof": "js/editor/Transform.js~Transform",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/Transform.js~Transform.setPosZ",
    "access": "public",
    "description": null,
    "lineNumber": 40,
    "undocument": true
  },
  {
    "__docId__": 149,
    "kind": "method",
    "name": "setRotX",
    "memberof": "js/editor/Transform.js~Transform",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/Transform.js~Transform.setRotX",
    "access": "public",
    "description": null,
    "lineNumber": 59,
    "undocument": true
  },
  {
    "__docId__": 150,
    "kind": "method",
    "name": "setRotY",
    "memberof": "js/editor/Transform.js~Transform",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/Transform.js~Transform.setRotY",
    "access": "public",
    "description": null,
    "lineNumber": 77,
    "undocument": true
  },
  {
    "__docId__": 151,
    "kind": "method",
    "name": "setRotZ",
    "memberof": "js/editor/Transform.js~Transform",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/Transform.js~Transform.setRotZ",
    "access": "public",
    "description": null,
    "lineNumber": 95,
    "undocument": true
  },
  {
    "__docId__": 152,
    "kind": "method",
    "name": "setScaleX",
    "memberof": "js/editor/Transform.js~Transform",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/Transform.js~Transform.setScaleX",
    "access": "public",
    "description": null,
    "lineNumber": 113,
    "undocument": true
  },
  {
    "__docId__": 153,
    "kind": "method",
    "name": "setScaleY",
    "memberof": "js/editor/Transform.js~Transform",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/Transform.js~Transform.setScaleY",
    "access": "public",
    "description": null,
    "lineNumber": 131,
    "undocument": true
  },
  {
    "__docId__": 154,
    "kind": "method",
    "name": "setScaleZ",
    "memberof": "js/editor/Transform.js~Transform",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/editor/Transform.js~Transform.setScaleZ",
    "access": "public",
    "description": null,
    "lineNumber": 148,
    "undocument": true
  },
  {
    "__docId__": 155,
    "kind": "file",
    "name": "js/editor/Turns.js",
    "content": "import {\r\n    addTurn\r\n} from \"./TrackCreator.js\";\r\n\r\n\r\nconst pi = Math.PI\r\n\r\n\r\nconst trackParts = {\r\n    leftpart1: pi / 2,\r\n    leftpart2: pi,\r\n    leftpart3: pi * 2,\r\n    leftpart4: pi * 4,\r\n    leftpart5: pi * 8,\r\n    leftpart6: pi * 16,\r\n\r\n    rightpart1: -pi,\r\n    rightpart2: -pi * 2,\r\n    rightpart3: -pi * 4,\r\n    rightpart4: -pi * 6,\r\n    rightpart5: -pi * 8,\r\n    rightpart6: -pi * 16\r\n};\r\n\r\nexport const {\r\n    leftpart1,\r\n    leftpart2,\r\n    leftpart3,\r\n    leftpart4,\r\n    leftpart5,\r\n    leftpart6,\r\n    rightpart1,\r\n    rightpart2,\r\n    rightpart3,\r\n    rightpart4,\r\n    rightpart5,\r\n    rightpart6\r\n} = trackParts;\r\n\r\nlet y1 = 0;\r\n\r\nlet y2 = 0;\r\n\r\nconst adder = 5;\r\n// slight right\r\nconst rightSlight =\r\n    addTurn(rightpart1, rightpart2, rightpart3, adder, y1)\r\n// sharp right\r\nconst rightSharp =\r\n    addTurn(rightpart4, rightpart5, rightpart6, adder, y2)\r\n// slight left\r\nconst leftSlight =\r\n    addTurn(leftpart1, leftpart2, leftpart3, adder, y1)\r\n// sharp left\r\nconst leftSharp =\r\n    addTurn(leftpart4, leftpart5, leftpart6, adder, y2)\r\n\r\nconsole.table(leftSlight)\r\nconsole.table(leftSharp);\r\n\r\nconst turns = {\r\n    rightTurnSlight: rightSlight,\r\n    rightTurnSharp: rightSharp,\r\n    leftTurnSlight: leftSlight,\r\n    leftTurnSharp: leftSharp\r\n\r\n};\r\n\r\nconst {\r\n    rightTurnSlight,\r\n    rightTurnSharp,\r\n    leftTurnSlight,\r\n    leftTurnSharp\r\n} = turns;\r\n\r\n\r\n\r\nexport {\r\n    rightTurnSlight,\r\n    rightTurnSharp,\r\n    leftTurnSlight,\r\n    leftTurnSharp\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/editor/Turns.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 156,
    "kind": "variable",
    "name": "pi",
    "memberof": "js/editor/Turns.js",
    "static": true,
    "longname": "js/editor/Turns.js~pi",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/Turns.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 157,
    "kind": "variable",
    "name": "trackParts",
    "memberof": "js/editor/Turns.js",
    "static": true,
    "longname": "js/editor/Turns.js~trackParts",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/Turns.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 158,
    "kind": "variable",
    "name": "leftpart1",
    "memberof": "js/editor/Turns.js",
    "static": true,
    "longname": "js/editor/Turns.js~leftpart1",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/editor/Turns.js",
    "importStyle": "{leftpart1}",
    "description": null,
    "lineNumber": 25,
    "undocument": true
  },
  {
    "__docId__": 159,
    "kind": "variable",
    "name": "y1",
    "memberof": "js/editor/Turns.js",
    "static": true,
    "longname": "js/editor/Turns.js~y1",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/Turns.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 40,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 160,
    "kind": "variable",
    "name": "y2",
    "memberof": "js/editor/Turns.js",
    "static": true,
    "longname": "js/editor/Turns.js~y2",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/Turns.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 161,
    "kind": "variable",
    "name": "adder",
    "memberof": "js/editor/Turns.js",
    "static": true,
    "longname": "js/editor/Turns.js~adder",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/Turns.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 162,
    "kind": "variable",
    "name": "rightSlight",
    "memberof": "js/editor/Turns.js",
    "static": true,
    "longname": "js/editor/Turns.js~rightSlight",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/Turns.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 46,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 163,
    "kind": "variable",
    "name": "rightSharp",
    "memberof": "js/editor/Turns.js",
    "static": true,
    "longname": "js/editor/Turns.js~rightSharp",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/Turns.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 49,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 164,
    "kind": "variable",
    "name": "leftSlight",
    "memberof": "js/editor/Turns.js",
    "static": true,
    "longname": "js/editor/Turns.js~leftSlight",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/Turns.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 52,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 165,
    "kind": "variable",
    "name": "leftSharp",
    "memberof": "js/editor/Turns.js",
    "static": true,
    "longname": "js/editor/Turns.js~leftSharp",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/Turns.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 55,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 166,
    "kind": "variable",
    "name": "turns",
    "memberof": "js/editor/Turns.js",
    "static": true,
    "longname": "js/editor/Turns.js~turns",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/Turns.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 61,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 167,
    "kind": "variable",
    "name": "rightTurnSlight",
    "memberof": "js/editor/Turns.js",
    "static": true,
    "longname": "js/editor/Turns.js~rightTurnSlight",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/editor/Turns.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 69,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 168,
    "kind": "file",
    "name": "js/example/example.js",
    "content": "// example with lib\r\n\r\nimport {\r\n    Car\r\n} from '../lib/rgn/Car.js';\r\nimport {\r\n    Camera\r\n} from '../lib/rgn/Camera.js';\r\nimport {\r\n    Driver\r\n} from '../lib/rgn/Driver.js';\r\nimport {\r\n    Differential\r\n} from '../lib/rgn/CarParts/Differential.js';\r\n\r\nimport {\r\n    Maths\r\n} from '../lib/rgn/Maths.js';\r\nimport {\r\n    Suspension\r\n} from '../lib/rgn/CarParts/Suspension.js';\r\nimport {\r\n    Gearbox\r\n} from '../lib/rgn/CarParts/Gearbox.js';\r\n\r\nconst cam = new Camera();\r\n\r\nconst driver = new Driver();\r\n\r\nconst diff = new Differential();\r\n\r\nconst gearbox = new Gearbox();\r\n\r\nconst suspension = new Suspension();\r\n\r\nconst car = new Car();\r\n\r\nconst {\r\n    paint,\r\n    price,\r\n    carType,\r\n    driveType,\r\n    racingType,\r\n    safetySystems,\r\n    tireType,\r\n    transmissionType,\r\n    AImode,\r\n    RPM,\r\n    clutch,\r\n    color,\r\n    description,\r\n    differential,\r\n    distance,\r\n    fuelConsumption,\r\n    handling,\r\n    hp,\r\n    isLocked,\r\n    isUsed,\r\n    isWon,\r\n    make,\r\n    model,\r\n    rearTrack,\r\n    speed,\r\n    tireExploit,\r\n    topSpeed,\r\n    turnRadius,\r\n    weight,\r\n    wheelBase,\r\n    wheelColliders,\r\n    wheelRadius,\r\n    wheels\r\n} = car;\r\n\r\ndocument.querySelector('#ackermannLeft').textContent = Car.ackermannLeft(2, 2, 10);\r\ndocument.querySelector('#ackermannRight').textContent = Car.ackermannRight(2, 2, 10);\r\n\r\ndocument.querySelector('.randItem').textContent = Maths.randomItem(['viper', 'charger', 'mustang', 'z4']);\r\n\r\ndocument.querySelector('.kmhToMph').textContent = `${Car.kmhToMph(100)} mph`\r\ndocument.querySelector('.mphToKmh').textContent = `${Car.mphToKmh(100)} kmh`\r\n\r\ndocument.querySelector('.mToKm').textContent = `${Car.mToKm(1000)} km`\r\n\r\ndocument.querySelector('.mpsToKmh').textContent = `${Car.mpsToKmh(1)} kmh`\r\n\r\ndocument.querySelector('.compressionDistance').textContent = `${suspension.compressionDistance(1000, 9.81, 5000)}`\r\n\r\n// ------------Driver---------------\r\n\r\nconst {\r\n    exp,\r\n    level,\r\n    name\r\n} = driver\r\n\r\nconst {\r\n    type\r\n} = differential",
    "static": true,
    "longname": "E:/rgnjs/js/example/example.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 169,
    "kind": "variable",
    "name": "cam",
    "memberof": "js/example/example.js",
    "static": true,
    "longname": "js/example/example.js~cam",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/example/example.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 170,
    "kind": "variable",
    "name": "driver",
    "memberof": "js/example/example.js",
    "static": true,
    "longname": "js/example/example.js~driver",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/example/example.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 28,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 171,
    "kind": "variable",
    "name": "diff",
    "memberof": "js/example/example.js",
    "static": true,
    "longname": "js/example/example.js~diff",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/example/example.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 172,
    "kind": "variable",
    "name": "gearbox",
    "memberof": "js/example/example.js",
    "static": true,
    "longname": "js/example/example.js~gearbox",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/example/example.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 173,
    "kind": "variable",
    "name": "suspension",
    "memberof": "js/example/example.js",
    "static": true,
    "longname": "js/example/example.js~suspension",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/example/example.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 174,
    "kind": "variable",
    "name": "car",
    "memberof": "js/example/example.js",
    "static": true,
    "longname": "js/example/example.js~car",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/example/example.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 175,
    "kind": "variable",
    "name": "paint",
    "memberof": "js/example/example.js",
    "static": true,
    "longname": "js/example/example.js~paint",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/example/example.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 176,
    "kind": "variable",
    "name": "exp",
    "memberof": "js/example/example.js",
    "static": true,
    "longname": "js/example/example.js~exp",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/example/example.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 90,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 177,
    "kind": "variable",
    "name": "type",
    "memberof": "js/example/example.js",
    "static": true,
    "longname": "js/example/example.js~type",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/example/example.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 96,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 178,
    "kind": "file",
    "name": "js/lib/dat.gui.js",
    "content": "/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n(function(global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n        typeof define === 'function' && define.amd ? define(['exports'], factory) :\n        (factory((global.dat = {})));\n}(this, (function(exports) {\n    'use strict';\n\n    function ___$insertStyle(css) {\n        if (!css) {\n            return;\n        }\n        if (typeof window === 'undefined') {\n            return;\n        }\n\n        var style = document.createElement('style');\n\n        style.setAttribute('type', 'text/css');\n        style.innerHTML = css;\n        document.head.appendChild(style);\n\n        return css;\n    }\n\n    function colorToString(color, forceCSSHex) {\n        var colorFormat = color.__state.conversionName.toString();\n        var r = Math.round(color.r);\n        var g = Math.round(color.g);\n        var b = Math.round(color.b);\n        var a = color.a;\n        var h = Math.round(color.h);\n        var s = color.s.toFixed(1);\n        var v = color.v.toFixed(1);\n        if (forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX') {\n            var str = color.hex.toString(16);\n            while (str.length < 6) {\n                str = '0' + str;\n            }\n            return '#' + str;\n        } else if (colorFormat === 'CSS_RGB') {\n            return 'rgb(' + r + ',' + g + ',' + b + ')';\n        } else if (colorFormat === 'CSS_RGBA') {\n            return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n        } else if (colorFormat === 'HEX') {\n            return '0x' + color.hex.toString(16);\n        } else if (colorFormat === 'RGB_ARRAY') {\n            return '[' + r + ',' + g + ',' + b + ']';\n        } else if (colorFormat === 'RGBA_ARRAY') {\n            return '[' + r + ',' + g + ',' + b + ',' + a + ']';\n        } else if (colorFormat === 'RGB_OBJ') {\n            return '{r:' + r + ',g:' + g + ',b:' + b + '}';\n        } else if (colorFormat === 'RGBA_OBJ') {\n            return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n        } else if (colorFormat === 'HSV_OBJ') {\n            return '{h:' + h + ',s:' + s + ',v:' + v + '}';\n        } else if (colorFormat === 'HSVA_OBJ') {\n            return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n        }\n        return 'unknown format';\n    }\n\n    var ARR_EACH = Array.prototype.forEach;\n    var ARR_SLICE = Array.prototype.slice;\n    var Common = {\n        BREAK: {},\n        extend: function extend(target) {\n            this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n                var keys = this.isObject(obj) ? Object.keys(obj) : [];\n                keys.forEach(function(key) {\n                    if (!this.isUndefined(obj[key])) {\n                        target[key] = obj[key];\n                    }\n                }.bind(this));\n            }, this);\n            return target;\n        },\n        defaults: function defaults(target) {\n            this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n                var keys = this.isObject(obj) ? Object.keys(obj) : [];\n                keys.forEach(function(key) {\n                    if (this.isUndefined(target[key])) {\n                        target[key] = obj[key];\n                    }\n                }.bind(this));\n            }, this);\n            return target;\n        },\n        compose: function compose() {\n            var toCall = ARR_SLICE.call(arguments);\n            return function() {\n                var args = ARR_SLICE.call(arguments);\n                for (var i = toCall.length - 1; i >= 0; i--) {\n                    args = [toCall[i].apply(this, args)];\n                }\n                return args[0];\n            };\n        },\n        each: function each(obj, itr, scope) {\n            if (!obj) {\n                return;\n            }\n            if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {\n                obj.forEach(itr, scope);\n            } else if (obj.length === obj.length + 0) {\n                var key = void 0;\n                var l = void 0;\n                for (key = 0, l = obj.length; key < l; key++) {\n                    if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {\n                        return;\n                    }\n                }\n            } else {\n                for (var _key in obj) {\n                    if (itr.call(scope, obj[_key], _key) === this.BREAK) {\n                        return;\n                    }\n                }\n            }\n        },\n        defer: function defer(fnc) {\n            setTimeout(fnc, 0);\n        },\n        debounce: function debounce(func, threshold, callImmediately) {\n            var timeout = void 0;\n            return function() {\n                var obj = this;\n                var args = arguments;\n\n                function delayed() {\n                    timeout = null;\n                    if (!callImmediately) func.apply(obj, args);\n                }\n                var callNow = callImmediately || !timeout;\n                clearTimeout(timeout);\n                timeout = setTimeout(delayed, threshold);\n                if (callNow) {\n                    func.apply(obj, args);\n                }\n            };\n        },\n        toArray: function toArray(obj) {\n            if (obj.toArray) return obj.toArray();\n            return ARR_SLICE.call(obj);\n        },\n        isUndefined: function isUndefined(obj) {\n            return obj === undefined;\n        },\n        isNull: function isNull(obj) {\n            return obj === null;\n        },\n        isNaN: function(_isNaN) {\n            function isNaN(_x) {\n                return _isNaN.apply(this, arguments);\n            }\n            isNaN.toString = function() {\n                return _isNaN.toString();\n            };\n            return isNaN;\n        }(function(obj) {\n            return isNaN(obj);\n        }),\n        isArray: Array.isArray || function(obj) {\n            return obj.constructor === Array;\n        },\n        isObject: function isObject(obj) {\n            return obj === Object(obj);\n        },\n        isNumber: function isNumber(obj) {\n            return obj === obj + 0;\n        },\n        isString: function isString(obj) {\n            return obj === obj + '';\n        },\n        isBoolean: function isBoolean(obj) {\n            return obj === false || obj === true;\n        },\n        isFunction: function isFunction(obj) {\n            return obj instanceof Function;\n        }\n    };\n\n    var INTERPRETATIONS = [{\n            litmus: Common.isString,\n            conversions: {\n                THREE_CHAR_HEX: {\n                    read: function read(original) {\n                        var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n                        if (test === null) {\n                            return false;\n                        }\n                        return {\n                            space: 'HEX',\n                            hex: parseInt('0x' + test[1].toString() + test[1].toString() + test[2].toString() + test[2].toString() + test[3].toString() + test[3].toString(), 0)\n                        };\n                    },\n                    write: colorToString\n                },\n                SIX_CHAR_HEX: {\n                    read: function read(original) {\n                        var test = original.match(/^#([A-F0-9]{6})$/i);\n                        if (test === null) {\n                            return false;\n                        }\n                        return {\n                            space: 'HEX',\n                            hex: parseInt('0x' + test[1].toString(), 0)\n                        };\n                    },\n                    write: colorToString\n                },\n                CSS_RGB: {\n                    read: function read(original) {\n                        var test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n                        if (test === null) {\n                            return false;\n                        }\n                        return {\n                            space: 'RGB',\n                            r: parseFloat(test[1]),\n                            g: parseFloat(test[2]),\n                            b: parseFloat(test[3])\n                        };\n                    },\n                    write: colorToString\n                },\n                CSS_RGBA: {\n                    read: function read(original) {\n                        var test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n                        if (test === null) {\n                            return false;\n                        }\n                        return {\n                            space: 'RGB',\n                            r: parseFloat(test[1]),\n                            g: parseFloat(test[2]),\n                            b: parseFloat(test[3]),\n                            a: parseFloat(test[4])\n                        };\n                    },\n                    write: colorToString\n                }\n            }\n        },\n        {\n            litmus: Common.isNumber,\n            conversions: {\n                HEX: {\n                    read: function read(original) {\n                        return {\n                            space: 'HEX',\n                            hex: original,\n                            conversionName: 'HEX'\n                        };\n                    },\n                    write: function write(color) {\n                        return color.hex;\n                    }\n                }\n            }\n        },\n        {\n            litmus: Common.isArray,\n            conversions: {\n                RGB_ARRAY: {\n                    read: function read(original) {\n                        if (original.length !== 3) {\n                            return false;\n                        }\n                        return {\n                            space: 'RGB',\n                            r: original[0],\n                            g: original[1],\n                            b: original[2]\n                        };\n                    },\n                    write: function write(color) {\n                        return [color.r, color.g, color.b];\n                    }\n                },\n                RGBA_ARRAY: {\n                    read: function read(original) {\n                        if (original.length !== 4) return false;\n                        return {\n                            space: 'RGB',\n                            r: original[0],\n                            g: original[1],\n                            b: original[2],\n                            a: original[3]\n                        };\n                    },\n                    write: function write(color) {\n                        return [color.r, color.g, color.b, color.a];\n                    }\n                }\n            }\n        },\n        {\n            litmus: Common.isObject,\n            conversions: {\n                RGBA_OBJ: {\n                    read: function read(original) {\n                        if (Common.isNumber(original.r) && Common.isNumber(original.g) && Common.isNumber(original.b) && Common.isNumber(original.a)) {\n                            return {\n                                space: 'RGB',\n                                r: original.r,\n                                g: original.g,\n                                b: original.b,\n                                a: original.a\n                            };\n                        }\n                        return false;\n                    },\n                    write: function write(color) {\n                        return {\n                            r: color.r,\n                            g: color.g,\n                            b: color.b,\n                            a: color.a\n                        };\n                    }\n                },\n                RGB_OBJ: {\n                    read: function read(original) {\n                        if (Common.isNumber(original.r) && Common.isNumber(original.g) && Common.isNumber(original.b)) {\n                            return {\n                                space: 'RGB',\n                                r: original.r,\n                                g: original.g,\n                                b: original.b\n                            };\n                        }\n                        return false;\n                    },\n                    write: function write(color) {\n                        return {\n                            r: color.r,\n                            g: color.g,\n                            b: color.b\n                        };\n                    }\n                },\n                HSVA_OBJ: {\n                    read: function read(original) {\n                        if (Common.isNumber(original.h) && Common.isNumber(original.s) && Common.isNumber(original.v) && Common.isNumber(original.a)) {\n                            return {\n                                space: 'HSV',\n                                h: original.h,\n                                s: original.s,\n                                v: original.v,\n                                a: original.a\n                            };\n                        }\n                        return false;\n                    },\n                    write: function write(color) {\n                        return {\n                            h: color.h,\n                            s: color.s,\n                            v: color.v,\n                            a: color.a\n                        };\n                    }\n                },\n                HSV_OBJ: {\n                    read: function read(original) {\n                        if (Common.isNumber(original.h) && Common.isNumber(original.s) && Common.isNumber(original.v)) {\n                            return {\n                                space: 'HSV',\n                                h: original.h,\n                                s: original.s,\n                                v: original.v\n                            };\n                        }\n                        return false;\n                    },\n                    write: function write(color) {\n                        return {\n                            h: color.h,\n                            s: color.s,\n                            v: color.v\n                        };\n                    }\n                }\n            }\n        }\n    ];\n    var result = void 0;\n    var toReturn = void 0;\n    var interpret = function interpret() {\n        toReturn = false;\n        var original = arguments.length > 1 ? Common.toArray(arguments) : arguments[0];\n        Common.each(INTERPRETATIONS, function(family) {\n            if (family.litmus(original)) {\n                Common.each(family.conversions, function(conversion, conversionName) {\n                    result = conversion.read(original);\n                    if (toReturn === false && result !== false) {\n                        toReturn = result;\n                        result.conversionName = conversionName;\n                        result.conversion = conversion;\n                        return Common.BREAK;\n                    }\n                });\n                return Common.BREAK;\n            }\n        });\n        return toReturn;\n    };\n\n    var tmpComponent = void 0;\n    var ColorMath = {\n        hsv_to_rgb: function hsv_to_rgb(h, s, v) {\n            var hi = Math.floor(h / 60) % 6;\n            var f = h / 60 - Math.floor(h / 60);\n            var p = v * (1.0 - s);\n            var q = v * (1.0 - f * s);\n            var t = v * (1.0 - (1.0 - f) * s);\n            var c = [\n                [v, t, p],\n                [q, v, p],\n                [p, v, t],\n                [p, q, v],\n                [t, p, v],\n                [v, p, q]\n            ][hi];\n            return {\n                r: c[0] * 255,\n                g: c[1] * 255,\n                b: c[2] * 255\n            };\n        },\n        rgb_to_hsv: function rgb_to_hsv(r, g, b) {\n            var min = Math.min(r, g, b);\n            var max = Math.max(r, g, b);\n            var delta = max - min;\n            var h = void 0;\n            var s = void 0;\n            if (max !== 0) {\n                s = delta / max;\n            } else {\n                return {\n                    h: NaN,\n                    s: 0,\n                    v: 0\n                };\n            }\n            if (r === max) {\n                h = (g - b) / delta;\n            } else if (g === max) {\n                h = 2 + (b - r) / delta;\n            } else {\n                h = 4 + (r - g) / delta;\n            }\n            h /= 6;\n            if (h < 0) {\n                h += 1;\n            }\n            return {\n                h: h * 360,\n                s: s,\n                v: max / 255\n            };\n        },\n        rgb_to_hex: function rgb_to_hex(r, g, b) {\n            var hex = this.hex_with_component(0, 2, r);\n            hex = this.hex_with_component(hex, 1, g);\n            hex = this.hex_with_component(hex, 0, b);\n            return hex;\n        },\n        component_from_hex: function component_from_hex(hex, componentIndex) {\n            return hex >> componentIndex * 8 & 0xFF;\n        },\n        hex_with_component: function hex_with_component(hex, componentIndex, value) {\n            return value << (tmpComponent = componentIndex * 8) | hex & ~(0xFF << tmpComponent);\n        }\n    };\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function(obj) {\n        return typeof obj;\n    } : function(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n\n\n\n\n\n\n\n\n\n\n    var classCallCheck = function(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    };\n\n    var createClass = function() {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function(Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n\n\n\n\n\n\n    var get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n            var parent = Object.getPrototypeOf(object);\n\n            if (parent === null) {\n                return undefined;\n            } else {\n                return get(parent, property, receiver);\n            }\n        } else if (\"value\" in desc) {\n            return desc.value;\n        } else {\n            var getter = desc.get;\n\n            if (getter === undefined) {\n                return undefined;\n            }\n\n            return getter.call(receiver);\n        }\n    };\n\n    var inherits = function(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                enumerable: false,\n                writable: true,\n                configurable: true\n            }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n    };\n\n\n\n\n\n\n\n\n\n\n\n    var possibleConstructorReturn = function(self, call) {\n        if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n    };\n\n    var Color = function() {\n        function Color() {\n            classCallCheck(this, Color);\n            this.__state = interpret.apply(this, arguments);\n            if (this.__state === false) {\n                throw new Error('Failed to interpret color arguments');\n            }\n            this.__state.a = this.__state.a || 1;\n        }\n        createClass(Color, [{\n            key: 'toString',\n            value: function toString() {\n                return colorToString(this);\n            }\n        }, {\n            key: 'toHexString',\n            value: function toHexString() {\n                return colorToString(this, true);\n            }\n        }, {\n            key: 'toOriginal',\n            value: function toOriginal() {\n                return this.__state.conversion.write(this);\n            }\n        }]);\n        return Color;\n    }();\n\n    function defineRGBComponent(target, component, componentHexIndex) {\n        Object.defineProperty(target, component, {\n            get: function get$$1() {\n                if (this.__state.space === 'RGB') {\n                    return this.__state[component];\n                }\n                Color.recalculateRGB(this, component, componentHexIndex);\n                return this.__state[component];\n            },\n            set: function set$$1(v) {\n                if (this.__state.space !== 'RGB') {\n                    Color.recalculateRGB(this, component, componentHexIndex);\n                    this.__state.space = 'RGB';\n                }\n                this.__state[component] = v;\n            }\n        });\n    }\n\n    function defineHSVComponent(target, component) {\n        Object.defineProperty(target, component, {\n            get: function get$$1() {\n                if (this.__state.space === 'HSV') {\n                    return this.__state[component];\n                }\n                Color.recalculateHSV(this);\n                return this.__state[component];\n            },\n            set: function set$$1(v) {\n                if (this.__state.space !== 'HSV') {\n                    Color.recalculateHSV(this);\n                    this.__state.space = 'HSV';\n                }\n                this.__state[component] = v;\n            }\n        });\n    }\n    Color.recalculateRGB = function(color, component, componentHexIndex) {\n        if (color.__state.space === 'HEX') {\n            color.__state[component] = ColorMath.component_from_hex(color.__state.hex, componentHexIndex);\n        } else if (color.__state.space === 'HSV') {\n            Common.extend(color.__state, ColorMath.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n        } else {\n            throw new Error('Corrupted color state');\n        }\n    };\n    Color.recalculateHSV = function(color) {\n        var result = ColorMath.rgb_to_hsv(color.r, color.g, color.b);\n        Common.extend(color.__state, {\n            s: result.s,\n            v: result.v\n        });\n        if (!Common.isNaN(result.h)) {\n            color.__state.h = result.h;\n        } else if (Common.isUndefined(color.__state.h)) {\n            color.__state.h = 0;\n        }\n    };\n    Color.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];\n    defineRGBComponent(Color.prototype, 'r', 2);\n    defineRGBComponent(Color.prototype, 'g', 1);\n    defineRGBComponent(Color.prototype, 'b', 0);\n    defineHSVComponent(Color.prototype, 'h');\n    defineHSVComponent(Color.prototype, 's');\n    defineHSVComponent(Color.prototype, 'v');\n    Object.defineProperty(Color.prototype, 'a', {\n        get: function get$$1() {\n            return this.__state.a;\n        },\n        set: function set$$1(v) {\n            this.__state.a = v;\n        }\n    });\n    Object.defineProperty(Color.prototype, 'hex', {\n        get: function get$$1() {\n            if (this.__state.space !== 'HEX') {\n                this.__state.hex = ColorMath.rgb_to_hex(this.r, this.g, this.b);\n                this.__state.space = 'HEX';\n            }\n            return this.__state.hex;\n        },\n        set: function set$$1(v) {\n            this.__state.space = 'HEX';\n            this.__state.hex = v;\n        }\n    });\n\n    var Controller = function() {\n        function Controller(object, property) {\n            classCallCheck(this, Controller);\n            this.initialValue = object[property];\n            this.domElement = document.createElement('div');\n            this.object = object;\n            this.property = property;\n            this.__onChange = undefined;\n            this.__onFinishChange = undefined;\n        }\n        createClass(Controller, [{\n            key: 'onChange',\n            value: function onChange(fnc) {\n                this.__onChange = fnc;\n                return this;\n            }\n        }, {\n            key: 'onFinishChange',\n            value: function onFinishChange(fnc) {\n                this.__onFinishChange = fnc;\n                return this;\n            }\n        }, {\n            key: 'setValue',\n            value: function setValue(newValue) {\n                this.object[this.property] = newValue;\n                if (this.__onChange) {\n                    this.__onChange.call(this, newValue);\n                }\n                this.updateDisplay();\n                return this;\n            }\n        }, {\n            key: 'getValue',\n            value: function getValue() {\n                return this.object[this.property];\n            }\n        }, {\n            key: 'updateDisplay',\n            value: function updateDisplay() {\n                return this;\n            }\n        }, {\n            key: 'isModified',\n            value: function isModified() {\n                return this.initialValue !== this.getValue();\n            }\n        }]);\n        return Controller;\n    }();\n\n    var EVENT_MAP = {\n        HTMLEvents: ['change'],\n        MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],\n        KeyboardEvents: ['keydown']\n    };\n    var EVENT_MAP_INV = {};\n    Common.each(EVENT_MAP, function(v, k) {\n        Common.each(v, function(e) {\n            EVENT_MAP_INV[e] = k;\n        });\n    });\n    var CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\n\n    function cssValueToPixels(val) {\n        if (val === '0' || Common.isUndefined(val)) {\n            return 0;\n        }\n        var match = val.match(CSS_VALUE_PIXELS);\n        if (!Common.isNull(match)) {\n            return parseFloat(match[1]);\n        }\n        return 0;\n    }\n    var dom = {\n        makeSelectable: function makeSelectable(elem, selectable) {\n            if (elem === undefined || elem.style === undefined) return;\n            elem.onselectstart = selectable ? function() {\n                return false;\n            } : function() {};\n            elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n            elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n            elem.unselectable = selectable ? 'on' : 'off';\n        },\n        makeFullscreen: function makeFullscreen(elem, hor, vert) {\n            var vertical = vert;\n            var horizontal = hor;\n            if (Common.isUndefined(horizontal)) {\n                horizontal = true;\n            }\n            if (Common.isUndefined(vertical)) {\n                vertical = true;\n            }\n            elem.style.position = 'absolute';\n            if (horizontal) {\n                elem.style.left = 0;\n                elem.style.right = 0;\n            }\n            if (vertical) {\n                elem.style.top = 0;\n                elem.style.bottom = 0;\n            }\n        },\n        fakeEvent: function fakeEvent(elem, eventType, pars, aux) {\n            var params = pars || {};\n            var className = EVENT_MAP_INV[eventType];\n            if (!className) {\n                throw new Error('Event type ' + eventType + ' not supported.');\n            }\n            var evt = document.createEvent(className);\n            switch (className) {\n                case 'MouseEvents': {\n                    var clientX = params.x || params.clientX || 0;\n                    var clientY = params.y || params.clientY || 0;\n                    evt.initMouseEvent(eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0,\n                        0,\n                        clientX,\n                        clientY,\n                        false, false, false, false, 0, null);\n                    break;\n                }\n                case 'KeyboardEvents': {\n                    var init = evt.initKeyboardEvent || evt.initKeyEvent;\n                    Common.defaults(params, {\n                        cancelable: true,\n                        ctrlKey: false,\n                        altKey: false,\n                        shiftKey: false,\n                        metaKey: false,\n                        keyCode: undefined,\n                        charCode: undefined\n                    });\n                    init(eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode);\n                    break;\n                }\n                default: {\n                    evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);\n                    break;\n                }\n            }\n            Common.defaults(evt, aux);\n            elem.dispatchEvent(evt);\n        },\n        bind: function bind(elem, event, func, newBool) {\n            var bool = newBool || false;\n            if (elem.addEventListener) {\n                elem.addEventListener(event, func, bool);\n            } else if (elem.attachEvent) {\n                elem.attachEvent('on' + event, func);\n            }\n            return dom;\n        },\n        unbind: function unbind(elem, event, func, newBool) {\n            var bool = newBool || false;\n            if (elem.removeEventListener) {\n                elem.removeEventListener(event, func, bool);\n            } else if (elem.detachEvent) {\n                elem.detachEvent('on' + event, func);\n            }\n            return dom;\n        },\n        addClass: function addClass(elem, className) {\n            if (elem.className === undefined) {\n                elem.className = className;\n            } else if (elem.className !== className) {\n                var classes = elem.className.split(/ +/);\n                if (classes.indexOf(className) === -1) {\n                    classes.push(className);\n                    elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n                }\n            }\n            return dom;\n        },\n        removeClass: function removeClass(elem, className) {\n            if (className) {\n                if (elem.className === className) {\n                    elem.removeAttribute('class');\n                } else {\n                    var classes = elem.className.split(/ +/);\n                    var index = classes.indexOf(className);\n                    if (index !== -1) {\n                        classes.splice(index, 1);\n                        elem.className = classes.join(' ');\n                    }\n                }\n            } else {\n                elem.className = undefined;\n            }\n            return dom;\n        },\n        hasClass: function hasClass(elem, className) {\n            return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n        },\n        getWidth: function getWidth(elem) {\n            var style = getComputedStyle(elem);\n            return cssValueToPixels(style['border-left-width']) + cssValueToPixels(style['border-right-width']) + cssValueToPixels(style['padding-left']) + cssValueToPixels(style['padding-right']) + cssValueToPixels(style.width);\n        },\n        getHeight: function getHeight(elem) {\n            var style = getComputedStyle(elem);\n            return cssValueToPixels(style['border-top-width']) + cssValueToPixels(style['border-bottom-width']) + cssValueToPixels(style['padding-top']) + cssValueToPixels(style['padding-bottom']) + cssValueToPixels(style.height);\n        },\n        getOffset: function getOffset(el) {\n            var elem = el;\n            var offset = {\n                left: 0,\n                top: 0\n            };\n            if (elem.offsetParent) {\n                do {\n                    offset.left += elem.offsetLeft;\n                    offset.top += elem.offsetTop;\n                    elem = elem.offsetParent;\n                } while (elem);\n            }\n            return offset;\n        },\n        isActive: function isActive(elem) {\n            return elem === document.activeElement && (elem.type || elem.href);\n        }\n    };\n\n    var BooleanController = function(_Controller) {\n        inherits(BooleanController, _Controller);\n\n        function BooleanController(object, property) {\n            classCallCheck(this, BooleanController);\n            var _this2 = possibleConstructorReturn(this, (BooleanController.__proto__ || Object.getPrototypeOf(BooleanController)).call(this, object, property));\n            var _this = _this2;\n            _this2.__prev = _this2.getValue();\n            _this2.__checkbox = document.createElement('input');\n            _this2.__checkbox.setAttribute('type', 'checkbox');\n\n            function onChange() {\n                _this.setValue(!_this.__prev);\n            }\n            dom.bind(_this2.__checkbox, 'change', onChange, false);\n            _this2.domElement.appendChild(_this2.__checkbox);\n            _this2.updateDisplay();\n            return _this2;\n        }\n        createClass(BooleanController, [{\n            key: 'setValue',\n            value: function setValue(v) {\n                var toReturn = get(BooleanController.prototype.__proto__ || Object.getPrototypeOf(BooleanController.prototype), 'setValue', this).call(this, v);\n                if (this.__onFinishChange) {\n                    this.__onFinishChange.call(this, this.getValue());\n                }\n                this.__prev = this.getValue();\n                return toReturn;\n            }\n        }, {\n            key: 'updateDisplay',\n            value: function updateDisplay() {\n                if (this.getValue() === true) {\n                    this.__checkbox.setAttribute('checked', 'checked');\n                    this.__checkbox.checked = true;\n                    this.__prev = true;\n                } else {\n                    this.__checkbox.checked = false;\n                    this.__prev = false;\n                }\n                return get(BooleanController.prototype.__proto__ || Object.getPrototypeOf(BooleanController.prototype), 'updateDisplay', this).call(this);\n            }\n        }]);\n        return BooleanController;\n    }(Controller);\n\n    var OptionController = function(_Controller) {\n        inherits(OptionController, _Controller);\n\n        function OptionController(object, property, opts) {\n            classCallCheck(this, OptionController);\n            var _this2 = possibleConstructorReturn(this, (OptionController.__proto__ || Object.getPrototypeOf(OptionController)).call(this, object, property));\n            var options = opts;\n            var _this = _this2;\n            _this2.__select = document.createElement('select');\n            if (Common.isArray(options)) {\n                var map = {};\n                Common.each(options, function(element) {\n                    map[element] = element;\n                });\n                options = map;\n            }\n            Common.each(options, function(value, key) {\n                var opt = document.createElement('option');\n                opt.innerHTML = key;\n                opt.setAttribute('value', value);\n                _this.__select.appendChild(opt);\n            });\n            _this2.updateDisplay();\n            dom.bind(_this2.__select, 'change', function() {\n                var desiredValue = this.options[this.selectedIndex].value;\n                _this.setValue(desiredValue);\n            });\n            _this2.domElement.appendChild(_this2.__select);\n            return _this2;\n        }\n        createClass(OptionController, [{\n            key: 'setValue',\n            value: function setValue(v) {\n                var toReturn = get(OptionController.prototype.__proto__ || Object.getPrototypeOf(OptionController.prototype), 'setValue', this).call(this, v);\n                if (this.__onFinishChange) {\n                    this.__onFinishChange.call(this, this.getValue());\n                }\n                return toReturn;\n            }\n        }, {\n            key: 'updateDisplay',\n            value: function updateDisplay() {\n                if (dom.isActive(this.__select)) return this;\n                this.__select.value = this.getValue();\n                return get(OptionController.prototype.__proto__ || Object.getPrototypeOf(OptionController.prototype), 'updateDisplay', this).call(this);\n            }\n        }]);\n        return OptionController;\n    }(Controller);\n\n    var StringController = function(_Controller) {\n        inherits(StringController, _Controller);\n\n        function StringController(object, property) {\n            classCallCheck(this, StringController);\n            var _this2 = possibleConstructorReturn(this, (StringController.__proto__ || Object.getPrototypeOf(StringController)).call(this, object, property));\n            var _this = _this2;\n\n            function onChange() {\n                _this.setValue(_this.__input.value);\n            }\n\n            function onBlur() {\n                if (_this.__onFinishChange) {\n                    _this.__onFinishChange.call(_this, _this.getValue());\n                }\n            }\n            _this2.__input = document.createElement('input');\n            _this2.__input.setAttribute('type', 'text');\n            dom.bind(_this2.__input, 'keyup', onChange);\n            dom.bind(_this2.__input, 'change', onChange);\n            dom.bind(_this2.__input, 'blur', onBlur);\n            dom.bind(_this2.__input, 'keydown', function(e) {\n                if (e.keyCode === 13) {\n                    this.blur();\n                }\n            });\n            _this2.updateDisplay();\n            _this2.domElement.appendChild(_this2.__input);\n            return _this2;\n        }\n        createClass(StringController, [{\n            key: 'updateDisplay',\n            value: function updateDisplay() {\n                if (!dom.isActive(this.__input)) {\n                    this.__input.value = this.getValue();\n                }\n                return get(StringController.prototype.__proto__ || Object.getPrototypeOf(StringController.prototype), 'updateDisplay', this).call(this);\n            }\n        }]);\n        return StringController;\n    }(Controller);\n\n    function numDecimals(x) {\n        var _x = x.toString();\n        if (_x.indexOf('.') > -1) {\n            return _x.length - _x.indexOf('.') - 1;\n        }\n        return 0;\n    }\n    var NumberController = function(_Controller) {\n        inherits(NumberController, _Controller);\n\n        function NumberController(object, property, params) {\n            classCallCheck(this, NumberController);\n            var _this = possibleConstructorReturn(this, (NumberController.__proto__ || Object.getPrototypeOf(NumberController)).call(this, object, property));\n            var _params = params || {};\n            _this.__min = _params.min;\n            _this.__max = _params.max;\n            _this.__step = _params.step;\n            if (Common.isUndefined(_this.__step)) {\n                if (_this.initialValue === 0) {\n                    _this.__impliedStep = 1;\n                } else {\n                    _this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(_this.initialValue)) / Math.LN10)) / 10;\n                }\n            } else {\n                _this.__impliedStep = _this.__step;\n            }\n            _this.__precision = numDecimals(_this.__impliedStep);\n            return _this;\n        }\n        createClass(NumberController, [{\n            key: 'setValue',\n            value: function setValue(v) {\n                var _v = v;\n                if (this.__min !== undefined && _v < this.__min) {\n                    _v = this.__min;\n                } else if (this.__max !== undefined && _v > this.__max) {\n                    _v = this.__max;\n                }\n                if (this.__step !== undefined && _v % this.__step !== 0) {\n                    _v = Math.round(_v / this.__step) * this.__step;\n                }\n                return get(NumberController.prototype.__proto__ || Object.getPrototypeOf(NumberController.prototype), 'setValue', this).call(this, _v);\n            }\n        }, {\n            key: 'min',\n            value: function min(minValue) {\n                this.__min = minValue;\n                return this;\n            }\n        }, {\n            key: 'max',\n            value: function max(maxValue) {\n                this.__max = maxValue;\n                return this;\n            }\n        }, {\n            key: 'step',\n            value: function step(stepValue) {\n                this.__step = stepValue;\n                this.__impliedStep = stepValue;\n                this.__precision = numDecimals(stepValue);\n                return this;\n            }\n        }]);\n        return NumberController;\n    }(Controller);\n\n    function roundToDecimal(value, decimals) {\n        var tenTo = Math.pow(10, decimals);\n        return Math.round(value * tenTo) / tenTo;\n    }\n    var NumberControllerBox = function(_NumberController) {\n        inherits(NumberControllerBox, _NumberController);\n\n        function NumberControllerBox(object, property, params) {\n            classCallCheck(this, NumberControllerBox);\n            var _this2 = possibleConstructorReturn(this, (NumberControllerBox.__proto__ || Object.getPrototypeOf(NumberControllerBox)).call(this, object, property, params));\n            _this2.__truncationSuspended = false;\n            var _this = _this2;\n            var prevY = void 0;\n\n            function onChange() {\n                var attempted = parseFloat(_this.__input.value);\n                if (!Common.isNaN(attempted)) {\n                    _this.setValue(attempted);\n                }\n            }\n\n            function onFinish() {\n                if (_this.__onFinishChange) {\n                    _this.__onFinishChange.call(_this, _this.getValue());\n                }\n            }\n\n            function onBlur() {\n                onFinish();\n            }\n\n            function onMouseDrag(e) {\n                var diff = prevY - e.clientY;\n                _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n                prevY = e.clientY;\n            }\n\n            function onMouseUp() {\n                dom.unbind(window, 'mousemove', onMouseDrag);\n                dom.unbind(window, 'mouseup', onMouseUp);\n                onFinish();\n            }\n\n            function onMouseDown(e) {\n                dom.bind(window, 'mousemove', onMouseDrag);\n                dom.bind(window, 'mouseup', onMouseUp);\n                prevY = e.clientY;\n            }\n            _this2.__input = document.createElement('input');\n            _this2.__input.setAttribute('type', 'text');\n            dom.bind(_this2.__input, 'change', onChange);\n            dom.bind(_this2.__input, 'blur', onBlur);\n            dom.bind(_this2.__input, 'mousedown', onMouseDown);\n            dom.bind(_this2.__input, 'keydown', function(e) {\n                if (e.keyCode === 13) {\n                    _this.__truncationSuspended = true;\n                    this.blur();\n                    _this.__truncationSuspended = false;\n                    onFinish();\n                }\n            });\n            _this2.updateDisplay();\n            _this2.domElement.appendChild(_this2.__input);\n            return _this2;\n        }\n        createClass(NumberControllerBox, [{\n            key: 'updateDisplay',\n            value: function updateDisplay() {\n                this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n                return get(NumberControllerBox.prototype.__proto__ || Object.getPrototypeOf(NumberControllerBox.prototype), 'updateDisplay', this).call(this);\n            }\n        }]);\n        return NumberControllerBox;\n    }(NumberController);\n\n    function map(v, i1, i2, o1, o2) {\n        return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n    }\n    var NumberControllerSlider = function(_NumberController) {\n        inherits(NumberControllerSlider, _NumberController);\n\n        function NumberControllerSlider(object, property, min, max, step) {\n            classCallCheck(this, NumberControllerSlider);\n            var _this2 = possibleConstructorReturn(this, (NumberControllerSlider.__proto__ || Object.getPrototypeOf(NumberControllerSlider)).call(this, object, property, {\n                min: min,\n                max: max,\n                step: step\n            }));\n            var _this = _this2;\n            _this2.__background = document.createElement('div');\n            _this2.__foreground = document.createElement('div');\n            dom.bind(_this2.__background, 'mousedown', onMouseDown);\n            dom.bind(_this2.__background, 'touchstart', onTouchStart);\n            dom.addClass(_this2.__background, 'slider');\n            dom.addClass(_this2.__foreground, 'slider-fg');\n\n            function onMouseDown(e) {\n                document.activeElement.blur();\n                dom.bind(window, 'mousemove', onMouseDrag);\n                dom.bind(window, 'mouseup', onMouseUp);\n                onMouseDrag(e);\n            }\n\n            function onMouseDrag(e) {\n                e.preventDefault();\n                var bgRect = _this.__background.getBoundingClientRect();\n                _this.setValue(map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max));\n                return false;\n            }\n\n            function onMouseUp() {\n                dom.unbind(window, 'mousemove', onMouseDrag);\n                dom.unbind(window, 'mouseup', onMouseUp);\n                if (_this.__onFinishChange) {\n                    _this.__onFinishChange.call(_this, _this.getValue());\n                }\n            }\n\n            function onTouchStart(e) {\n                if (e.touches.length !== 1) {\n                    return;\n                }\n                dom.bind(window, 'touchmove', onTouchMove);\n                dom.bind(window, 'touchend', onTouchEnd);\n                onTouchMove(e);\n            }\n\n            function onTouchMove(e) {\n                var clientX = e.touches[0].clientX;\n                var bgRect = _this.__background.getBoundingClientRect();\n                _this.setValue(map(clientX, bgRect.left, bgRect.right, _this.__min, _this.__max));\n            }\n\n            function onTouchEnd() {\n                dom.unbind(window, 'touchmove', onTouchMove);\n                dom.unbind(window, 'touchend', onTouchEnd);\n                if (_this.__onFinishChange) {\n                    _this.__onFinishChange.call(_this, _this.getValue());\n                }\n            }\n            _this2.updateDisplay();\n            _this2.__background.appendChild(_this2.__foreground);\n            _this2.domElement.appendChild(_this2.__background);\n            return _this2;\n        }\n        createClass(NumberControllerSlider, [{\n            key: 'updateDisplay',\n            value: function updateDisplay() {\n                var pct = (this.getValue() - this.__min) / (this.__max - this.__min);\n                this.__foreground.style.width = pct * 100 + '%';\n                return get(NumberControllerSlider.prototype.__proto__ || Object.getPrototypeOf(NumberControllerSlider.prototype), 'updateDisplay', this).call(this);\n            }\n        }]);\n        return NumberControllerSlider;\n    }(NumberController);\n\n    var FunctionController = function(_Controller) {\n        inherits(FunctionController, _Controller);\n\n        function FunctionController(object, property, text) {\n            classCallCheck(this, FunctionController);\n            var _this2 = possibleConstructorReturn(this, (FunctionController.__proto__ || Object.getPrototypeOf(FunctionController)).call(this, object, property));\n            var _this = _this2;\n            _this2.__button = document.createElement('div');\n            _this2.__button.innerHTML = text === undefined ? 'Fire' : text;\n            dom.bind(_this2.__button, 'click', function(e) {\n                e.preventDefault();\n                _this.fire();\n                return false;\n            });\n            dom.addClass(_this2.__button, 'button');\n            _this2.domElement.appendChild(_this2.__button);\n            return _this2;\n        }\n        createClass(FunctionController, [{\n            key: 'fire',\n            value: function fire() {\n                if (this.__onChange) {\n                    this.__onChange.call(this);\n                }\n                this.getValue().call(this.object);\n                if (this.__onFinishChange) {\n                    this.__onFinishChange.call(this, this.getValue());\n                }\n            }\n        }]);\n        return FunctionController;\n    }(Controller);\n\n    var ColorController = function(_Controller) {\n        inherits(ColorController, _Controller);\n\n        function ColorController(object, property) {\n            classCallCheck(this, ColorController);\n            var _this2 = possibleConstructorReturn(this, (ColorController.__proto__ || Object.getPrototypeOf(ColorController)).call(this, object, property));\n            _this2.__color = new Color(_this2.getValue());\n            _this2.__temp = new Color(0);\n            var _this = _this2;\n            _this2.domElement = document.createElement('div');\n            dom.makeSelectable(_this2.domElement, false);\n            _this2.__selector = document.createElement('div');\n            _this2.__selector.className = 'selector';\n            _this2.__saturation_field = document.createElement('div');\n            _this2.__saturation_field.className = 'saturation-field';\n            _this2.__field_knob = document.createElement('div');\n            _this2.__field_knob.className = 'field-knob';\n            _this2.__field_knob_border = '2px solid ';\n            _this2.__hue_knob = document.createElement('div');\n            _this2.__hue_knob.className = 'hue-knob';\n            _this2.__hue_field = document.createElement('div');\n            _this2.__hue_field.className = 'hue-field';\n            _this2.__input = document.createElement('input');\n            _this2.__input.type = 'text';\n            _this2.__input_textShadow = '0 1px 1px ';\n            dom.bind(_this2.__input, 'keydown', function(e) {\n                if (e.keyCode === 13) {\n                    onBlur.call(this);\n                }\n            });\n            dom.bind(_this2.__input, 'blur', onBlur);\n            dom.bind(_this2.__selector, 'mousedown', function() {\n                dom.addClass(this, 'drag').bind(window, 'mouseup', function() {\n                    dom.removeClass(_this.__selector, 'drag');\n                });\n            });\n            dom.bind(_this2.__selector, 'touchstart', function() {\n                dom.addClass(this, 'drag').bind(window, 'touchend', function() {\n                    dom.removeClass(_this.__selector, 'drag');\n                });\n            });\n            var valueField = document.createElement('div');\n            Common.extend(_this2.__selector.style, {\n                width: '122px',\n                height: '102px',\n                padding: '3px',\n                backgroundColor: '#222',\n                boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n            });\n            Common.extend(_this2.__field_knob.style, {\n                position: 'absolute',\n                width: '12px',\n                height: '12px',\n                border: _this2.__field_knob_border + (_this2.__color.v < 0.5 ? '#fff' : '#000'),\n                boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n                borderRadius: '12px',\n                zIndex: 1\n            });\n            Common.extend(_this2.__hue_knob.style, {\n                position: 'absolute',\n                width: '15px',\n                height: '2px',\n                borderRight: '4px solid #fff',\n                zIndex: 1\n            });\n            Common.extend(_this2.__saturation_field.style, {\n                width: '100px',\n                height: '100px',\n                border: '1px solid #555',\n                marginRight: '3px',\n                display: 'inline-block',\n                cursor: 'pointer'\n            });\n            Common.extend(valueField.style, {\n                width: '100%',\n                height: '100%',\n                background: 'none'\n            });\n            linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');\n            Common.extend(_this2.__hue_field.style, {\n                width: '15px',\n                height: '100px',\n                border: '1px solid #555',\n                cursor: 'ns-resize',\n                position: 'absolute',\n                top: '3px',\n                right: '3px'\n            });\n            hueGradient(_this2.__hue_field);\n            Common.extend(_this2.__input.style, {\n                outline: 'none',\n                textAlign: 'center',\n                color: '#fff',\n                border: 0,\n                fontWeight: 'bold',\n                textShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'\n            });\n            dom.bind(_this2.__saturation_field, 'mousedown', fieldDown);\n            dom.bind(_this2.__saturation_field, 'touchstart', fieldDown);\n            dom.bind(_this2.__field_knob, 'mousedown', fieldDown);\n            dom.bind(_this2.__field_knob, 'touchstart', fieldDown);\n            dom.bind(_this2.__hue_field, 'mousedown', fieldDownH);\n            dom.bind(_this2.__hue_field, 'touchstart', fieldDownH);\n\n            function fieldDown(e) {\n                setSV(e);\n                dom.bind(window, 'mousemove', setSV);\n                dom.bind(window, 'touchmove', setSV);\n                dom.bind(window, 'mouseup', fieldUpSV);\n                dom.bind(window, 'touchend', fieldUpSV);\n            }\n\n            function fieldDownH(e) {\n                setH(e);\n                dom.bind(window, 'mousemove', setH);\n                dom.bind(window, 'touchmove', setH);\n                dom.bind(window, 'mouseup', fieldUpH);\n                dom.bind(window, 'touchend', fieldUpH);\n            }\n\n            function fieldUpSV() {\n                dom.unbind(window, 'mousemove', setSV);\n                dom.unbind(window, 'touchmove', setSV);\n                dom.unbind(window, 'mouseup', fieldUpSV);\n                dom.unbind(window, 'touchend', fieldUpSV);\n                onFinish();\n            }\n\n            function fieldUpH() {\n                dom.unbind(window, 'mousemove', setH);\n                dom.unbind(window, 'touchmove', setH);\n                dom.unbind(window, 'mouseup', fieldUpH);\n                dom.unbind(window, 'touchend', fieldUpH);\n                onFinish();\n            }\n\n            function onBlur() {\n                var i = interpret(this.value);\n                if (i !== false) {\n                    _this.__color.__state = i;\n                    _this.setValue(_this.__color.toOriginal());\n                } else {\n                    this.value = _this.__color.toString();\n                }\n            }\n\n            function onFinish() {\n                if (_this.__onFinishChange) {\n                    _this.__onFinishChange.call(_this, _this.__color.toOriginal());\n                }\n            }\n            _this2.__saturation_field.appendChild(valueField);\n            _this2.__selector.appendChild(_this2.__field_knob);\n            _this2.__selector.appendChild(_this2.__saturation_field);\n            _this2.__selector.appendChild(_this2.__hue_field);\n            _this2.__hue_field.appendChild(_this2.__hue_knob);\n            _this2.domElement.appendChild(_this2.__input);\n            _this2.domElement.appendChild(_this2.__selector);\n            _this2.updateDisplay();\n\n            function setSV(e) {\n                if (e.type.indexOf('touch') === -1) {\n                    e.preventDefault();\n                }\n                var fieldRect = _this.__saturation_field.getBoundingClientRect();\n                var _ref = e.touches && e.touches[0] || e,\n                    clientX = _ref.clientX,\n                    clientY = _ref.clientY;\n                var s = (clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);\n                var v = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n                if (v > 1) {\n                    v = 1;\n                } else if (v < 0) {\n                    v = 0;\n                }\n                if (s > 1) {\n                    s = 1;\n                } else if (s < 0) {\n                    s = 0;\n                }\n                _this.__color.v = v;\n                _this.__color.s = s;\n                _this.setValue(_this.__color.toOriginal());\n                return false;\n            }\n\n            function setH(e) {\n                if (e.type.indexOf('touch') === -1) {\n                    e.preventDefault();\n                }\n                var fieldRect = _this.__hue_field.getBoundingClientRect();\n                var _ref2 = e.touches && e.touches[0] || e,\n                    clientY = _ref2.clientY;\n                var h = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n                if (h > 1) {\n                    h = 1;\n                } else if (h < 0) {\n                    h = 0;\n                }\n                _this.__color.h = h * 360;\n                _this.setValue(_this.__color.toOriginal());\n                return false;\n            }\n            return _this2;\n        }\n        createClass(ColorController, [{\n            key: 'updateDisplay',\n            value: function updateDisplay() {\n                var i = interpret(this.getValue());\n                if (i !== false) {\n                    var mismatch = false;\n                    Common.each(Color.COMPONENTS, function(component) {\n                        if (!Common.isUndefined(i[component]) && !Common.isUndefined(this.__color.__state[component]) && i[component] !== this.__color.__state[component]) {\n                            mismatch = true;\n                            return {};\n                        }\n                    }, this);\n                    if (mismatch) {\n                        Common.extend(this.__color.__state, i);\n                    }\n                }\n                Common.extend(this.__temp.__state, this.__color.__state);\n                this.__temp.a = 1;\n                var flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;\n                var _flip = 255 - flip;\n                Common.extend(this.__field_knob.style, {\n                    marginLeft: 100 * this.__color.s - 7 + 'px',\n                    marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n                    backgroundColor: this.__temp.toHexString(),\n                    border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n                });\n                this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';\n                this.__temp.s = 1;\n                this.__temp.v = 1;\n                linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());\n                this.__input.value = this.__color.toString();\n                Common.extend(this.__input.style, {\n                    backgroundColor: this.__color.toHexString(),\n                    color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n                    textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n                });\n            }\n        }]);\n        return ColorController;\n    }(Controller);\n    var vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];\n\n    function linearGradient(elem, x, a, b) {\n        elem.style.background = '';\n        Common.each(vendors, function(vendor) {\n            elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n        });\n    }\n\n    function hueGradient(elem) {\n        elem.style.background = '';\n        elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n        elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n        elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n        elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n        elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n    }\n\n    var css = {\n        load: function load(url, indoc) {\n            var doc = indoc || document;\n            var link = doc.createElement('link');\n            link.type = 'text/css';\n            link.rel = 'stylesheet';\n            link.href = url;\n            doc.getElementsByTagName('head')[0].appendChild(link);\n        },\n        inject: function inject(cssContent, indoc) {\n            var doc = indoc || document;\n            var injected = document.createElement('style');\n            injected.type = 'text/css';\n            injected.innerHTML = cssContent;\n            var head = doc.getElementsByTagName('head')[0];\n            try {\n                head.appendChild(injected);\n            } catch (e) {}\n        }\n    };\n\n    var saveDialogContents = \"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>\";\n\n    var ControllerFactory = function ControllerFactory(object, property) {\n        var initialValue = object[property];\n        if (Common.isArray(arguments[2]) || Common.isObject(arguments[2])) {\n            return new OptionController(object, property, arguments[2]);\n        }\n        if (Common.isNumber(initialValue)) {\n            if (Common.isNumber(arguments[2]) && Common.isNumber(arguments[3])) {\n                if (Common.isNumber(arguments[4])) {\n                    return new NumberControllerSlider(object, property, arguments[2], arguments[3], arguments[4]);\n                }\n                return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n            }\n            if (Common.isNumber(arguments[4])) {\n                return new NumberControllerBox(object, property, {\n                    min: arguments[2],\n                    max: arguments[3],\n                    step: arguments[4]\n                });\n            }\n            return new NumberControllerBox(object, property, {\n                min: arguments[2],\n                max: arguments[3]\n            });\n        }\n        if (Common.isString(initialValue)) {\n            return new StringController(object, property);\n        }\n        if (Common.isFunction(initialValue)) {\n            return new FunctionController(object, property, '');\n        }\n        if (Common.isBoolean(initialValue)) {\n            return new BooleanController(object, property);\n        }\n        return null;\n    };\n\n    function requestAnimationFrame(callback) {\n        setTimeout(callback, 1000 / 60);\n    }\n    var requestAnimationFrame$1 = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;\n\n    var CenteredDiv = function() {\n        function CenteredDiv() {\n            classCallCheck(this, CenteredDiv);\n            this.backgroundElement = document.createElement('div');\n            Common.extend(this.backgroundElement.style, {\n                backgroundColor: 'rgba(0,0,0,0.8)',\n                top: 0,\n                left: 0,\n                display: 'none',\n                zIndex: '1000',\n                opacity: 0,\n                WebkitTransition: 'opacity 0.2s linear',\n                transition: 'opacity 0.2s linear'\n            });\n            dom.makeFullscreen(this.backgroundElement);\n            this.backgroundElement.style.position = 'fixed';\n            this.domElement = document.createElement('div');\n            Common.extend(this.domElement.style, {\n                position: 'fixed',\n                display: 'none',\n                zIndex: '1001',\n                opacity: 0,\n                WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n                transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n            });\n            document.body.appendChild(this.backgroundElement);\n            document.body.appendChild(this.domElement);\n            var _this = this;\n            dom.bind(this.backgroundElement, 'click', function() {\n                _this.hide();\n            });\n        }\n        createClass(CenteredDiv, [{\n            key: 'show',\n            value: function show() {\n                var _this = this;\n                this.backgroundElement.style.display = 'block';\n                this.domElement.style.display = 'block';\n                this.domElement.style.opacity = 0;\n                this.domElement.style.webkitTransform = 'scale(1.1)';\n                this.layout();\n                Common.defer(function() {\n                    _this.backgroundElement.style.opacity = 1;\n                    _this.domElement.style.opacity = 1;\n                    _this.domElement.style.webkitTransform = 'scale(1)';\n                });\n            }\n        }, {\n            key: 'hide',\n            value: function hide() {\n                var _this = this;\n                var hide = function hide() {\n                    _this.domElement.style.display = 'none';\n                    _this.backgroundElement.style.display = 'none';\n                    dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n                    dom.unbind(_this.domElement, 'transitionend', hide);\n                    dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n                };\n                dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n                dom.bind(this.domElement, 'transitionend', hide);\n                dom.bind(this.domElement, 'oTransitionEnd', hide);\n                this.backgroundElement.style.opacity = 0;\n                this.domElement.style.opacity = 0;\n                this.domElement.style.webkitTransform = 'scale(1.1)';\n            }\n        }, {\n            key: 'layout',\n            value: function layout() {\n                this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + 'px';\n                this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + 'px';\n            }\n        }]);\n        return CenteredDiv;\n    }();\n\n    var styleSheet = ___$insertStyle(\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\");\n\n    css.inject(styleSheet);\n    var CSS_NAMESPACE = 'dg';\n    var HIDE_KEY_CODE = 72;\n    var CLOSE_BUTTON_HEIGHT = 20;\n    var DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n    var SUPPORTS_LOCAL_STORAGE = function() {\n        try {\n            return !!window.localStorage;\n        } catch (e) {\n            return false;\n        }\n    }();\n    var SAVE_DIALOGUE = void 0;\n    var autoPlaceVirgin = true;\n    var autoPlaceContainer = void 0;\n    var hide = false;\n    var hideableGuis = [];\n    var GUI = function GUI(pars) {\n        var _this = this;\n        var params = pars || {};\n        this.domElement = document.createElement('div');\n        this.__ul = document.createElement('ul');\n        this.domElement.appendChild(this.__ul);\n        dom.addClass(this.domElement, CSS_NAMESPACE);\n        this.__folders = {};\n        this.__controllers = [];\n        this.__rememberedObjects = [];\n        this.__rememberedObjectIndecesToControllers = [];\n        this.__listening = [];\n        params = Common.defaults(params, {\n            closeOnTop: false,\n            autoPlace: true,\n            width: GUI.DEFAULT_WIDTH\n        });\n        params = Common.defaults(params, {\n            resizable: params.autoPlace,\n            hideable: params.autoPlace\n        });\n        if (!Common.isUndefined(params.load)) {\n            if (params.preset) {\n                params.load.preset = params.preset;\n            }\n        } else {\n            params.load = {\n                preset: DEFAULT_DEFAULT_PRESET_NAME\n            };\n        }\n        if (Common.isUndefined(params.parent) && params.hideable) {\n            hideableGuis.push(this);\n        }\n        params.resizable = Common.isUndefined(params.parent) && params.resizable;\n        if (params.autoPlace && Common.isUndefined(params.scrollable)) {\n            params.scrollable = true;\n        }\n        var useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n        var saveToLocalStorage = void 0;\n        var titleRow = void 0;\n        Object.defineProperties(this, {\n            parent: {\n                get: function get$$1() {\n                    return params.parent;\n                }\n            },\n            scrollable: {\n                get: function get$$1() {\n                    return params.scrollable;\n                }\n            },\n            autoPlace: {\n                get: function get$$1() {\n                    return params.autoPlace;\n                }\n            },\n            closeOnTop: {\n                get: function get$$1() {\n                    return params.closeOnTop;\n                }\n            },\n            preset: {\n                get: function get$$1() {\n                    if (_this.parent) {\n                        return _this.getRoot().preset;\n                    }\n                    return params.load.preset;\n                },\n                set: function set$$1(v) {\n                    if (_this.parent) {\n                        _this.getRoot().preset = v;\n                    } else {\n                        params.load.preset = v;\n                    }\n                    setPresetSelectIndex(this);\n                    _this.revert();\n                }\n            },\n            width: {\n                get: function get$$1() {\n                    return params.width;\n                },\n                set: function set$$1(v) {\n                    params.width = v;\n                    setWidth(_this, v);\n                }\n            },\n            name: {\n                get: function get$$1() {\n                    return params.name;\n                },\n                set: function set$$1(v) {\n                    params.name = v;\n                    if (titleRow) {\n                        titleRow.innerHTML = params.name;\n                    }\n                }\n            },\n            closed: {\n                get: function get$$1() {\n                    return params.closed;\n                },\n                set: function set$$1(v) {\n                    params.closed = v;\n                    if (params.closed) {\n                        dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n                    } else {\n                        dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n                    }\n                    this.onResize();\n                    if (_this.__closeButton) {\n                        _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n                    }\n                }\n            },\n            load: {\n                get: function get$$1() {\n                    return params.load;\n                }\n            },\n            useLocalStorage: {\n                get: function get$$1() {\n                    return useLocalStorage;\n                },\n                set: function set$$1(bool) {\n                    if (SUPPORTS_LOCAL_STORAGE) {\n                        useLocalStorage = bool;\n                        if (bool) {\n                            dom.bind(window, 'unload', saveToLocalStorage);\n                        } else {\n                            dom.unbind(window, 'unload', saveToLocalStorage);\n                        }\n                        localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n                    }\n                }\n            }\n        });\n        if (Common.isUndefined(params.parent)) {\n            this.closed = params.closed || false;\n            dom.addClass(this.domElement, GUI.CLASS_MAIN);\n            dom.makeSelectable(this.domElement, false);\n            if (SUPPORTS_LOCAL_STORAGE) {\n                if (useLocalStorage) {\n                    _this.useLocalStorage = true;\n                    var savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n                    if (savedGui) {\n                        params.load = JSON.parse(savedGui);\n                    }\n                }\n            }\n            this.__closeButton = document.createElement('div');\n            this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n            dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n            if (params.closeOnTop) {\n                dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);\n                this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);\n            } else {\n                dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);\n                this.domElement.appendChild(this.__closeButton);\n            }\n            dom.bind(this.__closeButton, 'click', function() {\n                _this.closed = !_this.closed;\n            });\n        } else {\n            if (params.closed === undefined) {\n                params.closed = true;\n            }\n            var titleRowName = document.createTextNode(params.name);\n            dom.addClass(titleRowName, 'controller-name');\n            titleRow = addRow(_this, titleRowName);\n            var onClickTitle = function onClickTitle(e) {\n                e.preventDefault();\n                _this.closed = !_this.closed;\n                return false;\n            };\n            dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n            dom.addClass(titleRow, 'title');\n            dom.bind(titleRow, 'click', onClickTitle);\n            if (!params.closed) {\n                this.closed = false;\n            }\n        }\n        if (params.autoPlace) {\n            if (Common.isUndefined(params.parent)) {\n                if (autoPlaceVirgin) {\n                    autoPlaceContainer = document.createElement('div');\n                    dom.addClass(autoPlaceContainer, CSS_NAMESPACE);\n                    dom.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);\n                    document.body.appendChild(autoPlaceContainer);\n                    autoPlaceVirgin = false;\n                }\n                autoPlaceContainer.appendChild(this.domElement);\n                dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n            }\n            if (!this.parent) {\n                setWidth(_this, params.width);\n            }\n        }\n        this.__resizeHandler = function() {\n            _this.onResizeDebounced();\n        };\n        dom.bind(window, 'resize', this.__resizeHandler);\n        dom.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);\n        dom.bind(this.__ul, 'transitionend', this.__resizeHandler);\n        dom.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);\n        this.onResize();\n        if (params.resizable) {\n            addResizeHandle(this);\n        }\n        saveToLocalStorage = function saveToLocalStorage() {\n            if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\n                localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n            }\n        };\n        this.saveToLocalStorageIfPossible = saveToLocalStorage;\n\n        function resetWidth() {\n            var root = _this.getRoot();\n            root.width += 1;\n            Common.defer(function() {\n                root.width -= 1;\n            });\n        }\n        if (!params.parent) {\n            resetWidth();\n        }\n    };\n    GUI.toggleHide = function() {\n        hide = !hide;\n        Common.each(hideableGuis, function(gui) {\n            gui.domElement.style.display = hide ? 'none' : '';\n        });\n    };\n    GUI.CLASS_AUTO_PLACE = 'a';\n    GUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\n    GUI.CLASS_MAIN = 'main';\n    GUI.CLASS_CONTROLLER_ROW = 'cr';\n    GUI.CLASS_TOO_TALL = 'taller-than-window';\n    GUI.CLASS_CLOSED = 'closed';\n    GUI.CLASS_CLOSE_BUTTON = 'close-button';\n    GUI.CLASS_CLOSE_TOP = 'close-top';\n    GUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\n    GUI.CLASS_DRAG = 'drag';\n    GUI.DEFAULT_WIDTH = 245;\n    GUI.TEXT_CLOSED = 'Close Controls';\n    GUI.TEXT_OPEN = 'Open Controls';\n    GUI._keydownHandler = function(e) {\n        if (document.activeElement.type !== 'text' && (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {\n            GUI.toggleHide();\n        }\n    };\n    dom.bind(window, 'keydown', GUI._keydownHandler, false);\n    Common.extend(GUI.prototype, {\n        add: function add(object, property) {\n            return _add(this, object, property, {\n                factoryArgs: Array.prototype.slice.call(arguments, 2)\n            });\n        },\n        addColor: function addColor(object, property) {\n            return _add(this, object, property, {\n                color: true\n            });\n        },\n        remove: function remove(controller) {\n            this.__ul.removeChild(controller.__li);\n            this.__controllers.splice(this.__controllers.indexOf(controller), 1);\n            var _this = this;\n            Common.defer(function() {\n                _this.onResize();\n            });\n        },\n        destroy: function destroy() {\n            if (this.parent) {\n                throw new Error('Only the root GUI should be removed with .destroy(). ' + 'For subfolders, use gui.removeFolder(folder) instead.');\n            }\n            if (this.autoPlace) {\n                autoPlaceContainer.removeChild(this.domElement);\n            }\n            var _this = this;\n            Common.each(this.__folders, function(subfolder) {\n                _this.removeFolder(subfolder);\n            });\n            dom.unbind(window, 'keydown', GUI._keydownHandler, false);\n            removeListeners(this);\n        },\n        addFolder: function addFolder(name) {\n            if (this.__folders[name] !== undefined) {\n                throw new Error('You already have a folder in this GUI by the' + ' name \"' + name + '\"');\n            }\n            var newGuiParams = {\n                name: name,\n                parent: this\n            };\n            newGuiParams.autoPlace = this.autoPlace;\n            if (this.load &&\n                this.load.folders &&\n                this.load.folders[name]) {\n                newGuiParams.closed = this.load.folders[name].closed;\n                newGuiParams.load = this.load.folders[name];\n            }\n            var gui = new GUI(newGuiParams);\n            this.__folders[name] = gui;\n            var li = addRow(this, gui.domElement);\n            dom.addClass(li, 'folder');\n            return gui;\n        },\n        removeFolder: function removeFolder(folder) {\n            this.__ul.removeChild(folder.domElement.parentElement);\n            delete this.__folders[folder.name];\n            if (this.load &&\n                this.load.folders &&\n                this.load.folders[folder.name]) {\n                delete this.load.folders[folder.name];\n            }\n            removeListeners(folder);\n            var _this = this;\n            Common.each(folder.__folders, function(subfolder) {\n                folder.removeFolder(subfolder);\n            });\n            Common.defer(function() {\n                _this.onResize();\n            });\n        },\n        open: function open() {\n            this.closed = false;\n        },\n        close: function close() {\n            this.closed = true;\n        },\n        hide: function hide() {\n            this.domElement.style.display = 'none';\n        },\n        show: function show() {\n            this.domElement.style.display = '';\n        },\n        onResize: function onResize() {\n            var root = this.getRoot();\n            if (root.scrollable) {\n                var top = dom.getOffset(root.__ul).top;\n                var h = 0;\n                Common.each(root.__ul.childNodes, function(node) {\n                    if (!(root.autoPlace && node === root.__save_row)) {\n                        h += dom.getHeight(node);\n                    }\n                });\n                if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n                    dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n                    root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n                } else {\n                    dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n                    root.__ul.style.height = 'auto';\n                }\n            }\n            if (root.__resize_handle) {\n                Common.defer(function() {\n                    root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n                });\n            }\n            if (root.__closeButton) {\n                root.__closeButton.style.width = root.width + 'px';\n            }\n        },\n        onResizeDebounced: Common.debounce(function() {\n            this.onResize();\n        }, 50),\n        remember: function remember() {\n            if (Common.isUndefined(SAVE_DIALOGUE)) {\n                SAVE_DIALOGUE = new CenteredDiv();\n                SAVE_DIALOGUE.domElement.innerHTML = saveDialogContents;\n            }\n            if (this.parent) {\n                throw new Error('You can only call remember on a top level GUI.');\n            }\n            var _this = this;\n            Common.each(Array.prototype.slice.call(arguments), function(object) {\n                if (_this.__rememberedObjects.length === 0) {\n                    addSaveMenu(_this);\n                }\n                if (_this.__rememberedObjects.indexOf(object) === -1) {\n                    _this.__rememberedObjects.push(object);\n                }\n            });\n            if (this.autoPlace) {\n                setWidth(this, this.width);\n            }\n        },\n        getRoot: function getRoot() {\n            var gui = this;\n            while (gui.parent) {\n                gui = gui.parent;\n            }\n            return gui;\n        },\n        getSaveObject: function getSaveObject() {\n            var toReturn = this.load;\n            toReturn.closed = this.closed;\n            if (this.__rememberedObjects.length > 0) {\n                toReturn.preset = this.preset;\n                if (!toReturn.remembered) {\n                    toReturn.remembered = {};\n                }\n                toReturn.remembered[this.preset] = getCurrentPreset(this);\n            }\n            toReturn.folders = {};\n            Common.each(this.__folders, function(element, key) {\n                toReturn.folders[key] = element.getSaveObject();\n            });\n            return toReturn;\n        },\n        save: function save() {\n            if (!this.load.remembered) {\n                this.load.remembered = {};\n            }\n            this.load.remembered[this.preset] = getCurrentPreset(this);\n            markPresetModified(this, false);\n            this.saveToLocalStorageIfPossible();\n        },\n        saveAs: function saveAs(presetName) {\n            if (!this.load.remembered) {\n                this.load.remembered = {};\n                this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n            }\n            this.load.remembered[presetName] = getCurrentPreset(this);\n            this.preset = presetName;\n            addPresetOption(this, presetName, true);\n            this.saveToLocalStorageIfPossible();\n        },\n        revert: function revert(gui) {\n            Common.each(this.__controllers, function(controller) {\n                if (!this.getRoot().load.remembered) {\n                    controller.setValue(controller.initialValue);\n                } else {\n                    recallSavedValue(gui || this.getRoot(), controller);\n                }\n                if (controller.__onFinishChange) {\n                    controller.__onFinishChange.call(controller, controller.getValue());\n                }\n            }, this);\n            Common.each(this.__folders, function(folder) {\n                folder.revert(folder);\n            });\n            if (!gui) {\n                markPresetModified(this.getRoot(), false);\n            }\n        },\n        listen: function listen(controller) {\n            var init = this.__listening.length === 0;\n            this.__listening.push(controller);\n            if (init) {\n                updateDisplays(this.__listening);\n            }\n        },\n        updateDisplay: function updateDisplay() {\n            Common.each(this.__controllers, function(controller) {\n                controller.updateDisplay();\n            });\n            Common.each(this.__folders, function(folder) {\n                folder.updateDisplay();\n            });\n        }\n    });\n\n    function addRow(gui, newDom, liBefore) {\n        var li = document.createElement('li');\n        if (newDom) {\n            li.appendChild(newDom);\n        }\n        if (liBefore) {\n            gui.__ul.insertBefore(li, liBefore);\n        } else {\n            gui.__ul.appendChild(li);\n        }\n        gui.onResize();\n        return li;\n    }\n\n    function removeListeners(gui) {\n        dom.unbind(window, 'resize', gui.__resizeHandler);\n        if (gui.saveToLocalStorageIfPossible) {\n            dom.unbind(window, 'unload', gui.saveToLocalStorageIfPossible);\n        }\n    }\n\n    function markPresetModified(gui, modified) {\n        var opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n        if (modified) {\n            opt.innerHTML = opt.value + '*';\n        } else {\n            opt.innerHTML = opt.value;\n        }\n    }\n\n    function augmentController(gui, li, controller) {\n        controller.__li = li;\n        controller.__gui = gui;\n        Common.extend(controller, {\n            options: function options(_options) {\n                if (arguments.length > 1) {\n                    var nextSibling = controller.__li.nextElementSibling;\n                    controller.remove();\n                    return _add(gui, controller.object, controller.property, {\n                        before: nextSibling,\n                        factoryArgs: [Common.toArray(arguments)]\n                    });\n                }\n                if (Common.isArray(_options) || Common.isObject(_options)) {\n                    var _nextSibling = controller.__li.nextElementSibling;\n                    controller.remove();\n                    return _add(gui, controller.object, controller.property, {\n                        before: _nextSibling,\n                        factoryArgs: [_options]\n                    });\n                }\n            },\n            name: function name(_name) {\n                controller.__li.firstElementChild.firstElementChild.innerHTML = _name;\n                return controller;\n            },\n            listen: function listen() {\n                controller.__gui.listen(controller);\n                return controller;\n            },\n            remove: function remove() {\n                controller.__gui.remove(controller);\n                return controller;\n            }\n        });\n        if (controller instanceof NumberControllerSlider) {\n            var box = new NumberControllerBox(controller.object, controller.property, {\n                min: controller.__min,\n                max: controller.__max,\n                step: controller.__step\n            });\n            Common.each(['updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max'], function(method) {\n                var pc = controller[method];\n                var pb = box[method];\n                controller[method] = box[method] = function() {\n                    var args = Array.prototype.slice.call(arguments);\n                    pb.apply(box, args);\n                    return pc.apply(controller, args);\n                };\n            });\n            dom.addClass(li, 'has-slider');\n            controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n        } else if (controller instanceof NumberControllerBox) {\n            var r = function r(returned) {\n                if (Common.isNumber(controller.__min) && Common.isNumber(controller.__max)) {\n                    var oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n                    var wasListening = controller.__gui.__listening.indexOf(controller) > -1;\n                    controller.remove();\n                    var newController = _add(gui, controller.object, controller.property, {\n                        before: controller.__li.nextElementSibling,\n                        factoryArgs: [controller.__min, controller.__max, controller.__step]\n                    });\n                    newController.name(oldName);\n                    if (wasListening) newController.listen();\n                    return newController;\n                }\n                return returned;\n            };\n            controller.min = Common.compose(r, controller.min);\n            controller.max = Common.compose(r, controller.max);\n        } else if (controller instanceof BooleanController) {\n            dom.bind(li, 'click', function() {\n                dom.fakeEvent(controller.__checkbox, 'click');\n            });\n            dom.bind(controller.__checkbox, 'click', function(e) {\n                e.stopPropagation();\n            });\n        } else if (controller instanceof FunctionController) {\n            dom.bind(li, 'click', function() {\n                dom.fakeEvent(controller.__button, 'click');\n            });\n            dom.bind(li, 'mouseover', function() {\n                dom.addClass(controller.__button, 'hover');\n            });\n            dom.bind(li, 'mouseout', function() {\n                dom.removeClass(controller.__button, 'hover');\n            });\n        } else if (controller instanceof ColorController) {\n            dom.addClass(li, 'color');\n            controller.updateDisplay = Common.compose(function(val) {\n                li.style.borderLeftColor = controller.__color.toString();\n                return val;\n            }, controller.updateDisplay);\n            controller.updateDisplay();\n        }\n        controller.setValue = Common.compose(function(val) {\n            if (gui.getRoot().__preset_select && controller.isModified()) {\n                markPresetModified(gui.getRoot(), true);\n            }\n            return val;\n        }, controller.setValue);\n    }\n\n    function recallSavedValue(gui, controller) {\n        var root = gui.getRoot();\n        var matchedIndex = root.__rememberedObjects.indexOf(controller.object);\n        if (matchedIndex !== -1) {\n            var controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];\n            if (controllerMap === undefined) {\n                controllerMap = {};\n                root.__rememberedObjectIndecesToControllers[matchedIndex] = controllerMap;\n            }\n            controllerMap[controller.property] = controller;\n            if (root.load && root.load.remembered) {\n                var presetMap = root.load.remembered;\n                var preset = void 0;\n                if (presetMap[gui.preset]) {\n                    preset = presetMap[gui.preset];\n                } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {\n                    preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];\n                } else {\n                    return;\n                }\n                if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {\n                    var value = preset[matchedIndex][controller.property];\n                    controller.initialValue = value;\n                    controller.setValue(value);\n                }\n            }\n        }\n    }\n\n    function _add(gui, object, property, params) {\n        if (object[property] === undefined) {\n            throw new Error('Object \"' + object + '\" has no property \"' + property + '\"');\n        }\n        var controller = void 0;\n        if (params.color) {\n            controller = new ColorController(object, property);\n        } else {\n            var factoryArgs = [object, property].concat(params.factoryArgs);\n            controller = ControllerFactory.apply(gui, factoryArgs);\n        }\n        if (params.before instanceof Controller) {\n            params.before = params.before.__li;\n        }\n        recallSavedValue(gui, controller);\n        dom.addClass(controller.domElement, 'c');\n        var name = document.createElement('span');\n        dom.addClass(name, 'property-name');\n        name.innerHTML = controller.property;\n        var container = document.createElement('div');\n        container.appendChild(name);\n        container.appendChild(controller.domElement);\n        var li = addRow(gui, container, params.before);\n        dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n        if (controller instanceof ColorController) {\n            dom.addClass(li, 'color');\n        } else {\n            dom.addClass(li, _typeof(controller.getValue()));\n        }\n        augmentController(gui, li, controller);\n        gui.__controllers.push(controller);\n        return controller;\n    }\n\n    function getLocalStorageHash(gui, key) {\n        return document.location.href + '.' + key;\n    }\n\n    function addPresetOption(gui, name, setSelected) {\n        var opt = document.createElement('option');\n        opt.innerHTML = name;\n        opt.value = name;\n        gui.__preset_select.appendChild(opt);\n        if (setSelected) {\n            gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n        }\n    }\n\n    function showHideExplain(gui, explain) {\n        explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n    }\n\n    function addSaveMenu(gui) {\n        var div = gui.__save_row = document.createElement('li');\n        dom.addClass(gui.domElement, 'has-save');\n        gui.__ul.insertBefore(div, gui.__ul.firstChild);\n        dom.addClass(div, 'save-row');\n        var gears = document.createElement('span');\n        gears.innerHTML = '&nbsp;';\n        dom.addClass(gears, 'button gears');\n        var button = document.createElement('span');\n        button.innerHTML = 'Save';\n        dom.addClass(button, 'button');\n        dom.addClass(button, 'save');\n        var button2 = document.createElement('span');\n        button2.innerHTML = 'New';\n        dom.addClass(button2, 'button');\n        dom.addClass(button2, 'save-as');\n        var button3 = document.createElement('span');\n        button3.innerHTML = 'Revert';\n        dom.addClass(button3, 'button');\n        dom.addClass(button3, 'revert');\n        var select = gui.__preset_select = document.createElement('select');\n        if (gui.load && gui.load.remembered) {\n            Common.each(gui.load.remembered, function(value, key) {\n                addPresetOption(gui, key, key === gui.preset);\n            });\n        } else {\n            addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n        }\n        dom.bind(select, 'change', function() {\n            for (var index = 0; index < gui.__preset_select.length; index++) {\n                gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n            }\n            gui.preset = this.value;\n        });\n        div.appendChild(select);\n        div.appendChild(gears);\n        div.appendChild(button);\n        div.appendChild(button2);\n        div.appendChild(button3);\n        if (SUPPORTS_LOCAL_STORAGE) {\n            var explain = document.getElementById('dg-local-explain');\n            var localStorageCheckBox = document.getElementById('dg-local-storage');\n            var saveLocally = document.getElementById('dg-save-locally');\n            saveLocally.style.display = 'block';\n            if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n                localStorageCheckBox.setAttribute('checked', 'checked');\n            }\n            showHideExplain(gui, explain);\n            dom.bind(localStorageCheckBox, 'change', function() {\n                gui.useLocalStorage = !gui.useLocalStorage;\n                showHideExplain(gui, explain);\n            });\n        }\n        var newConstructorTextArea = document.getElementById('dg-new-constructor');\n        dom.bind(newConstructorTextArea, 'keydown', function(e) {\n            if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {\n                SAVE_DIALOGUE.hide();\n            }\n        });\n        dom.bind(gears, 'click', function() {\n            newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n            SAVE_DIALOGUE.show();\n            newConstructorTextArea.focus();\n            newConstructorTextArea.select();\n        });\n        dom.bind(button, 'click', function() {\n            gui.save();\n        });\n        dom.bind(button2, 'click', function() {\n            var presetName = prompt('Enter a new preset name.');\n            if (presetName) {\n                gui.saveAs(presetName);\n            }\n        });\n        dom.bind(button3, 'click', function() {\n            gui.revert();\n        });\n    }\n\n    function addResizeHandle(gui) {\n        var pmouseX = void 0;\n        gui.__resize_handle = document.createElement('div');\n        Common.extend(gui.__resize_handle.style, {\n            width: '6px',\n            marginLeft: '-3px',\n            height: '200px',\n            cursor: 'ew-resize',\n            position: 'absolute'\n        });\n\n        function drag(e) {\n            e.preventDefault();\n            gui.width += pmouseX - e.clientX;\n            gui.onResize();\n            pmouseX = e.clientX;\n            return false;\n        }\n\n        function dragStop() {\n            dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n            dom.unbind(window, 'mousemove', drag);\n            dom.unbind(window, 'mouseup', dragStop);\n        }\n\n        function dragStart(e) {\n            e.preventDefault();\n            pmouseX = e.clientX;\n            dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n            dom.bind(window, 'mousemove', drag);\n            dom.bind(window, 'mouseup', dragStop);\n            return false;\n        }\n        dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n        dom.bind(gui.__closeButton, 'mousedown', dragStart);\n        gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n    }\n\n    function setWidth(gui, w) {\n        gui.domElement.style.width = w + 'px';\n        if (gui.__save_row && gui.autoPlace) {\n            gui.__save_row.style.width = w + 'px';\n        }\n        if (gui.__closeButton) {\n            gui.__closeButton.style.width = w + 'px';\n        }\n    }\n\n    function getCurrentPreset(gui, useInitialValues) {\n        var toReturn = {};\n        Common.each(gui.__rememberedObjects, function(val, index) {\n            var savedValues = {};\n            var controllerMap = gui.__rememberedObjectIndecesToControllers[index];\n            Common.each(controllerMap, function(controller, property) {\n                savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();\n            });\n            toReturn[index] = savedValues;\n        });\n        return toReturn;\n    }\n\n    function setPresetSelectIndex(gui) {\n        for (var index = 0; index < gui.__preset_select.length; index++) {\n            if (gui.__preset_select[index].value === gui.preset) {\n                gui.__preset_select.selectedIndex = index;\n            }\n        }\n    }\n\n    function updateDisplays(controllerArray) {\n        if (controllerArray.length !== 0) {\n            requestAnimationFrame$1.call(window, function() {\n                updateDisplays(controllerArray);\n            });\n        }\n        Common.each(controllerArray, function(c) {\n            c.updateDisplay();\n        });\n    }\n\n    var color = {\n        Color: Color,\n        math: ColorMath,\n        interpret: interpret\n    };\n    var controllers = {\n        Controller: Controller,\n        BooleanController: BooleanController,\n        OptionController: OptionController,\n        StringController: StringController,\n        NumberController: NumberController,\n        NumberControllerBox: NumberControllerBox,\n        NumberControllerSlider: NumberControllerSlider,\n        FunctionController: FunctionController,\n        ColorController: ColorController\n    };\n    var dom$1 = {\n        dom: dom\n    };\n    var gui = {\n        GUI: GUI\n    };\n    var GUI$1 = GUI;\n    var index = {\n        color: color,\n        controllers: controllers,\n        dom: dom$1,\n        gui: gui,\n        GUI: GUI$1\n    };\n\n    exports.color = color;\n    exports.controllers = controllers;\n    exports.dom = dom$1;\n    exports.gui = gui;\n    exports.GUI = GUI$1;\n    exports['default'] = index;\n\n    Object.defineProperty(exports, '__esModule', {\n        value: true\n    });\n\n})));\n//# sourceMappingURL=dat.gui.js.map",
    "static": true,
    "longname": "E:/rgnjs/js/lib/dat.gui.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 179,
    "kind": "file",
    "name": "js/lib/dat.gui.min.js",
    "content": "/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n! function(e, t) {\n    \"object\" == typeof exports && \"undefined\" != typeof module ? t(exports) : \"function\" == typeof define && define.amd ? define([\"exports\"], t) : t(e.dat = {})\n}(this, function(e) {\n    \"use strict\";\n\n    function t(e, t) {\n        var n = e.__state.conversionName.toString(),\n            o = Math.round(e.r),\n            i = Math.round(e.g),\n            r = Math.round(e.b),\n            s = e.a,\n            a = Math.round(e.h),\n            l = e.s.toFixed(1),\n            d = e.v.toFixed(1);\n        if (t || \"THREE_CHAR_HEX\" === n || \"SIX_CHAR_HEX\" === n) {\n            for (var c = e.hex.toString(16); c.length < 6;) c = \"0\" + c;\n            return \"#\" + c\n        }\n        return \"CSS_RGB\" === n ? \"rgb(\" + o + \",\" + i + \",\" + r + \")\" : \"CSS_RGBA\" === n ? \"rgba(\" + o + \",\" + i + \",\" + r + \",\" + s + \")\" : \"HEX\" === n ? \"0x\" + e.hex.toString(16) : \"RGB_ARRAY\" === n ? \"[\" + o + \",\" + i + \",\" + r + \"]\" : \"RGBA_ARRAY\" === n ? \"[\" + o + \",\" + i + \",\" + r + \",\" + s + \"]\" : \"RGB_OBJ\" === n ? \"{r:\" + o + \",g:\" + i + \",b:\" + r + \"}\" : \"RGBA_OBJ\" === n ? \"{r:\" + o + \",g:\" + i + \",b:\" + r + \",a:\" + s + \"}\" : \"HSV_OBJ\" === n ? \"{h:\" + a + \",s:\" + l + \",v:\" + d + \"}\" : \"HSVA_OBJ\" === n ? \"{h:\" + a + \",s:\" + l + \",v:\" + d + \",a:\" + s + \"}\" : \"unknown format\"\n    }\n\n    function n(e, t, n) {\n        Object.defineProperty(e, t, {\n            get: function() {\n                return \"RGB\" === this.__state.space ? this.__state[t] : (I.recalculateRGB(this, t, n), this.__state[t])\n            },\n            set: function(e) {\n                \"RGB\" !== this.__state.space && (I.recalculateRGB(this, t, n), this.__state.space = \"RGB\"), this.__state[t] = e\n            }\n        })\n    }\n\n    function o(e, t) {\n        Object.defineProperty(e, t, {\n            get: function() {\n                return \"HSV\" === this.__state.space ? this.__state[t] : (I.recalculateHSV(this), this.__state[t])\n            },\n            set: function(e) {\n                \"HSV\" !== this.__state.space && (I.recalculateHSV(this), this.__state.space = \"HSV\"), this.__state[t] = e\n            }\n        })\n    }\n\n    function i(e) {\n        if (\"0\" === e || S.isUndefined(e)) return 0;\n        var t = e.match(U);\n        return S.isNull(t) ? 0 : parseFloat(t[1])\n    }\n\n    function r(e) {\n        var t = e.toString();\n        return t.indexOf(\".\") > -1 ? t.length - t.indexOf(\".\") - 1 : 0\n    }\n\n    function s(e, t) {\n        var n = Math.pow(10, t);\n        return Math.round(e * n) / n\n    }\n\n    function a(e, t, n, o, i) {\n        return o + (e - t) / (n - t) * (i - o)\n    }\n\n    function l(e, t, n, o) {\n        e.style.background = \"\", S.each(ee, function(i) {\n            e.style.cssText += \"background: \" + i + \"linear-gradient(\" + t + \", \" + n + \" 0%, \" + o + \" 100%); \"\n        })\n    }\n\n    function d(e) {\n        e.style.background = \"\", e.style.cssText += \"background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);\", e.style.cssText += \"background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\", e.style.cssText += \"background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\", e.style.cssText += \"background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\", e.style.cssText += \"background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);\"\n    }\n\n    function c(e, t, n) {\n        var o = document.createElement(\"li\");\n        return t && o.appendChild(t), n ? e.__ul.insertBefore(o, n) : e.__ul.appendChild(o), e.onResize(), o\n    }\n\n    function u(e) {\n        X.unbind(window, \"resize\", e.__resizeHandler), e.saveToLocalStorageIfPossible && X.unbind(window, \"unload\", e.saveToLocalStorageIfPossible)\n    }\n\n    function _(e, t) {\n        var n = e.__preset_select[e.__preset_select.selectedIndex];\n        n.innerHTML = t ? n.value + \"*\" : n.value\n    }\n\n    function h(e, t, n) {\n        if (n.__li = t, n.__gui = e, S.extend(n, {\n                options: function(t) {\n                    if (arguments.length > 1) {\n                        var o = n.__li.nextElementSibling;\n                        return n.remove(), f(e, n.object, n.property, {\n                            before: o,\n                            factoryArgs: [S.toArray(arguments)]\n                        })\n                    }\n                    if (S.isArray(t) || S.isObject(t)) {\n                        var i = n.__li.nextElementSibling;\n                        return n.remove(), f(e, n.object, n.property, {\n                            before: i,\n                            factoryArgs: [t]\n                        })\n                    }\n                },\n                name: function(e) {\n                    return n.__li.firstElementChild.firstElementChild.innerHTML = e, n\n                },\n                listen: function() {\n                    return n.__gui.listen(n), n\n                },\n                remove: function() {\n                    return n.__gui.remove(n), n\n                }\n            }), n instanceof q) {\n            var o = new Q(n.object, n.property, {\n                min: n.__min,\n                max: n.__max,\n                step: n.__step\n            });\n            S.each([\"updateDisplay\", \"onChange\", \"onFinishChange\", \"step\", \"min\", \"max\"], function(e) {\n                var t = n[e],\n                    i = o[e];\n                n[e] = o[e] = function() {\n                    var e = Array.prototype.slice.call(arguments);\n                    return i.apply(o, e), t.apply(n, e)\n                }\n            }), X.addClass(t, \"has-slider\"), n.domElement.insertBefore(o.domElement, n.domElement.firstElementChild)\n        } else if (n instanceof Q) {\n            var i = function(t) {\n                if (S.isNumber(n.__min) && S.isNumber(n.__max)) {\n                    var o = n.__li.firstElementChild.firstElementChild.innerHTML,\n                        i = n.__gui.__listening.indexOf(n) > -1;\n                    n.remove();\n                    var r = f(e, n.object, n.property, {\n                        before: n.__li.nextElementSibling,\n                        factoryArgs: [n.__min, n.__max, n.__step]\n                    });\n                    return r.name(o), i && r.listen(), r\n                }\n                return t\n            };\n            n.min = S.compose(i, n.min), n.max = S.compose(i, n.max)\n        } else n instanceof K ? (X.bind(t, \"click\", function() {\n            X.fakeEvent(n.__checkbox, \"click\")\n        }), X.bind(n.__checkbox, \"click\", function(e) {\n            e.stopPropagation()\n        })) : n instanceof Z ? (X.bind(t, \"click\", function() {\n            X.fakeEvent(n.__button, \"click\")\n        }), X.bind(t, \"mouseover\", function() {\n            X.addClass(n.__button, \"hover\")\n        }), X.bind(t, \"mouseout\", function() {\n            X.removeClass(n.__button, \"hover\")\n        })) : n instanceof $ && (X.addClass(t, \"color\"), n.updateDisplay = S.compose(function(e) {\n            return t.style.borderLeftColor = n.__color.toString(), e\n        }, n.updateDisplay), n.updateDisplay());\n        n.setValue = S.compose(function(t) {\n            return e.getRoot().__preset_select && n.isModified() && _(e.getRoot(), !0), t\n        }, n.setValue)\n    }\n\n    function p(e, t) {\n        var n = e.getRoot(),\n            o = n.__rememberedObjects.indexOf(t.object);\n        if (-1 !== o) {\n            var i = n.__rememberedObjectIndecesToControllers[o];\n            if (void 0 === i && (i = {}, n.__rememberedObjectIndecesToControllers[o] = i), i[t.property] = t, n.load && n.load.remembered) {\n                var r = n.load.remembered,\n                    s = void 0;\n                if (r[e.preset]) s = r[e.preset];\n                else {\n                    if (!r[se]) return;\n                    s = r[se]\n                }\n                if (s[o] && void 0 !== s[o][t.property]) {\n                    var a = s[o][t.property];\n                    t.initialValue = a, t.setValue(a)\n                }\n            }\n        }\n    }\n\n    function f(e, t, n, o) {\n        if (void 0 === t[n]) throw new Error('Object \"' + t + '\" has no property \"' + n + '\"');\n        var i = void 0;\n        if (o.color) i = new $(t, n);\n        else {\n            var r = [t, n].concat(o.factoryArgs);\n            i = ne.apply(e, r)\n        }\n        o.before instanceof z && (o.before = o.before.__li), p(e, i), X.addClass(i.domElement, \"c\");\n        var s = document.createElement(\"span\");\n        X.addClass(s, \"property-name\"), s.innerHTML = i.property;\n        var a = document.createElement(\"div\");\n        a.appendChild(s), a.appendChild(i.domElement);\n        var l = c(e, a, o.before);\n        return X.addClass(l, he.CLASS_CONTROLLER_ROW), i instanceof $ ? X.addClass(l, \"color\") : X.addClass(l, H(i.getValue())), h(e, l, i), e.__controllers.push(i), i\n    }\n\n    function m(e, t) {\n        return document.location.href + \".\" + t\n    }\n\n    function g(e, t, n) {\n        var o = document.createElement(\"option\");\n        o.innerHTML = t, o.value = t, e.__preset_select.appendChild(o), n && (e.__preset_select.selectedIndex = e.__preset_select.length - 1)\n    }\n\n    function b(e, t) {\n        t.style.display = e.useLocalStorage ? \"block\" : \"none\"\n    }\n\n    function v(e) {\n        var t = e.__save_row = document.createElement(\"li\");\n        X.addClass(e.domElement, \"has-save\"), e.__ul.insertBefore(t, e.__ul.firstChild), X.addClass(t, \"save-row\");\n        var n = document.createElement(\"span\");\n        n.innerHTML = \"&nbsp;\", X.addClass(n, \"button gears\");\n        var o = document.createElement(\"span\");\n        o.innerHTML = \"Save\", X.addClass(o, \"button\"), X.addClass(o, \"save\");\n        var i = document.createElement(\"span\");\n        i.innerHTML = \"New\", X.addClass(i, \"button\"), X.addClass(i, \"save-as\");\n        var r = document.createElement(\"span\");\n        r.innerHTML = \"Revert\", X.addClass(r, \"button\"), X.addClass(r, \"revert\");\n        var s = e.__preset_select = document.createElement(\"select\");\n        if (e.load && e.load.remembered ? S.each(e.load.remembered, function(t, n) {\n                g(e, n, n === e.preset)\n            }) : g(e, se, !1), X.bind(s, \"change\", function() {\n                for (var t = 0; t < e.__preset_select.length; t++) e.__preset_select[t].innerHTML = e.__preset_select[t].value;\n                e.preset = this.value\n            }), t.appendChild(s), t.appendChild(n), t.appendChild(o), t.appendChild(i), t.appendChild(r), ae) {\n            var a = document.getElementById(\"dg-local-explain\"),\n                l = document.getElementById(\"dg-local-storage\");\n            document.getElementById(\"dg-save-locally\").style.display = \"block\", \"true\" === localStorage.getItem(m(e, \"isLocal\")) && l.setAttribute(\"checked\", \"checked\"), b(e, a), X.bind(l, \"change\", function() {\n                e.useLocalStorage = !e.useLocalStorage, b(e, a)\n            })\n        }\n        var d = document.getElementById(\"dg-new-constructor\");\n        X.bind(d, \"keydown\", function(e) {\n            !e.metaKey || 67 !== e.which && 67 !== e.keyCode || le.hide()\n        }), X.bind(n, \"click\", function() {\n            d.innerHTML = JSON.stringify(e.getSaveObject(), void 0, 2), le.show(), d.focus(), d.select()\n        }), X.bind(o, \"click\", function() {\n            e.save()\n        }), X.bind(i, \"click\", function() {\n            var t = prompt(\"Enter a new preset name.\");\n            t && e.saveAs(t)\n        }), X.bind(r, \"click\", function() {\n            e.revert()\n        })\n    }\n\n    function y(e) {\n        function t(t) {\n            return t.preventDefault(), e.width += i - t.clientX, e.onResize(), i = t.clientX, !1\n        }\n\n        function n() {\n            X.removeClass(e.__closeButton, he.CLASS_DRAG), X.unbind(window, \"mousemove\", t), X.unbind(window, \"mouseup\", n)\n        }\n\n        function o(o) {\n            return o.preventDefault(), i = o.clientX, X.addClass(e.__closeButton, he.CLASS_DRAG), X.bind(window, \"mousemove\", t), X.bind(window, \"mouseup\", n), !1\n        }\n        var i = void 0;\n        e.__resize_handle = document.createElement(\"div\"), S.extend(e.__resize_handle.style, {\n            width: \"6px\",\n            marginLeft: \"-3px\",\n            height: \"200px\",\n            cursor: \"ew-resize\",\n            position: \"absolute\"\n        }), X.bind(e.__resize_handle, \"mousedown\", o), X.bind(e.__closeButton, \"mousedown\", o), e.domElement.insertBefore(e.__resize_handle, e.domElement.firstElementChild)\n    }\n\n    function w(e, t) {\n        e.domElement.style.width = t + \"px\", e.__save_row && e.autoPlace && (e.__save_row.style.width = t + \"px\"), e.__closeButton && (e.__closeButton.style.width = t + \"px\")\n    }\n\n    function x(e, t) {\n        var n = {};\n        return S.each(e.__rememberedObjects, function(o, i) {\n            var r = {},\n                s = e.__rememberedObjectIndecesToControllers[i];\n            S.each(s, function(e, n) {\n                r[n] = t ? e.initialValue : e.getValue()\n            }), n[i] = r\n        }), n\n    }\n\n    function E(e) {\n        for (var t = 0; t < e.__preset_select.length; t++) e.__preset_select[t].value === e.preset && (e.__preset_select.selectedIndex = t)\n    }\n\n    function C(e) {\n        0 !== e.length && oe.call(window, function() {\n            C(e)\n        }), S.each(e, function(e) {\n            e.updateDisplay()\n        })\n    }\n    var A = Array.prototype.forEach,\n        k = Array.prototype.slice,\n        S = {\n            BREAK: {},\n            extend: function(e) {\n                return this.each(k.call(arguments, 1), function(t) {\n                    (this.isObject(t) ? Object.keys(t) : []).forEach(function(n) {\n                        this.isUndefined(t[n]) || (e[n] = t[n])\n                    }.bind(this))\n                }, this), e\n            },\n            defaults: function(e) {\n                return this.each(k.call(arguments, 1), function(t) {\n                    (this.isObject(t) ? Object.keys(t) : []).forEach(function(n) {\n                        this.isUndefined(e[n]) && (e[n] = t[n])\n                    }.bind(this))\n                }, this), e\n            },\n            compose: function() {\n                var e = k.call(arguments);\n                return function() {\n                    for (var t = k.call(arguments), n = e.length - 1; n >= 0; n--) t = [e[n].apply(this, t)];\n                    return t[0]\n                }\n            },\n            each: function(e, t, n) {\n                if (e)\n                    if (A && e.forEach && e.forEach === A) e.forEach(t, n);\n                    else if (e.length === e.length + 0) {\n                    var o = void 0,\n                        i = void 0;\n                    for (o = 0, i = e.length; o < i; o++)\n                        if (o in e && t.call(n, e[o], o) === this.BREAK) return\n                } else\n                    for (var r in e)\n                        if (t.call(n, e[r], r) === this.BREAK) return\n            },\n            defer: function(e) {\n                setTimeout(e, 0)\n            },\n            debounce: function(e, t, n) {\n                var o = void 0;\n                return function() {\n                    var i = this,\n                        r = arguments,\n                        s = n || !o;\n                    clearTimeout(o), o = setTimeout(function() {\n                        o = null, n || e.apply(i, r)\n                    }, t), s && e.apply(i, r)\n                }\n            },\n            toArray: function(e) {\n                return e.toArray ? e.toArray() : k.call(e)\n            },\n            isUndefined: function(e) {\n                return void 0 === e\n            },\n            isNull: function(e) {\n                return null === e\n            },\n            isNaN: function(e) {\n                function t(t) {\n                    return e.apply(this, arguments)\n                }\n                return t.toString = function() {\n                    return e.toString()\n                }, t\n            }(function(e) {\n                return isNaN(e)\n            }),\n            isArray: Array.isArray || function(e) {\n                return e.constructor === Array\n            },\n            isObject: function(e) {\n                return e === Object(e)\n            },\n            isNumber: function(e) {\n                return e === e + 0\n            },\n            isString: function(e) {\n                return e === e + \"\"\n            },\n            isBoolean: function(e) {\n                return !1 === e || !0 === e\n            },\n            isFunction: function(e) {\n                return e instanceof Function\n            }\n        },\n        O = [{\n            litmus: S.isString,\n            conversions: {\n                THREE_CHAR_HEX: {\n                    read: function(e) {\n                        var t = e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n                        return null !== t && {\n                            space: \"HEX\",\n                            hex: parseInt(\"0x\" + t[1].toString() + t[1].toString() + t[2].toString() + t[2].toString() + t[3].toString() + t[3].toString(), 0)\n                        }\n                    },\n                    write: t\n                },\n                SIX_CHAR_HEX: {\n                    read: function(e) {\n                        var t = e.match(/^#([A-F0-9]{6})$/i);\n                        return null !== t && {\n                            space: \"HEX\",\n                            hex: parseInt(\"0x\" + t[1].toString(), 0)\n                        }\n                    },\n                    write: t\n                },\n                CSS_RGB: {\n                    read: function(e) {\n                        var t = e.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n                        return null !== t && {\n                            space: \"RGB\",\n                            r: parseFloat(t[1]),\n                            g: parseFloat(t[2]),\n                            b: parseFloat(t[3])\n                        }\n                    },\n                    write: t\n                },\n                CSS_RGBA: {\n                    read: function(e) {\n                        var t = e.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n                        return null !== t && {\n                            space: \"RGB\",\n                            r: parseFloat(t[1]),\n                            g: parseFloat(t[2]),\n                            b: parseFloat(t[3]),\n                            a: parseFloat(t[4])\n                        }\n                    },\n                    write: t\n                }\n            }\n        }, {\n            litmus: S.isNumber,\n            conversions: {\n                HEX: {\n                    read: function(e) {\n                        return {\n                            space: \"HEX\",\n                            hex: e,\n                            conversionName: \"HEX\"\n                        }\n                    },\n                    write: function(e) {\n                        return e.hex\n                    }\n                }\n            }\n        }, {\n            litmus: S.isArray,\n            conversions: {\n                RGB_ARRAY: {\n                    read: function(e) {\n                        return 3 === e.length && {\n                            space: \"RGB\",\n                            r: e[0],\n                            g: e[1],\n                            b: e[2]\n                        }\n                    },\n                    write: function(e) {\n                        return [e.r, e.g, e.b]\n                    }\n                },\n                RGBA_ARRAY: {\n                    read: function(e) {\n                        return 4 === e.length && {\n                            space: \"RGB\",\n                            r: e[0],\n                            g: e[1],\n                            b: e[2],\n                            a: e[3]\n                        }\n                    },\n                    write: function(e) {\n                        return [e.r, e.g, e.b, e.a]\n                    }\n                }\n            }\n        }, {\n            litmus: S.isObject,\n            conversions: {\n                RGBA_OBJ: {\n                    read: function(e) {\n                        return !!(S.isNumber(e.r) && S.isNumber(e.g) && S.isNumber(e.b) && S.isNumber(e.a)) && {\n                            space: \"RGB\",\n                            r: e.r,\n                            g: e.g,\n                            b: e.b,\n                            a: e.a\n                        }\n                    },\n                    write: function(e) {\n                        return {\n                            r: e.r,\n                            g: e.g,\n                            b: e.b,\n                            a: e.a\n                        }\n                    }\n                },\n                RGB_OBJ: {\n                    read: function(e) {\n                        return !!(S.isNumber(e.r) && S.isNumber(e.g) && S.isNumber(e.b)) && {\n                            space: \"RGB\",\n                            r: e.r,\n                            g: e.g,\n                            b: e.b\n                        }\n                    },\n                    write: function(e) {\n                        return {\n                            r: e.r,\n                            g: e.g,\n                            b: e.b\n                        }\n                    }\n                },\n                HSVA_OBJ: {\n                    read: function(e) {\n                        return !!(S.isNumber(e.h) && S.isNumber(e.s) && S.isNumber(e.v) && S.isNumber(e.a)) && {\n                            space: \"HSV\",\n                            h: e.h,\n                            s: e.s,\n                            v: e.v,\n                            a: e.a\n                        }\n                    },\n                    write: function(e) {\n                        return {\n                            h: e.h,\n                            s: e.s,\n                            v: e.v,\n                            a: e.a\n                        }\n                    }\n                },\n                HSV_OBJ: {\n                    read: function(e) {\n                        return !!(S.isNumber(e.h) && S.isNumber(e.s) && S.isNumber(e.v)) && {\n                            space: \"HSV\",\n                            h: e.h,\n                            s: e.s,\n                            v: e.v\n                        }\n                    },\n                    write: function(e) {\n                        return {\n                            h: e.h,\n                            s: e.s,\n                            v: e.v\n                        }\n                    }\n                }\n            }\n        }],\n        T = void 0,\n        L = void 0,\n        R = function() {\n            L = !1;\n            var e = arguments.length > 1 ? S.toArray(arguments) : arguments[0];\n            return S.each(O, function(t) {\n                if (t.litmus(e)) return S.each(t.conversions, function(t, n) {\n                    if (T = t.read(e), !1 === L && !1 !== T) return L = T, T.conversionName = n, T.conversion = t, S.BREAK\n                }), S.BREAK\n            }), L\n        },\n        B = void 0,\n        N = {\n            hsv_to_rgb: function(e, t, n) {\n                var o = Math.floor(e / 60) % 6,\n                    i = e / 60 - Math.floor(e / 60),\n                    r = n * (1 - t),\n                    s = n * (1 - i * t),\n                    a = n * (1 - (1 - i) * t),\n                    l = [\n                        [n, a, r],\n                        [s, n, r],\n                        [r, n, a],\n                        [r, s, n],\n                        [a, r, n],\n                        [n, r, s]\n                    ][o];\n                return {\n                    r: 255 * l[0],\n                    g: 255 * l[1],\n                    b: 255 * l[2]\n                }\n            },\n            rgb_to_hsv: function(e, t, n) {\n                var o = Math.min(e, t, n),\n                    i = Math.max(e, t, n),\n                    r = i - o,\n                    s = void 0,\n                    a = void 0;\n                return 0 === i ? {\n                    h: NaN,\n                    s: 0,\n                    v: 0\n                } : (a = r / i, s = e === i ? (t - n) / r : t === i ? 2 + (n - e) / r : 4 + (e - t) / r, (s /= 6) < 0 && (s += 1), {\n                    h: 360 * s,\n                    s: a,\n                    v: i / 255\n                })\n            },\n            rgb_to_hex: function(e, t, n) {\n                var o = this.hex_with_component(0, 2, e);\n                return o = this.hex_with_component(o, 1, t), o = this.hex_with_component(o, 0, n)\n            },\n            component_from_hex: function(e, t) {\n                return e >> 8 * t & 255\n            },\n            hex_with_component: function(e, t, n) {\n                return n << (B = 8 * t) | e & ~(255 << B)\n            }\n        },\n        H = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\n            return typeof e\n        } : function(e) {\n            return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e\n        },\n        F = function(e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\")\n        },\n        P = function() {\n            function e(e, t) {\n                for (var n = 0; n < t.length; n++) {\n                    var o = t[n];\n                    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)\n                }\n            }\n            return function(t, n, o) {\n                return n && e(t.prototype, n), o && e(t, o), t\n            }\n        }(),\n        D = function e(t, n, o) {\n            null === t && (t = Function.prototype);\n            var i = Object.getOwnPropertyDescriptor(t, n);\n            if (void 0 === i) {\n                var r = Object.getPrototypeOf(t);\n                return null === r ? void 0 : e(r, n, o)\n            }\n            if (\"value\" in i) return i.value;\n            var s = i.get;\n            if (void 0 !== s) return s.call(o)\n        },\n        j = function(e, t) {\n            if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n            e.prototype = Object.create(t && t.prototype, {\n                constructor: {\n                    value: e,\n                    enumerable: !1,\n                    writable: !0,\n                    configurable: !0\n                }\n            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)\n        },\n        V = function(e, t) {\n            if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n            return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t\n        },\n        I = function() {\n            function e() {\n                if (F(this, e), this.__state = R.apply(this, arguments), !1 === this.__state) throw new Error(\"Failed to interpret color arguments\");\n                this.__state.a = this.__state.a || 1\n            }\n            return P(e, [{\n                key: \"toString\",\n                value: function() {\n                    return t(this)\n                }\n            }, {\n                key: \"toHexString\",\n                value: function() {\n                    return t(this, !0)\n                }\n            }, {\n                key: \"toOriginal\",\n                value: function() {\n                    return this.__state.conversion.write(this)\n                }\n            }]), e\n        }();\n    I.recalculateRGB = function(e, t, n) {\n        if (\"HEX\" === e.__state.space) e.__state[t] = N.component_from_hex(e.__state.hex, n);\n        else {\n            if (\"HSV\" !== e.__state.space) throw new Error(\"Corrupted color state\");\n            S.extend(e.__state, N.hsv_to_rgb(e.__state.h, e.__state.s, e.__state.v))\n        }\n    }, I.recalculateHSV = function(e) {\n        var t = N.rgb_to_hsv(e.r, e.g, e.b);\n        S.extend(e.__state, {\n            s: t.s,\n            v: t.v\n        }), S.isNaN(t.h) ? S.isUndefined(e.__state.h) && (e.__state.h = 0) : e.__state.h = t.h\n    }, I.COMPONENTS = [\"r\", \"g\", \"b\", \"h\", \"s\", \"v\", \"hex\", \"a\"], n(I.prototype, \"r\", 2), n(I.prototype, \"g\", 1), n(I.prototype, \"b\", 0), o(I.prototype, \"h\"), o(I.prototype, \"s\"), o(I.prototype, \"v\"), Object.defineProperty(I.prototype, \"a\", {\n        get: function() {\n            return this.__state.a\n        },\n        set: function(e) {\n            this.__state.a = e\n        }\n    }), Object.defineProperty(I.prototype, \"hex\", {\n        get: function() {\n            return \"HEX\" !== this.__state.space && (this.__state.hex = N.rgb_to_hex(this.r, this.g, this.b), this.__state.space = \"HEX\"), this.__state.hex\n        },\n        set: function(e) {\n            this.__state.space = \"HEX\", this.__state.hex = e\n        }\n    });\n    var z = function() {\n            function e(t, n) {\n                F(this, e), this.initialValue = t[n], this.domElement = document.createElement(\"div\"), this.object = t, this.property = n, this.__onChange = void 0, this.__onFinishChange = void 0\n            }\n            return P(e, [{\n                key: \"onChange\",\n                value: function(e) {\n                    return this.__onChange = e, this\n                }\n            }, {\n                key: \"onFinishChange\",\n                value: function(e) {\n                    return this.__onFinishChange = e, this\n                }\n            }, {\n                key: \"setValue\",\n                value: function(e) {\n                    return this.object[this.property] = e, this.__onChange && this.__onChange.call(this, e), this.updateDisplay(), this\n                }\n            }, {\n                key: \"getValue\",\n                value: function() {\n                    return this.object[this.property]\n                }\n            }, {\n                key: \"updateDisplay\",\n                value: function() {\n                    return this\n                }\n            }, {\n                key: \"isModified\",\n                value: function() {\n                    return this.initialValue !== this.getValue()\n                }\n            }]), e\n        }(),\n        M = {\n            HTMLEvents: [\"change\"],\n            MouseEvents: [\"click\", \"mousemove\", \"mousedown\", \"mouseup\", \"mouseover\"],\n            KeyboardEvents: [\"keydown\"]\n        },\n        G = {};\n    S.each(M, function(e, t) {\n        S.each(e, function(e) {\n            G[e] = t\n        })\n    });\n    var U = /(\\d+(\\.\\d+)?)px/,\n        X = {\n            makeSelectable: function(e, t) {\n                void 0 !== e && void 0 !== e.style && (e.onselectstart = t ? function() {\n                    return !1\n                } : function() {}, e.style.MozUserSelect = t ? \"auto\" : \"none\", e.style.KhtmlUserSelect = t ? \"auto\" : \"none\", e.unselectable = t ? \"on\" : \"off\")\n            },\n            makeFullscreen: function(e, t, n) {\n                var o = n,\n                    i = t;\n                S.isUndefined(i) && (i = !0), S.isUndefined(o) && (o = !0), e.style.position = \"absolute\", i && (e.style.left = 0, e.style.right = 0), o && (e.style.top = 0, e.style.bottom = 0)\n            },\n            fakeEvent: function(e, t, n, o) {\n                var i = n || {},\n                    r = G[t];\n                if (!r) throw new Error(\"Event type \" + t + \" not supported.\");\n                var s = document.createEvent(r);\n                switch (r) {\n                    case \"MouseEvents\":\n                        var a = i.x || i.clientX || 0,\n                            l = i.y || i.clientY || 0;\n                        s.initMouseEvent(t, i.bubbles || !1, i.cancelable || !0, window, i.clickCount || 1, 0, 0, a, l, !1, !1, !1, !1, 0, null);\n                        break;\n                    case \"KeyboardEvents\":\n                        var d = s.initKeyboardEvent || s.initKeyEvent;\n                        S.defaults(i, {\n                            cancelable: !0,\n                            ctrlKey: !1,\n                            altKey: !1,\n                            shiftKey: !1,\n                            metaKey: !1,\n                            keyCode: void 0,\n                            charCode: void 0\n                        }), d(t, i.bubbles || !1, i.cancelable, window, i.ctrlKey, i.altKey, i.shiftKey, i.metaKey, i.keyCode, i.charCode);\n                        break;\n                    default:\n                        s.initEvent(t, i.bubbles || !1, i.cancelable || !0)\n                }\n                S.defaults(s, o), e.dispatchEvent(s)\n            },\n            bind: function(e, t, n, o) {\n                var i = o || !1;\n                return e.addEventListener ? e.addEventListener(t, n, i) : e.attachEvent && e.attachEvent(\"on\" + t, n), X\n            },\n            unbind: function(e, t, n, o) {\n                var i = o || !1;\n                return e.removeEventListener ? e.removeEventListener(t, n, i) : e.detachEvent && e.detachEvent(\"on\" + t, n), X\n            },\n            addClass: function(e, t) {\n                if (void 0 === e.className) e.className = t;\n                else if (e.className !== t) {\n                    var n = e.className.split(/ +/); - 1 === n.indexOf(t) && (n.push(t), e.className = n.join(\" \").replace(/^\\s+/, \"\").replace(/\\s+$/, \"\"))\n                }\n                return X\n            },\n            removeClass: function(e, t) {\n                if (t)\n                    if (e.className === t) e.removeAttribute(\"class\");\n                    else {\n                        var n = e.className.split(/ +/),\n                            o = n.indexOf(t); - 1 !== o && (n.splice(o, 1), e.className = n.join(\" \"))\n                    }\n                else e.className = void 0;\n                return X\n            },\n            hasClass: function(e, t) {\n                return new RegExp(\"(?:^|\\\\s+)\" + t + \"(?:\\\\s+|$)\").test(e.className) || !1\n            },\n            getWidth: function(e) {\n                var t = getComputedStyle(e);\n                return i(t[\"border-left-width\"]) + i(t[\"border-right-width\"]) + i(t[\"padding-left\"]) + i(t[\"padding-right\"]) + i(t.width)\n            },\n            getHeight: function(e) {\n                var t = getComputedStyle(e);\n                return i(t[\"border-top-width\"]) + i(t[\"border-bottom-width\"]) + i(t[\"padding-top\"]) + i(t[\"padding-bottom\"]) + i(t.height)\n            },\n            getOffset: function(e) {\n                var t = e,\n                    n = {\n                        left: 0,\n                        top: 0\n                    };\n                if (t.offsetParent)\n                    do {\n                        n.left += t.offsetLeft, n.top += t.offsetTop, t = t.offsetParent\n                    } while (t);\n                return n\n            },\n            isActive: function(e) {\n                return e === document.activeElement && (e.type || e.href)\n            }\n        },\n        K = function(e) {\n            function t(e, n) {\n                F(this, t);\n                var o = V(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n)),\n                    i = o;\n                return o.__prev = o.getValue(), o.__checkbox = document.createElement(\"input\"), o.__checkbox.setAttribute(\"type\", \"checkbox\"), X.bind(o.__checkbox, \"change\", function() {\n                    i.setValue(!i.__prev)\n                }, !1), o.domElement.appendChild(o.__checkbox), o.updateDisplay(), o\n            }\n            return j(t, z), P(t, [{\n                key: \"setValue\",\n                value: function(e) {\n                    var n = D(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"setValue\", this).call(this, e);\n                    return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), this.__prev = this.getValue(), n\n                }\n            }, {\n                key: \"updateDisplay\",\n                value: function() {\n                    return !0 === this.getValue() ? (this.__checkbox.setAttribute(\"checked\", \"checked\"), this.__checkbox.checked = !0, this.__prev = !0) : (this.__checkbox.checked = !1, this.__prev = !1), D(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"updateDisplay\", this).call(this)\n                }\n            }]), t\n        }(),\n        Y = function(e) {\n            function t(e, n, o) {\n                F(this, t);\n                var i = V(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n)),\n                    r = o,\n                    s = i;\n                if (i.__select = document.createElement(\"select\"), S.isArray(r)) {\n                    var a = {};\n                    S.each(r, function(e) {\n                        a[e] = e\n                    }), r = a\n                }\n                return S.each(r, function(e, t) {\n                    var n = document.createElement(\"option\");\n                    n.innerHTML = t, n.setAttribute(\"value\", e), s.__select.appendChild(n)\n                }), i.updateDisplay(), X.bind(i.__select, \"change\", function() {\n                    var e = this.options[this.selectedIndex].value;\n                    s.setValue(e)\n                }), i.domElement.appendChild(i.__select), i\n            }\n            return j(t, z), P(t, [{\n                key: \"setValue\",\n                value: function(e) {\n                    var n = D(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"setValue\", this).call(this, e);\n                    return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), n\n                }\n            }, {\n                key: \"updateDisplay\",\n                value: function() {\n                    return X.isActive(this.__select) ? this : (this.__select.value = this.getValue(), D(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"updateDisplay\", this).call(this))\n                }\n            }]), t\n        }(),\n        J = function(e) {\n            function t(e, n) {\n                function o() {\n                    r.setValue(r.__input.value)\n                }\n                F(this, t);\n                var i = V(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n)),\n                    r = i;\n                return i.__input = document.createElement(\"input\"), i.__input.setAttribute(\"type\", \"text\"), X.bind(i.__input, \"keyup\", o), X.bind(i.__input, \"change\", o), X.bind(i.__input, \"blur\", function() {\n                    r.__onFinishChange && r.__onFinishChange.call(r, r.getValue())\n                }), X.bind(i.__input, \"keydown\", function(e) {\n                    13 === e.keyCode && this.blur()\n                }), i.updateDisplay(), i.domElement.appendChild(i.__input), i\n            }\n            return j(t, z), P(t, [{\n                key: \"updateDisplay\",\n                value: function() {\n                    return X.isActive(this.__input) || (this.__input.value = this.getValue()), D(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"updateDisplay\", this).call(this)\n                }\n            }]), t\n        }(),\n        W = function(e) {\n            function t(e, n, o) {\n                F(this, t);\n                var i = V(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n)),\n                    s = o || {};\n                return i.__min = s.min, i.__max = s.max, i.__step = s.step, S.isUndefined(i.__step) ? 0 === i.initialValue ? i.__impliedStep = 1 : i.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(i.initialValue)) / Math.LN10)) / 10 : i.__impliedStep = i.__step, i.__precision = r(i.__impliedStep), i\n            }\n            return j(t, z), P(t, [{\n                key: \"setValue\",\n                value: function(e) {\n                    var n = e;\n                    return void 0 !== this.__min && n < this.__min ? n = this.__min : void 0 !== this.__max && n > this.__max && (n = this.__max), void 0 !== this.__step && n % this.__step != 0 && (n = Math.round(n / this.__step) * this.__step), D(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"setValue\", this).call(this, n)\n                }\n            }, {\n                key: \"min\",\n                value: function(e) {\n                    return this.__min = e, this\n                }\n            }, {\n                key: \"max\",\n                value: function(e) {\n                    return this.__max = e, this\n                }\n            }, {\n                key: \"step\",\n                value: function(e) {\n                    return this.__step = e, this.__impliedStep = e, this.__precision = r(e), this\n                }\n            }]), t\n        }(),\n        Q = function(e) {\n            function t(e, n, o) {\n                function i() {\n                    l.__onFinishChange && l.__onFinishChange.call(l, l.getValue())\n                }\n\n                function r(e) {\n                    var t = d - e.clientY;\n                    l.setValue(l.getValue() + t * l.__impliedStep), d = e.clientY\n                }\n\n                function s() {\n                    X.unbind(window, \"mousemove\", r), X.unbind(window, \"mouseup\", s), i()\n                }\n                F(this, t);\n                var a = V(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, o));\n                a.__truncationSuspended = !1;\n                var l = a,\n                    d = void 0;\n                return a.__input = document.createElement(\"input\"), a.__input.setAttribute(\"type\", \"text\"), X.bind(a.__input, \"change\", function() {\n                    var e = parseFloat(l.__input.value);\n                    S.isNaN(e) || l.setValue(e)\n                }), X.bind(a.__input, \"blur\", function() {\n                    i()\n                }), X.bind(a.__input, \"mousedown\", function(e) {\n                    X.bind(window, \"mousemove\", r), X.bind(window, \"mouseup\", s), d = e.clientY\n                }), X.bind(a.__input, \"keydown\", function(e) {\n                    13 === e.keyCode && (l.__truncationSuspended = !0, this.blur(), l.__truncationSuspended = !1, i())\n                }), a.updateDisplay(), a.domElement.appendChild(a.__input), a\n            }\n            return j(t, W), P(t, [{\n                key: \"updateDisplay\",\n                value: function() {\n                    return this.__input.value = this.__truncationSuspended ? this.getValue() : s(this.getValue(), this.__precision), D(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"updateDisplay\", this).call(this)\n                }\n            }]), t\n        }(),\n        q = function(e) {\n            function t(e, n, o, i, r) {\n                function s(e) {\n                    e.preventDefault();\n                    var t = _.__background.getBoundingClientRect();\n                    return _.setValue(a(e.clientX, t.left, t.right, _.__min, _.__max)), !1\n                }\n\n                function l() {\n                    X.unbind(window, \"mousemove\", s), X.unbind(window, \"mouseup\", l), _.__onFinishChange && _.__onFinishChange.call(_, _.getValue())\n                }\n\n                function d(e) {\n                    var t = e.touches[0].clientX,\n                        n = _.__background.getBoundingClientRect();\n                    _.setValue(a(t, n.left, n.right, _.__min, _.__max))\n                }\n\n                function c() {\n                    X.unbind(window, \"touchmove\", d), X.unbind(window, \"touchend\", c), _.__onFinishChange && _.__onFinishChange.call(_, _.getValue())\n                }\n                F(this, t);\n                var u = V(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, {\n                        min: o,\n                        max: i,\n                        step: r\n                    })),\n                    _ = u;\n                return u.__background = document.createElement(\"div\"), u.__foreground = document.createElement(\"div\"), X.bind(u.__background, \"mousedown\", function(e) {\n                    document.activeElement.blur(), X.bind(window, \"mousemove\", s), X.bind(window, \"mouseup\", l), s(e)\n                }), X.bind(u.__background, \"touchstart\", function(e) {\n                    1 === e.touches.length && (X.bind(window, \"touchmove\", d), X.bind(window, \"touchend\", c), d(e))\n                }), X.addClass(u.__background, \"slider\"), X.addClass(u.__foreground, \"slider-fg\"), u.updateDisplay(), u.__background.appendChild(u.__foreground), u.domElement.appendChild(u.__background), u\n            }\n            return j(t, W), P(t, [{\n                key: \"updateDisplay\",\n                value: function() {\n                    var e = (this.getValue() - this.__min) / (this.__max - this.__min);\n                    return this.__foreground.style.width = 100 * e + \"%\", D(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"updateDisplay\", this).call(this)\n                }\n            }]), t\n        }(),\n        Z = function(e) {\n            function t(e, n, o) {\n                F(this, t);\n                var i = V(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n)),\n                    r = i;\n                return i.__button = document.createElement(\"div\"), i.__button.innerHTML = void 0 === o ? \"Fire\" : o, X.bind(i.__button, \"click\", function(e) {\n                    return e.preventDefault(), r.fire(), !1\n                }), X.addClass(i.__button, \"button\"), i.domElement.appendChild(i.__button), i\n            }\n            return j(t, z), P(t, [{\n                key: \"fire\",\n                value: function() {\n                    this.__onChange && this.__onChange.call(this), this.getValue().call(this.object), this.__onFinishChange && this.__onFinishChange.call(this, this.getValue())\n                }\n            }]), t\n        }(),\n        $ = function(e) {\n            function t(e, n) {\n                function o(e) {\n                    u(e), X.bind(window, \"mousemove\", u), X.bind(window, \"touchmove\", u), X.bind(window, \"mouseup\", r), X.bind(window, \"touchend\", r)\n                }\n\n                function i(e) {\n                    _(e), X.bind(window, \"mousemove\", _), X.bind(window, \"touchmove\", _), X.bind(window, \"mouseup\", s), X.bind(window, \"touchend\", s)\n                }\n\n                function r() {\n                    X.unbind(window, \"mousemove\", u), X.unbind(window, \"touchmove\", u), X.unbind(window, \"mouseup\", r), X.unbind(window, \"touchend\", r), c()\n                }\n\n                function s() {\n                    X.unbind(window, \"mousemove\", _), X.unbind(window, \"touchmove\", _), X.unbind(window, \"mouseup\", s), X.unbind(window, \"touchend\", s), c()\n                }\n\n                function a() {\n                    var e = R(this.value);\n                    !1 !== e ? (p.__color.__state = e, p.setValue(p.__color.toOriginal())) : this.value = p.__color.toString()\n                }\n\n                function c() {\n                    p.__onFinishChange && p.__onFinishChange.call(p, p.__color.toOriginal())\n                }\n\n                function u(e) {\n                    -1 === e.type.indexOf(\"touch\") && e.preventDefault();\n                    var t = p.__saturation_field.getBoundingClientRect(),\n                        n = e.touches && e.touches[0] || e,\n                        o = n.clientX,\n                        i = n.clientY,\n                        r = (o - t.left) / (t.right - t.left),\n                        s = 1 - (i - t.top) / (t.bottom - t.top);\n                    return s > 1 ? s = 1 : s < 0 && (s = 0), r > 1 ? r = 1 : r < 0 && (r = 0), p.__color.v = s, p.__color.s = r, p.setValue(p.__color.toOriginal()), !1\n                }\n\n                function _(e) {\n                    -1 === e.type.indexOf(\"touch\") && e.preventDefault();\n                    var t = p.__hue_field.getBoundingClientRect(),\n                        n = 1 - ((e.touches && e.touches[0] || e).clientY - t.top) / (t.bottom - t.top);\n                    return n > 1 ? n = 1 : n < 0 && (n = 0), p.__color.h = 360 * n, p.setValue(p.__color.toOriginal()), !1\n                }\n                F(this, t);\n                var h = V(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n));\n                h.__color = new I(h.getValue()), h.__temp = new I(0);\n                var p = h;\n                h.domElement = document.createElement(\"div\"), X.makeSelectable(h.domElement, !1), h.__selector = document.createElement(\"div\"), h.__selector.className = \"selector\", h.__saturation_field = document.createElement(\"div\"), h.__saturation_field.className = \"saturation-field\", h.__field_knob = document.createElement(\"div\"), h.__field_knob.className = \"field-knob\", h.__field_knob_border = \"2px solid \", h.__hue_knob = document.createElement(\"div\"), h.__hue_knob.className = \"hue-knob\", h.__hue_field = document.createElement(\"div\"), h.__hue_field.className = \"hue-field\", h.__input = document.createElement(\"input\"), h.__input.type = \"text\", h.__input_textShadow = \"0 1px 1px \", X.bind(h.__input, \"keydown\", function(e) {\n                    13 === e.keyCode && a.call(this)\n                }), X.bind(h.__input, \"blur\", a), X.bind(h.__selector, \"mousedown\", function() {\n                    X.addClass(this, \"drag\").bind(window, \"mouseup\", function() {\n                        X.removeClass(p.__selector, \"drag\")\n                    })\n                }), X.bind(h.__selector, \"touchstart\", function() {\n                    X.addClass(this, \"drag\").bind(window, \"touchend\", function() {\n                        X.removeClass(p.__selector, \"drag\")\n                    })\n                });\n                var f = document.createElement(\"div\");\n                return S.extend(h.__selector.style, {\n                    width: \"122px\",\n                    height: \"102px\",\n                    padding: \"3px\",\n                    backgroundColor: \"#222\",\n                    boxShadow: \"0px 1px 3px rgba(0,0,0,0.3)\"\n                }), S.extend(h.__field_knob.style, {\n                    position: \"absolute\",\n                    width: \"12px\",\n                    height: \"12px\",\n                    border: h.__field_knob_border + (h.__color.v < .5 ? \"#fff\" : \"#000\"),\n                    boxShadow: \"0px 1px 3px rgba(0,0,0,0.5)\",\n                    borderRadius: \"12px\",\n                    zIndex: 1\n                }), S.extend(h.__hue_knob.style, {\n                    position: \"absolute\",\n                    width: \"15px\",\n                    height: \"2px\",\n                    borderRight: \"4px solid #fff\",\n                    zIndex: 1\n                }), S.extend(h.__saturation_field.style, {\n                    width: \"100px\",\n                    height: \"100px\",\n                    border: \"1px solid #555\",\n                    marginRight: \"3px\",\n                    display: \"inline-block\",\n                    cursor: \"pointer\"\n                }), S.extend(f.style, {\n                    width: \"100%\",\n                    height: \"100%\",\n                    background: \"none\"\n                }), l(f, \"top\", \"rgba(0,0,0,0)\", \"#000\"), S.extend(h.__hue_field.style, {\n                    width: \"15px\",\n                    height: \"100px\",\n                    border: \"1px solid #555\",\n                    cursor: \"ns-resize\",\n                    position: \"absolute\",\n                    top: \"3px\",\n                    right: \"3px\"\n                }), d(h.__hue_field), S.extend(h.__input.style, {\n                    outline: \"none\",\n                    textAlign: \"center\",\n                    color: \"#fff\",\n                    border: 0,\n                    fontWeight: \"bold\",\n                    textShadow: h.__input_textShadow + \"rgba(0,0,0,0.7)\"\n                }), X.bind(h.__saturation_field, \"mousedown\", o), X.bind(h.__saturation_field, \"touchstart\", o), X.bind(h.__field_knob, \"mousedown\", o), X.bind(h.__field_knob, \"touchstart\", o), X.bind(h.__hue_field, \"mousedown\", i), X.bind(h.__hue_field, \"touchstart\", i), h.__saturation_field.appendChild(f), h.__selector.appendChild(h.__field_knob), h.__selector.appendChild(h.__saturation_field), h.__selector.appendChild(h.__hue_field), h.__hue_field.appendChild(h.__hue_knob), h.domElement.appendChild(h.__input), h.domElement.appendChild(h.__selector), h.updateDisplay(), h\n            }\n            return j(t, z), P(t, [{\n                key: \"updateDisplay\",\n                value: function() {\n                    var e = R(this.getValue());\n                    if (!1 !== e) {\n                        var t = !1;\n                        S.each(I.COMPONENTS, function(n) {\n                            if (!S.isUndefined(e[n]) && !S.isUndefined(this.__color.__state[n]) && e[n] !== this.__color.__state[n]) return t = !0, {}\n                        }, this), t && S.extend(this.__color.__state, e)\n                    }\n                    S.extend(this.__temp.__state, this.__color.__state), this.__temp.a = 1;\n                    var n = this.__color.v < .5 || this.__color.s > .5 ? 255 : 0,\n                        o = 255 - n;\n                    S.extend(this.__field_knob.style, {\n                        marginLeft: 100 * this.__color.s - 7 + \"px\",\n                        marginTop: 100 * (1 - this.__color.v) - 7 + \"px\",\n                        backgroundColor: this.__temp.toHexString(),\n                        border: this.__field_knob_border + \"rgb(\" + n + \",\" + n + \",\" + n + \")\"\n                    }), this.__hue_knob.style.marginTop = 100 * (1 - this.__color.h / 360) + \"px\", this.__temp.s = 1, this.__temp.v = 1, l(this.__saturation_field, \"left\", \"#fff\", this.__temp.toHexString()), this.__input.value = this.__color.toString(), S.extend(this.__input.style, {\n                        backgroundColor: this.__color.toHexString(),\n                        color: \"rgb(\" + n + \",\" + n + \",\" + n + \")\",\n                        textShadow: this.__input_textShadow + \"rgba(\" + o + \",\" + o + \",\" + o + \",.7)\"\n                    })\n                }\n            }]), t\n        }(),\n        ee = [\"-moz-\", \"-o-\", \"-webkit-\", \"-ms-\", \"\"],\n        te = {\n            load: function(e, t) {\n                var n = t || document,\n                    o = n.createElement(\"link\");\n                o.type = \"text/css\", o.rel = \"stylesheet\", o.href = e, n.getElementsByTagName(\"head\")[0].appendChild(o)\n            },\n            inject: function(e, t) {\n                var n = t || document,\n                    o = document.createElement(\"style\");\n                o.type = \"text/css\", o.innerHTML = e;\n                var i = n.getElementsByTagName(\"head\")[0];\n                try {\n                    i.appendChild(o)\n                } catch (e) {}\n            }\n        },\n        ne = function(e, t) {\n            var n = e[t];\n            return S.isArray(arguments[2]) || S.isObject(arguments[2]) ? new Y(e, t, arguments[2]) : S.isNumber(n) ? S.isNumber(arguments[2]) && S.isNumber(arguments[3]) ? S.isNumber(arguments[4]) ? new q(e, t, arguments[2], arguments[3], arguments[4]) : new q(e, t, arguments[2], arguments[3]) : S.isNumber(arguments[4]) ? new Q(e, t, {\n                min: arguments[2],\n                max: arguments[3],\n                step: arguments[4]\n            }) : new Q(e, t, {\n                min: arguments[2],\n                max: arguments[3]\n            }) : S.isString(n) ? new J(e, t) : S.isFunction(n) ? new Z(e, t, \"\") : S.isBoolean(n) ? new K(e, t) : null\n        },\n        oe = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(e) {\n            setTimeout(e, 1e3 / 60)\n        },\n        ie = function() {\n            function e() {\n                F(this, e), this.backgroundElement = document.createElement(\"div\"), S.extend(this.backgroundElement.style, {\n                    backgroundColor: \"rgba(0,0,0,0.8)\",\n                    top: 0,\n                    left: 0,\n                    display: \"none\",\n                    zIndex: \"1000\",\n                    opacity: 0,\n                    WebkitTransition: \"opacity 0.2s linear\",\n                    transition: \"opacity 0.2s linear\"\n                }), X.makeFullscreen(this.backgroundElement), this.backgroundElement.style.position = \"fixed\", this.domElement = document.createElement(\"div\"), S.extend(this.domElement.style, {\n                    position: \"fixed\",\n                    display: \"none\",\n                    zIndex: \"1001\",\n                    opacity: 0,\n                    WebkitTransition: \"-webkit-transform 0.2s ease-out, opacity 0.2s linear\",\n                    transition: \"transform 0.2s ease-out, opacity 0.2s linear\"\n                }), document.body.appendChild(this.backgroundElement), document.body.appendChild(this.domElement);\n                var t = this;\n                X.bind(this.backgroundElement, \"click\", function() {\n                    t.hide()\n                })\n            }\n            return P(e, [{\n                key: \"show\",\n                value: function() {\n                    var e = this;\n                    this.backgroundElement.style.display = \"block\", this.domElement.style.display = \"block\", this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = \"scale(1.1)\", this.layout(), S.defer(function() {\n                        e.backgroundElement.style.opacity = 1, e.domElement.style.opacity = 1, e.domElement.style.webkitTransform = \"scale(1)\"\n                    })\n                }\n            }, {\n                key: \"hide\",\n                value: function() {\n                    var e = this,\n                        t = function t() {\n                            e.domElement.style.display = \"none\", e.backgroundElement.style.display = \"none\", X.unbind(e.domElement, \"webkitTransitionEnd\", t), X.unbind(e.domElement, \"transitionend\", t), X.unbind(e.domElement, \"oTransitionEnd\", t)\n                        };\n                    X.bind(this.domElement, \"webkitTransitionEnd\", t), X.bind(this.domElement, \"transitionend\", t), X.bind(this.domElement, \"oTransitionEnd\", t), this.backgroundElement.style.opacity = 0, this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = \"scale(1.1)\"\n                }\n            }, {\n                key: \"layout\",\n                value: function() {\n                    this.domElement.style.left = window.innerWidth / 2 - X.getWidth(this.domElement) / 2 + \"px\", this.domElement.style.top = window.innerHeight / 2 - X.getHeight(this.domElement) / 2 + \"px\"\n                }\n            }]), e\n        }(),\n        re = function(e) {\n            if (e && \"undefined\" != typeof window) {\n                var t = document.createElement(\"style\");\n                return t.setAttribute(\"type\", \"text/css\"), t.innerHTML = e, document.head.appendChild(t), e\n            }\n        }(\".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\");\n    te.inject(re);\n    var se = \"Default\",\n        ae = function() {\n            try {\n                return !!window.localStorage\n            } catch (e) {\n                return !1\n            }\n        }(),\n        le = void 0,\n        de = !0,\n        ce = void 0,\n        ue = !1,\n        _e = [],\n        he = function e(t) {\n            var n = this,\n                o = t || {};\n            this.domElement = document.createElement(\"div\"), this.__ul = document.createElement(\"ul\"), this.domElement.appendChild(this.__ul), X.addClass(this.domElement, \"dg\"), this.__folders = {}, this.__controllers = [], this.__rememberedObjects = [], this.__rememberedObjectIndecesToControllers = [], this.__listening = [], o = S.defaults(o, {\n                closeOnTop: !1,\n                autoPlace: !0,\n                width: e.DEFAULT_WIDTH\n            }), o = S.defaults(o, {\n                resizable: o.autoPlace,\n                hideable: o.autoPlace\n            }), S.isUndefined(o.load) ? o.load = {\n                preset: se\n            } : o.preset && (o.load.preset = o.preset), S.isUndefined(o.parent) && o.hideable && _e.push(this), o.resizable = S.isUndefined(o.parent) && o.resizable, o.autoPlace && S.isUndefined(o.scrollable) && (o.scrollable = !0);\n            var i = ae && \"true\" === localStorage.getItem(m(this, \"isLocal\")),\n                r = void 0,\n                s = void 0;\n            if (Object.defineProperties(this, {\n                    parent: {\n                        get: function() {\n                            return o.parent\n                        }\n                    },\n                    scrollable: {\n                        get: function() {\n                            return o.scrollable\n                        }\n                    },\n                    autoPlace: {\n                        get: function() {\n                            return o.autoPlace\n                        }\n                    },\n                    closeOnTop: {\n                        get: function() {\n                            return o.closeOnTop\n                        }\n                    },\n                    preset: {\n                        get: function() {\n                            return n.parent ? n.getRoot().preset : o.load.preset\n                        },\n                        set: function(e) {\n                            n.parent ? n.getRoot().preset = e : o.load.preset = e, E(this), n.revert()\n                        }\n                    },\n                    width: {\n                        get: function() {\n                            return o.width\n                        },\n                        set: function(e) {\n                            o.width = e, w(n, e)\n                        }\n                    },\n                    name: {\n                        get: function() {\n                            return o.name\n                        },\n                        set: function(e) {\n                            o.name = e, s && (s.innerHTML = o.name)\n                        }\n                    },\n                    closed: {\n                        get: function() {\n                            return o.closed\n                        },\n                        set: function(t) {\n                            o.closed = t, o.closed ? X.addClass(n.__ul, e.CLASS_CLOSED) : X.removeClass(n.__ul, e.CLASS_CLOSED), this.onResize(), n.__closeButton && (n.__closeButton.innerHTML = t ? e.TEXT_OPEN : e.TEXT_CLOSED)\n                        }\n                    },\n                    load: {\n                        get: function() {\n                            return o.load\n                        }\n                    },\n                    useLocalStorage: {\n                        get: function() {\n                            return i\n                        },\n                        set: function(e) {\n                            ae && (i = e, e ? X.bind(window, \"unload\", r) : X.unbind(window, \"unload\", r), localStorage.setItem(m(n, \"isLocal\"), e))\n                        }\n                    }\n                }), S.isUndefined(o.parent)) {\n                if (this.closed = o.closed || !1, X.addClass(this.domElement, e.CLASS_MAIN), X.makeSelectable(this.domElement, !1), ae && i) {\n                    n.useLocalStorage = !0;\n                    var a = localStorage.getItem(m(this, \"gui\"));\n                    a && (o.load = JSON.parse(a))\n                }\n                this.__closeButton = document.createElement(\"div\"), this.__closeButton.innerHTML = e.TEXT_CLOSED, X.addClass(this.__closeButton, e.CLASS_CLOSE_BUTTON), o.closeOnTop ? (X.addClass(this.__closeButton, e.CLASS_CLOSE_TOP), this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0])) : (X.addClass(this.__closeButton, e.CLASS_CLOSE_BOTTOM), this.domElement.appendChild(this.__closeButton)), X.bind(this.__closeButton, \"click\", function() {\n                    n.closed = !n.closed\n                })\n            } else {\n                void 0 === o.closed && (o.closed = !0);\n                var l = document.createTextNode(o.name);\n                X.addClass(l, \"controller-name\"), s = c(n, l);\n                X.addClass(this.__ul, e.CLASS_CLOSED), X.addClass(s, \"title\"), X.bind(s, \"click\", function(e) {\n                    return e.preventDefault(), n.closed = !n.closed, !1\n                }), o.closed || (this.closed = !1)\n            }\n            o.autoPlace && (S.isUndefined(o.parent) && (de && (ce = document.createElement(\"div\"), X.addClass(ce, \"dg\"), X.addClass(ce, e.CLASS_AUTO_PLACE_CONTAINER), document.body.appendChild(ce), de = !1), ce.appendChild(this.domElement), X.addClass(this.domElement, e.CLASS_AUTO_PLACE)), this.parent || w(n, o.width)), this.__resizeHandler = function() {\n                n.onResizeDebounced()\n            }, X.bind(window, \"resize\", this.__resizeHandler), X.bind(this.__ul, \"webkitTransitionEnd\", this.__resizeHandler), X.bind(this.__ul, \"transitionend\", this.__resizeHandler), X.bind(this.__ul, \"oTransitionEnd\", this.__resizeHandler), this.onResize(), o.resizable && y(this), r = function() {\n                ae && \"true\" === localStorage.getItem(m(n, \"isLocal\")) && localStorage.setItem(m(n, \"gui\"), JSON.stringify(n.getSaveObject()))\n            }, this.saveToLocalStorageIfPossible = r, o.parent || function() {\n                var e = n.getRoot();\n                e.width += 1, S.defer(function() {\n                    e.width -= 1\n                })\n            }()\n        };\n    he.toggleHide = function() {\n        ue = !ue, S.each(_e, function(e) {\n            e.domElement.style.display = ue ? \"none\" : \"\"\n        })\n    }, he.CLASS_AUTO_PLACE = \"a\", he.CLASS_AUTO_PLACE_CONTAINER = \"ac\", he.CLASS_MAIN = \"main\", he.CLASS_CONTROLLER_ROW = \"cr\", he.CLASS_TOO_TALL = \"taller-than-window\", he.CLASS_CLOSED = \"closed\", he.CLASS_CLOSE_BUTTON = \"close-button\", he.CLASS_CLOSE_TOP = \"close-top\", he.CLASS_CLOSE_BOTTOM = \"close-bottom\", he.CLASS_DRAG = \"drag\", he.DEFAULT_WIDTH = 245, he.TEXT_CLOSED = \"Close Controls\", he.TEXT_OPEN = \"Open Controls\", he._keydownHandler = function(e) {\n        \"text\" === document.activeElement.type || 72 !== e.which && 72 !== e.keyCode || he.toggleHide()\n    }, X.bind(window, \"keydown\", he._keydownHandler, !1), S.extend(he.prototype, {\n        add: function(e, t) {\n            return f(this, e, t, {\n                factoryArgs: Array.prototype.slice.call(arguments, 2)\n            })\n        },\n        addColor: function(e, t) {\n            return f(this, e, t, {\n                color: !0\n            })\n        },\n        remove: function(e) {\n            this.__ul.removeChild(e.__li), this.__controllers.splice(this.__controllers.indexOf(e), 1);\n            var t = this;\n            S.defer(function() {\n                t.onResize()\n            })\n        },\n        destroy: function() {\n            if (this.parent) throw new Error(\"Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.\");\n            this.autoPlace && ce.removeChild(this.domElement);\n            var e = this;\n            S.each(this.__folders, function(t) {\n                e.removeFolder(t)\n            }), X.unbind(window, \"keydown\", he._keydownHandler, !1), u(this)\n        },\n        addFolder: function(e) {\n            if (void 0 !== this.__folders[e]) throw new Error('You already have a folder in this GUI by the name \"' + e + '\"');\n            var t = {\n                name: e,\n                parent: this\n            };\n            t.autoPlace = this.autoPlace, this.load && this.load.folders && this.load.folders[e] && (t.closed = this.load.folders[e].closed, t.load = this.load.folders[e]);\n            var n = new he(t);\n            this.__folders[e] = n;\n            var o = c(this, n.domElement);\n            return X.addClass(o, \"folder\"), n\n        },\n        removeFolder: function(e) {\n            this.__ul.removeChild(e.domElement.parentElement), delete this.__folders[e.name], this.load && this.load.folders && this.load.folders[e.name] && delete this.load.folders[e.name], u(e);\n            var t = this;\n            S.each(e.__folders, function(t) {\n                e.removeFolder(t)\n            }), S.defer(function() {\n                t.onResize()\n            })\n        },\n        open: function() {\n            this.closed = !1\n        },\n        close: function() {\n            this.closed = !0\n        },\n        hide: function() {\n            this.domElement.style.display = \"none\"\n        },\n        show: function() {\n            this.domElement.style.display = \"\"\n        },\n        onResize: function() {\n            var e = this.getRoot();\n            if (e.scrollable) {\n                var t = X.getOffset(e.__ul).top,\n                    n = 0;\n                S.each(e.__ul.childNodes, function(t) {\n                    e.autoPlace && t === e.__save_row || (n += X.getHeight(t))\n                }), window.innerHeight - t - 20 < n ? (X.addClass(e.domElement, he.CLASS_TOO_TALL), e.__ul.style.height = window.innerHeight - t - 20 + \"px\") : (X.removeClass(e.domElement, he.CLASS_TOO_TALL), e.__ul.style.height = \"auto\")\n            }\n            e.__resize_handle && S.defer(function() {\n                e.__resize_handle.style.height = e.__ul.offsetHeight + \"px\"\n            }), e.__closeButton && (e.__closeButton.style.width = e.width + \"px\")\n        },\n        onResizeDebounced: S.debounce(function() {\n            this.onResize()\n        }, 50),\n        remember: function() {\n            if (S.isUndefined(le) && ((le = new ie).domElement.innerHTML = '<div id=\"dg-save\" class=\"dg dialogue\">\\n\\n  Here\\'s the new load parameter for your <code>GUI</code>\\'s constructor:\\n\\n  <textarea id=\"dg-new-constructor\"></textarea>\\n\\n  <div id=\"dg-save-locally\">\\n\\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>\\'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>'), this.parent) throw new Error(\"You can only call remember on a top level GUI.\");\n            var e = this;\n            S.each(Array.prototype.slice.call(arguments), function(t) {\n                0 === e.__rememberedObjects.length && v(e), -1 === e.__rememberedObjects.indexOf(t) && e.__rememberedObjects.push(t)\n            }), this.autoPlace && w(this, this.width)\n        },\n        getRoot: function() {\n            for (var e = this; e.parent;) e = e.parent;\n            return e\n        },\n        getSaveObject: function() {\n            var e = this.load;\n            return e.closed = this.closed, this.__rememberedObjects.length > 0 && (e.preset = this.preset, e.remembered || (e.remembered = {}), e.remembered[this.preset] = x(this)), e.folders = {}, S.each(this.__folders, function(t, n) {\n                e.folders[n] = t.getSaveObject()\n            }), e\n        },\n        save: function() {\n            this.load.remembered || (this.load.remembered = {}), this.load.remembered[this.preset] = x(this), _(this, !1), this.saveToLocalStorageIfPossible()\n        },\n        saveAs: function(e) {\n            this.load.remembered || (this.load.remembered = {}, this.load.remembered[se] = x(this, !0)), this.load.remembered[e] = x(this), this.preset = e, g(this, e, !0), this.saveToLocalStorageIfPossible()\n        },\n        revert: function(e) {\n            S.each(this.__controllers, function(t) {\n                this.getRoot().load.remembered ? p(e || this.getRoot(), t) : t.setValue(t.initialValue), t.__onFinishChange && t.__onFinishChange.call(t, t.getValue())\n            }, this), S.each(this.__folders, function(e) {\n                e.revert(e)\n            }), e || _(this.getRoot(), !1)\n        },\n        listen: function(e) {\n            var t = 0 === this.__listening.length;\n            this.__listening.push(e), t && C(this.__listening)\n        },\n        updateDisplay: function() {\n            S.each(this.__controllers, function(e) {\n                e.updateDisplay()\n            }), S.each(this.__folders, function(e) {\n                e.updateDisplay()\n            })\n        }\n    });\n    var pe = {\n            Color: I,\n            math: N,\n            interpret: R\n        },\n        fe = {\n            Controller: z,\n            BooleanController: K,\n            OptionController: Y,\n            StringController: J,\n            NumberController: W,\n            NumberControllerBox: Q,\n            NumberControllerSlider: q,\n            FunctionController: Z,\n            ColorController: $\n        },\n        me = {\n            dom: X\n        },\n        ge = {\n            GUI: he\n        },\n        be = he,\n        ve = {\n            color: pe,\n            controllers: fe,\n            dom: me,\n            gui: ge,\n            GUI: be\n        };\n    e.color = pe, e.controllers = fe, e.dom = me, e.gui = ge, e.GUI = be, e.default = ve, Object.defineProperty(e, \"__esModule\", {\n        value: !0\n    })\n});",
    "static": true,
    "longname": "E:/rgnjs/js/lib/dat.gui.min.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 180,
    "kind": "file",
    "name": "js/lib/GLTFExporter.js",
    "content": "/**\n * @author fernandojsg / http://fernandojsg.com\n * @author Don McCurdy / https://www.donmccurdy.com\n * @author Takahiro / https://github.com/takahirox\n */\n\nimport {\n    BufferAttribute,\n    BufferGeometry,\n    ClampToEdgeWrapping,\n    DoubleSide,\n    InterpolateDiscrete,\n    InterpolateLinear,\n    LinearFilter,\n    LinearMipmapLinearFilter,\n    LinearMipmapNearestFilter,\n    MathUtils,\n    MirroredRepeatWrapping,\n    NearestFilter,\n    NearestMipmapLinearFilter,\n    NearestMipmapNearestFilter,\n    PropertyBinding,\n    RGBAFormat,\n    RepeatWrapping,\n    Scene,\n    Vector3\n} from \"../../../build/three.module.js\";\n\n//------------------------------------------------------------------------------\n// Constants\n//------------------------------------------------------------------------------\nvar WEBGL_CONSTANTS = {\n    POINTS: 0x0000,\n    LINES: 0x0001,\n    LINE_LOOP: 0x0002,\n    LINE_STRIP: 0x0003,\n    TRIANGLES: 0x0004,\n    TRIANGLE_STRIP: 0x0005,\n    TRIANGLE_FAN: 0x0006,\n\n    UNSIGNED_BYTE: 0x1401,\n    UNSIGNED_SHORT: 0x1403,\n    FLOAT: 0x1406,\n    UNSIGNED_INT: 0x1405,\n    ARRAY_BUFFER: 0x8892,\n    ELEMENT_ARRAY_BUFFER: 0x8893,\n\n    NEAREST: 0x2600,\n    LINEAR: 0x2601,\n    NEAREST_MIPMAP_NEAREST: 0x2700,\n    LINEAR_MIPMAP_NEAREST: 0x2701,\n    NEAREST_MIPMAP_LINEAR: 0x2702,\n    LINEAR_MIPMAP_LINEAR: 0x2703,\n\n    CLAMP_TO_EDGE: 33071,\n    MIRRORED_REPEAT: 33648,\n    REPEAT: 10497\n};\n\nvar THREE_TO_WEBGL = {};\n\nTHREE_TO_WEBGL[NearestFilter] = WEBGL_CONSTANTS.NEAREST;\nTHREE_TO_WEBGL[NearestMipmapNearestFilter] = WEBGL_CONSTANTS.NEAREST_MIPMAP_NEAREST;\nTHREE_TO_WEBGL[NearestMipmapLinearFilter] = WEBGL_CONSTANTS.NEAREST_MIPMAP_LINEAR;\nTHREE_TO_WEBGL[LinearFilter] = WEBGL_CONSTANTS.LINEAR;\nTHREE_TO_WEBGL[LinearMipmapNearestFilter] = WEBGL_CONSTANTS.LINEAR_MIPMAP_NEAREST;\nTHREE_TO_WEBGL[LinearMipmapLinearFilter] = WEBGL_CONSTANTS.LINEAR_MIPMAP_LINEAR;\n\nTHREE_TO_WEBGL[ClampToEdgeWrapping] = WEBGL_CONSTANTS.CLAMP_TO_EDGE;\nTHREE_TO_WEBGL[RepeatWrapping] = WEBGL_CONSTANTS.REPEAT;\nTHREE_TO_WEBGL[MirroredRepeatWrapping] = WEBGL_CONSTANTS.MIRRORED_REPEAT;\n\nvar PATH_PROPERTIES = {\n    scale: 'scale',\n    position: 'translation',\n    quaternion: 'rotation',\n    morphTargetInfluences: 'weights'\n};\n\n//------------------------------------------------------------------------------\n// GLTF Exporter\n//------------------------------------------------------------------------------\nvar GLTFExporter = function() {};\n\nGLTFExporter.prototype = {\n\n    constructor: GLTFExporter,\n\n    /**\n     * Parse scenes and generate GLTF output\n     * @param  {Scene or [THREE.Scenes]} input   Scene or Array of THREE.Scenes\n     * @param  {Function} onDone  Callback on completed\n     * @param  {Object} options options\n     */\n    parse: function(input, onDone, options) {\n\n        var DEFAULT_OPTIONS = {\n            binary: false,\n            trs: false,\n            onlyVisible: true,\n            truncateDrawRange: true,\n            embedImages: true,\n            maxTextureSize: Infinity,\n            animations: [],\n            forceIndices: false,\n            forcePowerOfTwoTextures: false,\n            includeCustomExtensions: false\n        };\n\n        options = Object.assign({}, DEFAULT_OPTIONS, options);\n\n        if (options.animations.length > 0) {\n\n            // Only TRS properties, and not matrices, may be targeted by animation.\n            options.trs = true;\n\n        }\n\n        var outputJSON = {\n\n            asset: {\n\n                version: \"2.0\",\n                generator: \"GLTFExporter\"\n\n            }\n\n        };\n\n        var byteOffset = 0;\n        var buffers = [];\n        var pending = [];\n        var nodeMap = new Map();\n        var skins = [];\n        var extensionsUsed = {};\n        var cachedData = {\n\n            meshes: new Map(),\n            attributes: new Map(),\n            attributesNormalized: new Map(),\n            materials: new Map(),\n            textures: new Map(),\n            images: new Map()\n\n        };\n\n        var cachedCanvas;\n\n        var uids = new Map();\n        var uid = 0;\n\n        /**\n         * Assign and return a temporal unique id for an object\n         * especially which doesn't have .uuid\n         * @param  {Object} object\n         * @return {Integer}\n         */\n        function getUID(object) {\n\n            if (!uids.has(object)) uids.set(object, uid++);\n\n            return uids.get(object);\n\n        }\n\n        /**\n         * Compare two arrays\n         * @param  {Array} array1 Array 1 to compare\n         * @param  {Array} array2 Array 2 to compare\n         * @return {Boolean}        Returns true if both arrays are equal\n         */\n        function equalArray(array1, array2) {\n\n            return (array1.length === array2.length) && array1.every(function(element, index) {\n\n                return element === array2[index];\n\n            });\n\n        }\n\n        /**\n         * Converts a string to an ArrayBuffer.\n         * @param  {string} text\n         * @return {ArrayBuffer}\n         */\n        function stringToArrayBuffer(text) {\n\n            if (window.TextEncoder !== undefined) {\n\n                return new TextEncoder().encode(text).buffer;\n\n            }\n\n            var array = new Uint8Array(new ArrayBuffer(text.length));\n\n            for (var i = 0, il = text.length; i < il; i++) {\n\n                var value = text.charCodeAt(i);\n\n                // Replacing multi-byte character with space(0x20).\n                array[i] = value > 0xFF ? 0x20 : value;\n\n            }\n\n            return array.buffer;\n\n        }\n\n        /**\n         * Get the min and max vectors from the given attribute\n         * @param  {BufferAttribute} attribute Attribute to find the min/max in range from start to start + count\n         * @param  {Integer} start\n         * @param  {Integer} count\n         * @return {Object} Object containing the `min` and `max` values (As an array of attribute.itemSize components)\n         */\n        function getMinMax(attribute, start, count) {\n\n            var output = {\n\n                min: new Array(attribute.itemSize).fill(Number.POSITIVE_INFINITY),\n                max: new Array(attribute.itemSize).fill(Number.NEGATIVE_INFINITY)\n\n            };\n\n            for (var i = start; i < start + count; i++) {\n\n                for (var a = 0; a < attribute.itemSize; a++) {\n\n                    var value = attribute.array[i * attribute.itemSize + a];\n                    output.min[a] = Math.min(output.min[a], value);\n                    output.max[a] = Math.max(output.max[a], value);\n\n                }\n\n            }\n\n            return output;\n\n        }\n\n        /**\n         * Checks if image size is POT.\n         *\n         * @param {Image} image The image to be checked.\n         * @returns {Boolean} Returns true if image size is POT.\n         *\n         */\n        function isPowerOfTwo(image) {\n\n            return MathUtils.isPowerOfTwo(image.width) && MathUtils.isPowerOfTwo(image.height);\n\n        }\n\n        /**\n         * Checks if normal attribute values are normalized.\n         *\n         * @param {BufferAttribute} normal\n         * @returns {Boolean}\n         *\n         */\n        function isNormalizedNormalAttribute(normal) {\n\n            if (cachedData.attributesNormalized.has(normal)) {\n\n                return false;\n\n            }\n\n            var v = new Vector3();\n\n            for (var i = 0, il = normal.count; i < il; i++) {\n\n                // 0.0005 is from glTF-validator\n                if (Math.abs(v.fromArray(normal.array, i * 3).length() - 1.0) > 0.0005) return false;\n\n            }\n\n            return true;\n\n        }\n\n        /**\n         * Creates normalized normal buffer attribute.\n         *\n         * @param {BufferAttribute} normal\n         * @returns {BufferAttribute}\n         *\n         */\n        function createNormalizedNormalAttribute(normal) {\n\n            if (cachedData.attributesNormalized.has(normal)) {\n\n                return cachedData.attributesNormalized.get(normal);\n\n            }\n\n            var attribute = normal.clone();\n\n            var v = new Vector3();\n\n            for (var i = 0, il = attribute.count; i < il; i++) {\n\n                v.fromArray(attribute.array, i * 3);\n\n                if (v.x === 0 && v.y === 0 && v.z === 0) {\n\n                    // if values can't be normalized set (1, 0, 0)\n                    v.setX(1.0);\n\n                } else {\n\n                    v.normalize();\n\n                }\n\n                v.toArray(attribute.array, i * 3);\n\n            }\n\n            cachedData.attributesNormalized.set(normal, attribute);\n\n            return attribute;\n\n        }\n\n        /**\n         * Get the required size + padding for a buffer, rounded to the next 4-byte boundary.\n         * https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#data-alignment\n         *\n         * @param {Integer} bufferSize The size the original buffer.\n         * @returns {Integer} new buffer size with required padding.\n         *\n         */\n        function getPaddedBufferSize(bufferSize) {\n\n            return Math.ceil(bufferSize / 4) * 4;\n\n        }\n\n        /**\n         * Returns a buffer aligned to 4-byte boundary.\n         *\n         * @param {ArrayBuffer} arrayBuffer Buffer to pad\n         * @param {Integer} paddingByte (Optional)\n         * @returns {ArrayBuffer} The same buffer if it's already aligned to 4-byte boundary or a new buffer\n         */\n        function getPaddedArrayBuffer(arrayBuffer, paddingByte) {\n\n            paddingByte = paddingByte || 0;\n\n            var paddedLength = getPaddedBufferSize(arrayBuffer.byteLength);\n\n            if (paddedLength !== arrayBuffer.byteLength) {\n\n                var array = new Uint8Array(paddedLength);\n                array.set(new Uint8Array(arrayBuffer));\n\n                if (paddingByte !== 0) {\n\n                    for (var i = arrayBuffer.byteLength; i < paddedLength; i++) {\n\n                        array[i] = paddingByte;\n\n                    }\n\n                }\n\n                return array.buffer;\n\n            }\n\n            return arrayBuffer;\n\n        }\n\n        /**\n         * Serializes a userData.\n         *\n         * @param {THREE.Object3D|THREE.Material} object\n         * @param {Object} gltfProperty\n         */\n        function serializeUserData(object, gltfProperty) {\n\n            if (Object.keys(object.userData).length === 0) {\n\n                return;\n\n            }\n\n            try {\n\n                var json = JSON.parse(JSON.stringify(object.userData));\n\n                if (options.includeCustomExtensions && json.gltfExtensions) {\n\n                    if (gltfProperty.extensions === undefined) {\n\n                        gltfProperty.extensions = {};\n\n                    }\n\n                    for (var extensionName in json.gltfExtensions) {\n\n                        gltfProperty.extensions[extensionName] = json.gltfExtensions[extensionName];\n                        extensionsUsed[extensionName] = true;\n\n                    }\n\n                    delete json.gltfExtensions;\n\n                }\n\n                if (Object.keys(json).length > 0) {\n\n                    gltfProperty.extras = json;\n\n                }\n\n            } catch (error) {\n\n                console.warn('THREE.GLTFExporter: userData of \\'' + object.name + '\\' ' +\n                    'won\\'t be serialized because of JSON.stringify error - ' + error.message);\n\n            }\n\n        }\n\n        /**\n         * Applies a texture transform, if present, to the map definition. Requires\n         * the KHR_texture_transform extension.\n         */\n        function applyTextureTransform(mapDef, texture) {\n\n            var didTransform = false;\n            var transformDef = {};\n\n            if (texture.offset.x !== 0 || texture.offset.y !== 0) {\n\n                transformDef.offset = texture.offset.toArray();\n                didTransform = true;\n\n            }\n\n            if (texture.rotation !== 0) {\n\n                transformDef.rotation = texture.rotation;\n                didTransform = true;\n\n            }\n\n            if (texture.repeat.x !== 1 || texture.repeat.y !== 1) {\n\n                transformDef.scale = texture.repeat.toArray();\n                didTransform = true;\n\n            }\n\n            if (didTransform) {\n\n                mapDef.extensions = mapDef.extensions || {};\n                mapDef.extensions['KHR_texture_transform'] = transformDef;\n                extensionsUsed['KHR_texture_transform'] = true;\n\n            }\n\n        }\n\n        /**\n         * Process a buffer to append to the default one.\n         * @param  {ArrayBuffer} buffer\n         * @return {Integer}\n         */\n        function processBuffer(buffer) {\n\n            if (!outputJSON.buffers) {\n\n                outputJSON.buffers = [{\n                    byteLength: 0\n                }];\n\n            }\n\n            // All buffers are merged before export.\n            buffers.push(buffer);\n\n            return 0;\n\n        }\n\n        /**\n         * Process and generate a BufferView\n         * @param  {BufferAttribute} attribute\n         * @param  {number} componentType\n         * @param  {number} start\n         * @param  {number} count\n         * @param  {number} target (Optional) Target usage of the BufferView\n         * @return {Object}\n         */\n        function processBufferView(attribute, componentType, start, count, target) {\n\n            if (!outputJSON.bufferViews) {\n\n                outputJSON.bufferViews = [];\n\n            }\n\n            // Create a new dataview and dump the attribute's array into it\n\n            var componentSize;\n\n            if (componentType === WEBGL_CONSTANTS.UNSIGNED_BYTE) {\n\n                componentSize = 1;\n\n            } else if (componentType === WEBGL_CONSTANTS.UNSIGNED_SHORT) {\n\n                componentSize = 2;\n\n            } else {\n\n                componentSize = 4;\n\n            }\n\n            var byteLength = getPaddedBufferSize(count * attribute.itemSize * componentSize);\n            var dataView = new DataView(new ArrayBuffer(byteLength));\n            var offset = 0;\n\n            for (var i = start; i < start + count; i++) {\n\n                for (var a = 0; a < attribute.itemSize; a++) {\n\n                    // @TODO Fails on InterleavedBufferAttribute, and could probably be\n                    // optimized for normal BufferAttribute.\n                    var value = attribute.array[i * attribute.itemSize + a];\n\n                    if (componentType === WEBGL_CONSTANTS.FLOAT) {\n\n                        dataView.setFloat32(offset, value, true);\n\n                    } else if (componentType === WEBGL_CONSTANTS.UNSIGNED_INT) {\n\n                        dataView.setUint32(offset, value, true);\n\n                    } else if (componentType === WEBGL_CONSTANTS.UNSIGNED_SHORT) {\n\n                        dataView.setUint16(offset, value, true);\n\n                    } else if (componentType === WEBGL_CONSTANTS.UNSIGNED_BYTE) {\n\n                        dataView.setUint8(offset, value);\n\n                    }\n\n                    offset += componentSize;\n\n                }\n\n            }\n\n            var gltfBufferView = {\n\n                buffer: processBuffer(dataView.buffer),\n                byteOffset: byteOffset,\n                byteLength: byteLength\n\n            };\n\n            if (target !== undefined) gltfBufferView.target = target;\n\n            if (target === WEBGL_CONSTANTS.ARRAY_BUFFER) {\n\n                // Only define byteStride for vertex attributes.\n                gltfBufferView.byteStride = attribute.itemSize * componentSize;\n\n            }\n\n            byteOffset += byteLength;\n\n            outputJSON.bufferViews.push(gltfBufferView);\n\n            // @TODO Merge bufferViews where possible.\n            var output = {\n\n                id: outputJSON.bufferViews.length - 1,\n                byteLength: 0\n\n            };\n\n            return output;\n\n        }\n\n        /**\n         * Process and generate a BufferView from an image Blob.\n         * @param {Blob} blob\n         * @return {Promise<Integer>}\n         */\n        function processBufferViewImage(blob) {\n\n            if (!outputJSON.bufferViews) {\n\n                outputJSON.bufferViews = [];\n\n            }\n\n            return new Promise(function(resolve) {\n\n                var reader = new window.FileReader();\n                reader.readAsArrayBuffer(blob);\n                reader.onloadend = function() {\n\n                    var buffer = getPaddedArrayBuffer(reader.result);\n\n                    var bufferView = {\n                        buffer: processBuffer(buffer),\n                        byteOffset: byteOffset,\n                        byteLength: buffer.byteLength\n                    };\n\n                    byteOffset += buffer.byteLength;\n\n                    outputJSON.bufferViews.push(bufferView);\n\n                    resolve(outputJSON.bufferViews.length - 1);\n\n                };\n\n            });\n\n        }\n\n        /**\n         * Process attribute to generate an accessor\n         * @param  {BufferAttribute} attribute Attribute to process\n         * @param  {BufferGeometry} geometry (Optional) Geometry used for truncated draw range\n         * @param  {Integer} start (Optional)\n         * @param  {Integer} count (Optional)\n         * @return {Integer}           Index of the processed accessor on the \"accessors\" array\n         */\n        function processAccessor(attribute, geometry, start, count) {\n\n            var types = {\n\n                1: 'SCALAR',\n                2: 'VEC2',\n                3: 'VEC3',\n                4: 'VEC4',\n                16: 'MAT4'\n\n            };\n\n            var componentType;\n\n            // Detect the component type of the attribute array (float, uint or ushort)\n            if (attribute.array.constructor === Float32Array) {\n\n                componentType = WEBGL_CONSTANTS.FLOAT;\n\n            } else if (attribute.array.constructor === Uint32Array) {\n\n                componentType = WEBGL_CONSTANTS.UNSIGNED_INT;\n\n            } else if (attribute.array.constructor === Uint16Array) {\n\n                componentType = WEBGL_CONSTANTS.UNSIGNED_SHORT;\n\n            } else if (attribute.array.constructor === Uint8Array) {\n\n                componentType = WEBGL_CONSTANTS.UNSIGNED_BYTE;\n\n            } else {\n\n                throw new Error('THREE.GLTFExporter: Unsupported bufferAttribute component type.');\n\n            }\n\n            if (start === undefined) start = 0;\n            if (count === undefined) count = attribute.count;\n\n            // @TODO Indexed buffer geometry with drawRange not supported yet\n            if (options.truncateDrawRange && geometry !== undefined && geometry.index === null) {\n\n                var end = start + count;\n                var end2 = geometry.drawRange.count === Infinity ?\n                    attribute.count :\n                    geometry.drawRange.start + geometry.drawRange.count;\n\n                start = Math.max(start, geometry.drawRange.start);\n                count = Math.min(end, end2) - start;\n\n                if (count < 0) count = 0;\n\n            }\n\n            // Skip creating an accessor if the attribute doesn't have data to export\n            if (count === 0) {\n\n                return null;\n\n            }\n\n            var minMax = getMinMax(attribute, start, count);\n\n            var bufferViewTarget;\n\n            // If geometry isn't provided, don't infer the target usage of the bufferView. For\n            // animation samplers, target must not be set.\n            if (geometry !== undefined) {\n\n                bufferViewTarget = attribute === geometry.index ? WEBGL_CONSTANTS.ELEMENT_ARRAY_BUFFER : WEBGL_CONSTANTS.ARRAY_BUFFER;\n\n            }\n\n            var bufferView = processBufferView(attribute, componentType, start, count, bufferViewTarget);\n\n            var gltfAccessor = {\n\n                bufferView: bufferView.id,\n                byteOffset: bufferView.byteOffset,\n                componentType: componentType,\n                count: count,\n                max: minMax.max,\n                min: minMax.min,\n                type: types[attribute.itemSize]\n\n            };\n\n            if (!outputJSON.accessors) {\n\n                outputJSON.accessors = [];\n\n            }\n\n            outputJSON.accessors.push(gltfAccessor);\n\n            return outputJSON.accessors.length - 1;\n\n        }\n\n        /**\n         * Process image\n         * @param  {Image} image to process\n         * @param  {Integer} format of the image (e.g. THREE.RGBFormat, RGBAFormat etc)\n         * @param  {Boolean} flipY before writing out the image\n         * @return {Integer}     Index of the processed texture in the \"images\" array\n         */\n        function processImage(image, format, flipY) {\n\n            if (!cachedData.images.has(image)) {\n\n                cachedData.images.set(image, {});\n\n            }\n\n            var cachedImages = cachedData.images.get(image);\n            var mimeType = format === RGBAFormat ? 'image/png' : 'image/jpeg';\n            var key = mimeType + \":flipY/\" + flipY.toString();\n\n            if (cachedImages[key] !== undefined) {\n\n                return cachedImages[key];\n\n            }\n\n            if (!outputJSON.images) {\n\n                outputJSON.images = [];\n\n            }\n\n            var gltfImage = {\n                mimeType: mimeType\n            };\n\n            if (options.embedImages) {\n\n                var canvas = cachedCanvas = cachedCanvas || document.createElement('canvas');\n\n                canvas.width = Math.min(image.width, options.maxTextureSize);\n                canvas.height = Math.min(image.height, options.maxTextureSize);\n\n                if (options.forcePowerOfTwoTextures && !isPowerOfTwo(canvas)) {\n\n                    console.warn('GLTFExporter: Resized non-power-of-two image.', image);\n\n                    canvas.width = MathUtils.floorPowerOfTwo(canvas.width);\n                    canvas.height = MathUtils.floorPowerOfTwo(canvas.height);\n\n                }\n\n                var ctx = canvas.getContext('2d');\n\n                if (flipY === true) {\n\n                    ctx.translate(0, canvas.height);\n                    ctx.scale(1, -1);\n\n                }\n\n                ctx.drawImage(image, 0, 0, canvas.width, canvas.height);\n\n                if (options.binary === true) {\n\n                    pending.push(new Promise(function(resolve) {\n\n                        canvas.toBlob(function(blob) {\n\n                            processBufferViewImage(blob).then(function(bufferViewIndex) {\n\n                                gltfImage.bufferView = bufferViewIndex;\n\n                                resolve();\n\n                            });\n\n                        }, mimeType);\n\n                    }));\n\n                } else {\n\n                    gltfImage.uri = canvas.toDataURL(mimeType);\n\n                }\n\n            } else {\n\n                gltfImage.uri = image.src;\n\n            }\n\n            outputJSON.images.push(gltfImage);\n\n            var index = outputJSON.images.length - 1;\n            cachedImages[key] = index;\n\n            return index;\n\n        }\n\n        /**\n         * Process sampler\n         * @param  {Texture} map Texture to process\n         * @return {Integer}     Index of the processed texture in the \"samplers\" array\n         */\n        function processSampler(map) {\n\n            if (!outputJSON.samplers) {\n\n                outputJSON.samplers = [];\n\n            }\n\n            var gltfSampler = {\n\n                magFilter: THREE_TO_WEBGL[map.magFilter],\n                minFilter: THREE_TO_WEBGL[map.minFilter],\n                wrapS: THREE_TO_WEBGL[map.wrapS],\n                wrapT: THREE_TO_WEBGL[map.wrapT]\n\n            };\n\n            outputJSON.samplers.push(gltfSampler);\n\n            return outputJSON.samplers.length - 1;\n\n        }\n\n        /**\n         * Process texture\n         * @param  {Texture} map Map to process\n         * @return {Integer}     Index of the processed texture in the \"textures\" array\n         */\n        function processTexture(map) {\n\n            if (cachedData.textures.has(map)) {\n\n                return cachedData.textures.get(map);\n\n            }\n\n            if (!outputJSON.textures) {\n\n                outputJSON.textures = [];\n\n            }\n\n            var gltfTexture = {\n\n                sampler: processSampler(map),\n                source: processImage(map.image, map.format, map.flipY)\n\n            };\n\n            if (map.name) {\n\n                gltfTexture.name = map.name;\n\n            }\n\n            outputJSON.textures.push(gltfTexture);\n\n            var index = outputJSON.textures.length - 1;\n            cachedData.textures.set(map, index);\n\n            return index;\n\n        }\n\n        /**\n         * Process material\n         * @param  {THREE.Material} material Material to process\n         * @return {Integer}      Index of the processed material in the \"materials\" array\n         */\n        function processMaterial(material) {\n\n            if (cachedData.materials.has(material)) {\n\n                return cachedData.materials.get(material);\n\n            }\n\n            if (material.isShaderMaterial) {\n\n                console.warn('GLTFExporter: THREE.ShaderMaterial not supported.');\n                return null;\n\n            }\n\n            if (!outputJSON.materials) {\n\n                outputJSON.materials = [];\n\n            }\n\n            // @QUESTION Should we avoid including any attribute that has the default value?\n            var gltfMaterial = {\n\n                pbrMetallicRoughness: {}\n\n            };\n\n            if (material.isMeshBasicMaterial) {\n\n                gltfMaterial.extensions = {\n                    KHR_materials_unlit: {}\n                };\n\n                extensionsUsed['KHR_materials_unlit'] = true;\n\n            } else if (material.isGLTFSpecularGlossinessMaterial) {\n\n                gltfMaterial.extensions = {\n                    KHR_materials_pbrSpecularGlossiness: {}\n                };\n\n                extensionsUsed['KHR_materials_pbrSpecularGlossiness'] = true;\n\n            } else if (!material.isMeshStandardMaterial) {\n\n                console.warn('GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.');\n\n            }\n\n            // pbrMetallicRoughness.baseColorFactor\n            var color = material.color.toArray().concat([material.opacity]);\n\n            if (!equalArray(color, [1, 1, 1, 1])) {\n\n                gltfMaterial.pbrMetallicRoughness.baseColorFactor = color;\n\n            }\n\n            if (material.isMeshStandardMaterial) {\n\n                gltfMaterial.pbrMetallicRoughness.metallicFactor = material.metalness;\n                gltfMaterial.pbrMetallicRoughness.roughnessFactor = material.roughness;\n\n            } else if (material.isMeshBasicMaterial) {\n\n                gltfMaterial.pbrMetallicRoughness.metallicFactor = 0.0;\n                gltfMaterial.pbrMetallicRoughness.roughnessFactor = 0.9;\n\n            } else {\n\n                gltfMaterial.pbrMetallicRoughness.metallicFactor = 0.5;\n                gltfMaterial.pbrMetallicRoughness.roughnessFactor = 0.5;\n\n            }\n\n            // pbrSpecularGlossiness diffuse, specular and glossiness factor\n            if (material.isGLTFSpecularGlossinessMaterial) {\n\n                if (gltfMaterial.pbrMetallicRoughness.baseColorFactor) {\n\n                    gltfMaterial.extensions.KHR_materials_pbrSpecularGlossiness.diffuseFactor = gltfMaterial.pbrMetallicRoughness.baseColorFactor;\n\n                }\n\n                var specularFactor = [1, 1, 1];\n                material.specular.toArray(specularFactor, 0);\n                gltfMaterial.extensions.KHR_materials_pbrSpecularGlossiness.specularFactor = specularFactor;\n\n                gltfMaterial.extensions.KHR_materials_pbrSpecularGlossiness.glossinessFactor = material.glossiness;\n\n            }\n\n            // pbrMetallicRoughness.metallicRoughnessTexture\n            if (material.metalnessMap || material.roughnessMap) {\n\n                if (material.metalnessMap === material.roughnessMap) {\n\n                    var metalRoughMapDef = {\n                        index: processTexture(material.metalnessMap)\n                    };\n                    applyTextureTransform(metalRoughMapDef, material.metalnessMap);\n                    gltfMaterial.pbrMetallicRoughness.metallicRoughnessTexture = metalRoughMapDef;\n\n                } else {\n\n                    console.warn('THREE.GLTFExporter: Ignoring metalnessMap and roughnessMap because they are not the same Texture.');\n\n                }\n\n            }\n\n            // pbrMetallicRoughness.baseColorTexture or pbrSpecularGlossiness diffuseTexture\n            if (material.map) {\n\n                var baseColorMapDef = {\n                    index: processTexture(material.map)\n                };\n                applyTextureTransform(baseColorMapDef, material.map);\n\n                if (material.isGLTFSpecularGlossinessMaterial) {\n\n                    gltfMaterial.extensions.KHR_materials_pbrSpecularGlossiness.diffuseTexture = baseColorMapDef;\n\n                }\n\n                gltfMaterial.pbrMetallicRoughness.baseColorTexture = baseColorMapDef;\n\n            }\n\n            // pbrSpecularGlossiness specular map\n            if (material.isGLTFSpecularGlossinessMaterial && material.specularMap) {\n\n                var specularMapDef = {\n                    index: processTexture(material.specularMap)\n                };\n                applyTextureTransform(specularMapDef, material.specularMap);\n                gltfMaterial.extensions.KHR_materials_pbrSpecularGlossiness.specularGlossinessTexture = specularMapDef;\n\n            }\n\n            if (material.emissive) {\n\n                // emissiveFactor\n                var emissive = material.emissive.clone().multiplyScalar(material.emissiveIntensity).toArray();\n\n                if (!equalArray(emissive, [0, 0, 0])) {\n\n                    gltfMaterial.emissiveFactor = emissive;\n\n                }\n\n                // emissiveTexture\n                if (material.emissiveMap) {\n\n                    var emissiveMapDef = {\n                        index: processTexture(material.emissiveMap)\n                    };\n                    applyTextureTransform(emissiveMapDef, material.emissiveMap);\n                    gltfMaterial.emissiveTexture = emissiveMapDef;\n\n                }\n\n            }\n\n            // normalTexture\n            if (material.normalMap) {\n\n                var normalMapDef = {\n                    index: processTexture(material.normalMap)\n                };\n\n                if (material.normalScale && material.normalScale.x !== -1) {\n\n                    if (material.normalScale.x !== material.normalScale.y) {\n\n                        console.warn('THREE.GLTFExporter: Normal scale components are different, ignoring Y and exporting X.');\n\n                    }\n\n                    normalMapDef.scale = material.normalScale.x;\n\n                }\n\n                applyTextureTransform(normalMapDef, material.normalMap);\n\n                gltfMaterial.normalTexture = normalMapDef;\n\n            }\n\n            // occlusionTexture\n            if (material.aoMap) {\n\n                var occlusionMapDef = {\n                    index: processTexture(material.aoMap),\n                    texCoord: 1\n                };\n\n                if (material.aoMapIntensity !== 1.0) {\n\n                    occlusionMapDef.strength = material.aoMapIntensity;\n\n                }\n\n                applyTextureTransform(occlusionMapDef, material.aoMap);\n\n                gltfMaterial.occlusionTexture = occlusionMapDef;\n\n            }\n\n            // alphaMode\n            if (material.transparent) {\n\n                gltfMaterial.alphaMode = 'BLEND';\n\n            } else {\n\n                if (material.alphaTest > 0.0) {\n\n                    gltfMaterial.alphaMode = 'MASK';\n                    gltfMaterial.alphaCutoff = material.alphaTest;\n\n                }\n\n            }\n\n            // doubleSided\n            if (material.side === DoubleSide) {\n\n                gltfMaterial.doubleSided = true;\n\n            }\n\n            if (material.name !== '') {\n\n                gltfMaterial.name = material.name;\n\n            }\n\n            serializeUserData(material, gltfMaterial);\n\n            outputJSON.materials.push(gltfMaterial);\n\n            var index = outputJSON.materials.length - 1;\n            cachedData.materials.set(material, index);\n\n            return index;\n\n        }\n\n        /**\n         * Process mesh\n         * @param  {THREE.Mesh} mesh Mesh to process\n         * @return {Integer}      Index of the processed mesh in the \"meshes\" array\n         */\n        function processMesh(mesh) {\n\n            var meshCacheKeyParts = [mesh.geometry.uuid];\n            if (Array.isArray(mesh.material)) {\n\n                for (var i = 0, l = mesh.material.length; i < l; i++) {\n\n                    meshCacheKeyParts.push(mesh.material[i].uuid);\n\n                }\n\n            } else {\n\n                meshCacheKeyParts.push(mesh.material.uuid);\n\n            }\n\n            var meshCacheKey = meshCacheKeyParts.join(':');\n            if (cachedData.meshes.has(meshCacheKey)) {\n\n                return cachedData.meshes.get(meshCacheKey);\n\n            }\n\n            var geometry = mesh.geometry;\n\n            var mode;\n\n            // Use the correct mode\n            if (mesh.isLineSegments) {\n\n                mode = WEBGL_CONSTANTS.LINES;\n\n            } else if (mesh.isLineLoop) {\n\n                mode = WEBGL_CONSTANTS.LINE_LOOP;\n\n            } else if (mesh.isLine) {\n\n                mode = WEBGL_CONSTANTS.LINE_STRIP;\n\n            } else if (mesh.isPoints) {\n\n                mode = WEBGL_CONSTANTS.POINTS;\n\n            } else {\n\n                mode = mesh.material.wireframe ? WEBGL_CONSTANTS.LINES : WEBGL_CONSTANTS.TRIANGLES;\n\n            }\n\n            if (!geometry.isBufferGeometry) {\n\n                console.warn('GLTFExporter: Exporting THREE.Geometry will increase file size. Use BufferGeometry instead.');\n                geometry = new BufferGeometry().setFromObject(mesh);\n\n            }\n\n            var gltfMesh = {};\n\n            var attributes = {};\n            var primitives = [];\n            var targets = [];\n\n            // Conversion between attributes names in threejs and gltf spec\n            var nameConversion = {\n\n                uv: 'TEXCOORD_0',\n                uv2: 'TEXCOORD_1',\n                color: 'COLOR_0',\n                skinWeight: 'WEIGHTS_0',\n                skinIndex: 'JOINTS_0'\n\n            };\n\n            var originalNormal = geometry.getAttribute('normal');\n\n            if (originalNormal !== undefined && !isNormalizedNormalAttribute(originalNormal)) {\n\n                console.warn('THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one.');\n\n                geometry.setAttribute('normal', createNormalizedNormalAttribute(originalNormal));\n\n            }\n\n            // @QUESTION Detect if .vertexColors = true?\n            // For every attribute create an accessor\n            var modifiedAttribute = null;\n            for (var attributeName in geometry.attributes) {\n\n                // Ignore morph target attributes, which are exported later.\n                if (attributeName.substr(0, 5) === 'morph') continue;\n\n                var attribute = geometry.attributes[attributeName];\n                attributeName = nameConversion[attributeName] || attributeName.toUpperCase();\n\n                // Prefix all geometry attributes except the ones specifically\n                // listed in the spec; non-spec attributes are considered custom.\n                var validVertexAttributes =\n                    /^(POSITION|NORMAL|TANGENT|TEXCOORD_\\d+|COLOR_\\d+|JOINTS_\\d+|WEIGHTS_\\d+)$/;\n                if (!validVertexAttributes.test(attributeName)) {\n\n                    attributeName = '_' + attributeName;\n\n                }\n\n                if (cachedData.attributes.has(getUID(attribute))) {\n\n                    attributes[attributeName] = cachedData.attributes.get(getUID(attribute));\n                    continue;\n\n                }\n\n                // JOINTS_0 must be UNSIGNED_BYTE or UNSIGNED_SHORT.\n                modifiedAttribute = null;\n                var array = attribute.array;\n                if (attributeName === 'JOINTS_0' &&\n                    !(array instanceof Uint16Array) &&\n                    !(array instanceof Uint8Array)) {\n\n                    console.warn('GLTFExporter: Attribute \"skinIndex\" converted to type UNSIGNED_SHORT.');\n                    modifiedAttribute = new BufferAttribute(new Uint16Array(array), attribute.itemSize, attribute.normalized);\n\n                }\n\n                var accessor = processAccessor(modifiedAttribute || attribute, geometry);\n                if (accessor !== null) {\n\n                    attributes[attributeName] = accessor;\n                    cachedData.attributes.set(getUID(attribute), accessor);\n\n                }\n\n            }\n\n            if (originalNormal !== undefined) geometry.setAttribute('normal', originalNormal);\n\n            // Skip if no exportable attributes found\n            if (Object.keys(attributes).length === 0) {\n\n                return null;\n\n            }\n\n            // Morph targets\n            if (mesh.morphTargetInfluences !== undefined && mesh.morphTargetInfluences.length > 0) {\n\n                var weights = [];\n                var targetNames = [];\n                var reverseDictionary = {};\n\n                if (mesh.morphTargetDictionary !== undefined) {\n\n                    for (var key in mesh.morphTargetDictionary) {\n\n                        reverseDictionary[mesh.morphTargetDictionary[key]] = key;\n\n                    }\n\n                }\n\n                for (var i = 0; i < mesh.morphTargetInfluences.length; ++i) {\n\n                    var target = {};\n\n                    var warned = false;\n\n                    for (var attributeName in geometry.morphAttributes) {\n\n                        // glTF 2.0 morph supports only POSITION/NORMAL/TANGENT.\n                        // Three.js doesn't support TANGENT yet.\n\n                        if (attributeName !== 'position' && attributeName !== 'normal') {\n\n                            if (!warned) {\n\n                                console.warn('GLTFExporter: Only POSITION and NORMAL morph are supported.');\n                                warned = true;\n\n                            }\n\n                            continue;\n\n                        }\n\n                        var attribute = geometry.morphAttributes[attributeName][i];\n                        var gltfAttributeName = attributeName.toUpperCase();\n\n                        // Three.js morph attribute has absolute values while the one of glTF has relative values.\n                        //\n                        // glTF 2.0 Specification:\n                        // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#morph-targets\n\n                        var baseAttribute = geometry.attributes[attributeName];\n\n                        if (cachedData.attributes.has(getUID(attribute))) {\n\n                            target[gltfAttributeName] = cachedData.attributes.get(getUID(attribute));\n                            continue;\n\n                        }\n\n                        // Clones attribute not to override\n                        var relativeAttribute = attribute.clone();\n\n                        if (!geometry.morphTargetsRelative) {\n\n                            for (var j = 0, jl = attribute.count; j < jl; j++) {\n\n                                relativeAttribute.setXYZ(\n                                    j,\n                                    attribute.getX(j) - baseAttribute.getX(j),\n                                    attribute.getY(j) - baseAttribute.getY(j),\n                                    attribute.getZ(j) - baseAttribute.getZ(j)\n                                );\n\n                            }\n\n                        }\n\n                        target[gltfAttributeName] = processAccessor(relativeAttribute, geometry);\n                        cachedData.attributes.set(getUID(baseAttribute), target[gltfAttributeName]);\n\n                    }\n\n                    targets.push(target);\n\n                    weights.push(mesh.morphTargetInfluences[i]);\n                    if (mesh.morphTargetDictionary !== undefined) targetNames.push(reverseDictionary[i]);\n\n                }\n\n                gltfMesh.weights = weights;\n\n                if (targetNames.length > 0) {\n\n                    gltfMesh.extras = {};\n                    gltfMesh.extras.targetNames = targetNames;\n\n                }\n\n            }\n\n            var forceIndices = options.forceIndices;\n            var isMultiMaterial = Array.isArray(mesh.material);\n\n            if (isMultiMaterial && geometry.groups.length === 0) return null;\n\n            if (!forceIndices && geometry.index === null && isMultiMaterial) {\n\n                // temporal workaround.\n                console.warn('THREE.GLTFExporter: Creating index for non-indexed multi-material mesh.');\n                forceIndices = true;\n\n            }\n\n            var didForceIndices = false;\n\n            if (geometry.index === null && forceIndices) {\n\n                var indices = [];\n\n                for (var i = 0, il = geometry.attributes.position.count; i < il; i++) {\n\n                    indices[i] = i;\n\n                }\n\n                geometry.setIndex(indices);\n\n                didForceIndices = true;\n\n            }\n\n            var materials = isMultiMaterial ? mesh.material : [mesh.material];\n            var groups = isMultiMaterial ? geometry.groups : [{\n                materialIndex: 0,\n                start: undefined,\n                count: undefined\n            }];\n\n            for (var i = 0, il = groups.length; i < il; i++) {\n\n                var primitive = {\n                    mode: mode,\n                    attributes: attributes,\n                };\n\n                serializeUserData(geometry, primitive);\n\n                if (targets.length > 0) primitive.targets = targets;\n\n                if (geometry.index !== null) {\n\n                    var cacheKey = getUID(geometry.index);\n\n                    if (groups[i].start !== undefined || groups[i].count !== undefined) {\n\n                        cacheKey += ':' + groups[i].start + ':' + groups[i].count;\n\n                    }\n\n                    if (cachedData.attributes.has(cacheKey)) {\n\n                        primitive.indices = cachedData.attributes.get(cacheKey);\n\n                    } else {\n\n                        primitive.indices = processAccessor(geometry.index, geometry, groups[i].start, groups[i].count);\n                        cachedData.attributes.set(cacheKey, primitive.indices);\n\n                    }\n\n                    if (primitive.indices === null) delete primitive.indices;\n\n                }\n\n                var material = processMaterial(materials[groups[i].materialIndex]);\n\n                if (material !== null) {\n\n                    primitive.material = material;\n\n                }\n\n                primitives.push(primitive);\n\n            }\n\n            if (didForceIndices) {\n\n                geometry.setIndex(null);\n\n            }\n\n            gltfMesh.primitives = primitives;\n\n            if (!outputJSON.meshes) {\n\n                outputJSON.meshes = [];\n\n            }\n\n            outputJSON.meshes.push(gltfMesh);\n\n            var index = outputJSON.meshes.length - 1;\n            cachedData.meshes.set(meshCacheKey, index);\n\n            return index;\n\n        }\n\n        /**\n         * Process camera\n         * @param  {THREE.Camera} camera Camera to process\n         * @return {Integer}      Index of the processed mesh in the \"camera\" array\n         */\n        function processCamera(camera) {\n\n            if (!outputJSON.cameras) {\n\n                outputJSON.cameras = [];\n\n            }\n\n            var isOrtho = camera.isOrthographicCamera;\n\n            var gltfCamera = {\n\n                type: isOrtho ? 'orthographic' : 'perspective'\n\n            };\n\n            if (isOrtho) {\n\n                gltfCamera.orthographic = {\n\n                    xmag: camera.right * 2,\n                    ymag: camera.top * 2,\n                    zfar: camera.far <= 0 ? 0.001 : camera.far,\n                    znear: camera.near < 0 ? 0 : camera.near\n\n                };\n\n            } else {\n\n                gltfCamera.perspective = {\n\n                    aspectRatio: camera.aspect,\n                    yfov: MathUtils.degToRad(camera.fov),\n                    zfar: camera.far <= 0 ? 0.001 : camera.far,\n                    znear: camera.near < 0 ? 0 : camera.near\n\n                };\n\n            }\n\n            if (camera.name !== '') {\n\n                gltfCamera.name = camera.type;\n\n            }\n\n            outputJSON.cameras.push(gltfCamera);\n\n            return outputJSON.cameras.length - 1;\n\n        }\n\n        /**\n         * Creates glTF animation entry from AnimationClip object.\n         *\n         * Status:\n         * - Only properties listed in PATH_PROPERTIES may be animated.\n         *\n         * @param {THREE.AnimationClip} clip\n         * @param {THREE.Object3D} root\n         * @return {number}\n         */\n        function processAnimation(clip, root) {\n\n            if (!outputJSON.animations) {\n\n                outputJSON.animations = [];\n\n            }\n\n            clip = GLTFExporter.Utils.mergeMorphTargetTracks(clip.clone(), root);\n\n            var tracks = clip.tracks;\n            var channels = [];\n            var samplers = [];\n\n            for (var i = 0; i < tracks.length; ++i) {\n\n                var track = tracks[i];\n                var trackBinding = PropertyBinding.parseTrackName(track.name);\n                var trackNode = PropertyBinding.findNode(root, trackBinding.nodeName);\n                var trackProperty = PATH_PROPERTIES[trackBinding.propertyName];\n\n                if (trackBinding.objectName === 'bones') {\n\n                    if (trackNode.isSkinnedMesh === true) {\n\n                        trackNode = trackNode.skeleton.getBoneByName(trackBinding.objectIndex);\n\n                    } else {\n\n                        trackNode = undefined;\n\n                    }\n\n                }\n\n                if (!trackNode || !trackProperty) {\n\n                    console.warn('THREE.GLTFExporter: Could not export animation track \"%s\".', track.name);\n                    return null;\n\n                }\n\n                var inputItemSize = 1;\n                var outputItemSize = track.values.length / track.times.length;\n\n                if (trackProperty === PATH_PROPERTIES.morphTargetInfluences) {\n\n                    outputItemSize /= trackNode.morphTargetInfluences.length;\n\n                }\n\n                var interpolation;\n\n                // @TODO export CubicInterpolant(InterpolateSmooth) as CUBICSPLINE\n\n                // Detecting glTF cubic spline interpolant by checking factory method's special property\n                // GLTFCubicSplineInterpolant is a custom interpolant and track doesn't return\n                // valid value from .getInterpolation().\n                if (track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline === true) {\n\n                    interpolation = 'CUBICSPLINE';\n\n                    // itemSize of CUBICSPLINE keyframe is 9\n                    // (VEC3 * 3: inTangent, splineVertex, and outTangent)\n                    // but needs to be stored as VEC3 so dividing by 3 here.\n                    outputItemSize /= 3;\n\n                } else if (track.getInterpolation() === InterpolateDiscrete) {\n\n                    interpolation = 'STEP';\n\n                } else {\n\n                    interpolation = 'LINEAR';\n\n                }\n\n                samplers.push({\n\n                    input: processAccessor(new BufferAttribute(track.times, inputItemSize)),\n                    output: processAccessor(new BufferAttribute(track.values, outputItemSize)),\n                    interpolation: interpolation\n\n                });\n\n                channels.push({\n\n                    sampler: samplers.length - 1,\n                    target: {\n                        node: nodeMap.get(trackNode),\n                        path: trackProperty\n                    }\n\n                });\n\n            }\n\n            outputJSON.animations.push({\n\n                name: clip.name || 'clip_' + outputJSON.animations.length,\n                samplers: samplers,\n                channels: channels\n\n            });\n\n            return outputJSON.animations.length - 1;\n\n        }\n\n        function processSkin(object) {\n\n            var node = outputJSON.nodes[nodeMap.get(object)];\n\n            var skeleton = object.skeleton;\n\n            if (skeleton === undefined) return null;\n\n            var rootJoint = object.skeleton.bones[0];\n\n            if (rootJoint === undefined) return null;\n\n            var joints = [];\n            var inverseBindMatrices = new Float32Array(skeleton.bones.length * 16);\n\n            for (var i = 0; i < skeleton.bones.length; ++i) {\n\n                joints.push(nodeMap.get(skeleton.bones[i]));\n\n                skeleton.boneInverses[i].toArray(inverseBindMatrices, i * 16);\n\n            }\n\n            if (outputJSON.skins === undefined) {\n\n                outputJSON.skins = [];\n\n            }\n\n            outputJSON.skins.push({\n\n                inverseBindMatrices: processAccessor(new BufferAttribute(inverseBindMatrices, 16)),\n                joints: joints,\n                skeleton: nodeMap.get(rootJoint)\n\n            });\n\n            var skinIndex = node.skin = outputJSON.skins.length - 1;\n\n            return skinIndex;\n\n        }\n\n        function processLight(light) {\n\n            var lightDef = {};\n\n            if (light.name) lightDef.name = light.name;\n\n            lightDef.color = light.color.toArray();\n\n            lightDef.intensity = light.intensity;\n\n            if (light.isDirectionalLight) {\n\n                lightDef.type = 'directional';\n\n            } else if (light.isPointLight) {\n\n                lightDef.type = 'point';\n                if (light.distance > 0) lightDef.range = light.distance;\n\n            } else if (light.isSpotLight) {\n\n                lightDef.type = 'spot';\n                if (light.distance > 0) lightDef.range = light.distance;\n                lightDef.spot = {};\n                lightDef.spot.innerConeAngle = (light.penumbra - 1.0) * light.angle * -1.0;\n                lightDef.spot.outerConeAngle = light.angle;\n\n            }\n\n            if (light.decay !== undefined && light.decay !== 2) {\n\n                console.warn('THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, ' +\n                    'and expects light.decay=2.');\n\n            }\n\n            if (light.target &&\n                (light.target.parent !== light ||\n                    light.target.position.x !== 0 ||\n                    light.target.position.y !== 0 ||\n                    light.target.position.z !== -1)) {\n\n                console.warn('THREE.GLTFExporter: Light direction may be lost. For best results, ' +\n                    'make light.target a child of the light with position 0,0,-1.');\n\n            }\n\n            var lights = outputJSON.extensions['KHR_lights_punctual'].lights;\n            lights.push(lightDef);\n            return lights.length - 1;\n\n        }\n\n        /**\n         * Process Object3D node\n         * @param  {THREE.Object3D} node Object3D to processNode\n         * @return {Integer}      Index of the node in the nodes list\n         */\n        function processNode(object) {\n\n            if (!outputJSON.nodes) {\n\n                outputJSON.nodes = [];\n\n            }\n\n            var gltfNode = {};\n\n            if (options.trs) {\n\n                var rotation = object.quaternion.toArray();\n                var position = object.position.toArray();\n                var scale = object.scale.toArray();\n\n                if (!equalArray(rotation, [0, 0, 0, 1])) {\n\n                    gltfNode.rotation = rotation;\n\n                }\n\n                if (!equalArray(position, [0, 0, 0])) {\n\n                    gltfNode.translation = position;\n\n                }\n\n                if (!equalArray(scale, [1, 1, 1])) {\n\n                    gltfNode.scale = scale;\n\n                }\n\n            } else {\n\n                if (object.matrixAutoUpdate) {\n\n                    object.updateMatrix();\n\n                }\n\n                if (!equalArray(object.matrix.elements, [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])) {\n\n                    gltfNode.matrix = object.matrix.elements;\n\n                }\n\n            }\n\n            // We don't export empty strings name because it represents no-name in Three.js.\n            if (object.name !== '') {\n\n                gltfNode.name = String(object.name);\n\n            }\n\n            serializeUserData(object, gltfNode);\n\n            if (object.isMesh || object.isLine || object.isPoints) {\n\n                var mesh = processMesh(object);\n\n                if (mesh !== null) {\n\n                    gltfNode.mesh = mesh;\n\n                }\n\n            } else if (object.isCamera) {\n\n                gltfNode.camera = processCamera(object);\n\n            } else if (object.isDirectionalLight || object.isPointLight || object.isSpotLight) {\n\n                if (!extensionsUsed['KHR_lights_punctual']) {\n\n                    outputJSON.extensions = outputJSON.extensions || {};\n                    outputJSON.extensions['KHR_lights_punctual'] = {\n                        lights: []\n                    };\n                    extensionsUsed['KHR_lights_punctual'] = true;\n\n                }\n\n                gltfNode.extensions = gltfNode.extensions || {};\n                gltfNode.extensions['KHR_lights_punctual'] = {\n                    light: processLight(object)\n                };\n\n            } else if (object.isLight) {\n\n                console.warn('THREE.GLTFExporter: Only directional, point, and spot lights are supported.', object);\n                return null;\n\n            }\n\n            if (object.isSkinnedMesh) {\n\n                skins.push(object);\n\n            }\n\n            if (object.children.length > 0) {\n\n                var children = [];\n\n                for (var i = 0, l = object.children.length; i < l; i++) {\n\n                    var child = object.children[i];\n\n                    if (child.visible || options.onlyVisible === false) {\n\n                        var node = processNode(child);\n\n                        if (node !== null) {\n\n                            children.push(node);\n\n                        }\n\n                    }\n\n                }\n\n                if (children.length > 0) {\n\n                    gltfNode.children = children;\n\n                }\n\n\n            }\n\n            outputJSON.nodes.push(gltfNode);\n\n            var nodeIndex = outputJSON.nodes.length - 1;\n            nodeMap.set(object, nodeIndex);\n\n            return nodeIndex;\n\n        }\n\n        /**\n         * Process Scene\n         * @param  {Scene} node Scene to process\n         */\n        function processScene(scene) {\n\n            if (!outputJSON.scenes) {\n\n                outputJSON.scenes = [];\n                outputJSON.scene = 0;\n\n            }\n\n            var gltfScene = {};\n\n            if (scene.name !== '') {\n\n                gltfScene.name = scene.name;\n\n            }\n\n            outputJSON.scenes.push(gltfScene);\n\n            var nodes = [];\n\n            for (var i = 0, l = scene.children.length; i < l; i++) {\n\n                var child = scene.children[i];\n\n                if (child.visible || options.onlyVisible === false) {\n\n                    var node = processNode(child);\n\n                    if (node !== null) {\n\n                        nodes.push(node);\n\n                    }\n\n                }\n\n            }\n\n            if (nodes.length > 0) {\n\n                gltfScene.nodes = nodes;\n\n            }\n\n            serializeUserData(scene, gltfScene);\n\n        }\n\n        /**\n         * Creates a Scene to hold a list of objects and parse it\n         * @param  {Array} objects List of objects to process\n         */\n        function processObjects(objects) {\n\n            var scene = new Scene();\n            scene.name = 'AuxScene';\n\n            for (var i = 0; i < objects.length; i++) {\n\n                // We push directly to children instead of calling `add` to prevent\n                // modify the .parent and break its original scene and hierarchy\n                scene.children.push(objects[i]);\n\n            }\n\n            processScene(scene);\n\n        }\n\n        function processInput(input) {\n\n            input = input instanceof Array ? input : [input];\n\n            var objectsWithoutScene = [];\n\n            for (var i = 0; i < input.length; i++) {\n\n                if (input[i] instanceof Scene) {\n\n                    processScene(input[i]);\n\n                } else {\n\n                    objectsWithoutScene.push(input[i]);\n\n                }\n\n            }\n\n            if (objectsWithoutScene.length > 0) {\n\n                processObjects(objectsWithoutScene);\n\n            }\n\n            for (var i = 0; i < skins.length; ++i) {\n\n                processSkin(skins[i]);\n\n            }\n\n            for (var i = 0; i < options.animations.length; ++i) {\n\n                processAnimation(options.animations[i], input[0]);\n\n            }\n\n        }\n\n        processInput(input);\n\n        Promise.all(pending).then(function() {\n\n            // Merge buffers.\n            var blob = new Blob(buffers, {\n                type: 'application/octet-stream'\n            });\n\n            // Declare extensions.\n            var extensionsUsedList = Object.keys(extensionsUsed);\n            if (extensionsUsedList.length > 0) outputJSON.extensionsUsed = extensionsUsedList;\n\n            // Update bytelength of the single buffer.\n            if (outputJSON.buffers && outputJSON.buffers.length > 0) outputJSON.buffers[0].byteLength = blob.size;\n\n            if (options.binary === true) {\n\n                // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#glb-file-format-specification\n\n                var GLB_HEADER_BYTES = 12;\n                var GLB_HEADER_MAGIC = 0x46546C67;\n                var GLB_VERSION = 2;\n\n                var GLB_CHUNK_PREFIX_BYTES = 8;\n                var GLB_CHUNK_TYPE_JSON = 0x4E4F534A;\n                var GLB_CHUNK_TYPE_BIN = 0x004E4942;\n\n                var reader = new window.FileReader();\n                reader.readAsArrayBuffer(blob);\n                reader.onloadend = function() {\n\n                    // Binary chunk.\n                    var binaryChunk = getPaddedArrayBuffer(reader.result);\n                    var binaryChunkPrefix = new DataView(new ArrayBuffer(GLB_CHUNK_PREFIX_BYTES));\n                    binaryChunkPrefix.setUint32(0, binaryChunk.byteLength, true);\n                    binaryChunkPrefix.setUint32(4, GLB_CHUNK_TYPE_BIN, true);\n\n                    // JSON chunk.\n                    var jsonChunk = getPaddedArrayBuffer(stringToArrayBuffer(JSON.stringify(outputJSON)), 0x20);\n                    var jsonChunkPrefix = new DataView(new ArrayBuffer(GLB_CHUNK_PREFIX_BYTES));\n                    jsonChunkPrefix.setUint32(0, jsonChunk.byteLength, true);\n                    jsonChunkPrefix.setUint32(4, GLB_CHUNK_TYPE_JSON, true);\n\n                    // GLB header.\n                    var header = new ArrayBuffer(GLB_HEADER_BYTES);\n                    var headerView = new DataView(header);\n                    headerView.setUint32(0, GLB_HEADER_MAGIC, true);\n                    headerView.setUint32(4, GLB_VERSION, true);\n                    var totalByteLength = GLB_HEADER_BYTES +\n                        jsonChunkPrefix.byteLength + jsonChunk.byteLength +\n                        binaryChunkPrefix.byteLength + binaryChunk.byteLength;\n                    headerView.setUint32(8, totalByteLength, true);\n\n                    var glbBlob = new Blob([\n                        header,\n                        jsonChunkPrefix,\n                        jsonChunk,\n                        binaryChunkPrefix,\n                        binaryChunk\n                    ], {\n                        type: 'application/octet-stream'\n                    });\n\n                    var glbReader = new window.FileReader();\n                    glbReader.readAsArrayBuffer(glbBlob);\n                    glbReader.onloadend = function() {\n\n                        onDone(glbReader.result);\n\n                    };\n\n                };\n\n            } else {\n\n                if (outputJSON.buffers && outputJSON.buffers.length > 0) {\n\n                    var reader = new window.FileReader();\n                    reader.readAsDataURL(blob);\n                    reader.onloadend = function() {\n\n                        var base64data = reader.result;\n                        outputJSON.buffers[0].uri = base64data;\n                        onDone(outputJSON);\n\n                    };\n\n                } else {\n\n                    onDone(outputJSON);\n\n                }\n\n            }\n\n        });\n\n    }\n\n};\n\nGLTFExporter.Utils = {\n\n    insertKeyframe: function(track, time) {\n\n        var tolerance = 0.001; // 1ms\n        var valueSize = track.getValueSize();\n\n        var times = new track.TimeBufferType(track.times.length + 1);\n        var values = new track.ValueBufferType(track.values.length + valueSize);\n        var interpolant = track.createInterpolant(new track.ValueBufferType(valueSize));\n\n        var index;\n\n        if (track.times.length === 0) {\n\n            times[0] = time;\n\n            for (var i = 0; i < valueSize; i++) {\n\n                values[i] = 0;\n\n            }\n\n            index = 0;\n\n        } else if (time < track.times[0]) {\n\n            if (Math.abs(track.times[0] - time) < tolerance) return 0;\n\n            times[0] = time;\n            times.set(track.times, 1);\n\n            values.set(interpolant.evaluate(time), 0);\n            values.set(track.values, valueSize);\n\n            index = 0;\n\n        } else if (time > track.times[track.times.length - 1]) {\n\n            if (Math.abs(track.times[track.times.length - 1] - time) < tolerance) {\n\n                return track.times.length - 1;\n\n            }\n\n            times[times.length - 1] = time;\n            times.set(track.times, 0);\n\n            values.set(track.values, 0);\n            values.set(interpolant.evaluate(time), track.values.length);\n\n            index = times.length - 1;\n\n        } else {\n\n            for (var i = 0; i < track.times.length; i++) {\n\n                if (Math.abs(track.times[i] - time) < tolerance) return i;\n\n                if (track.times[i] < time && track.times[i + 1] > time) {\n\n                    times.set(track.times.slice(0, i + 1), 0);\n                    times[i + 1] = time;\n                    times.set(track.times.slice(i + 1), i + 2);\n\n                    values.set(track.values.slice(0, (i + 1) * valueSize), 0);\n                    values.set(interpolant.evaluate(time), (i + 1) * valueSize);\n                    values.set(track.values.slice((i + 1) * valueSize), (i + 2) * valueSize);\n\n                    index = i + 1;\n\n                    break;\n\n                }\n\n            }\n\n        }\n\n        track.times = times;\n        track.values = values;\n\n        return index;\n\n    },\n\n    mergeMorphTargetTracks: function(clip, root) {\n\n        var tracks = [];\n        var mergedTracks = {};\n        var sourceTracks = clip.tracks;\n\n        for (var i = 0; i < sourceTracks.length; ++i) {\n\n            var sourceTrack = sourceTracks[i];\n            var sourceTrackBinding = PropertyBinding.parseTrackName(sourceTrack.name);\n            var sourceTrackNode = PropertyBinding.findNode(root, sourceTrackBinding.nodeName);\n\n            if (sourceTrackBinding.propertyName !== 'morphTargetInfluences' || sourceTrackBinding.propertyIndex === undefined) {\n\n                // Tracks that don't affect morph targets, or that affect all morph targets together, can be left as-is.\n                tracks.push(sourceTrack);\n                continue;\n\n            }\n\n            if (sourceTrack.createInterpolant !== sourceTrack.InterpolantFactoryMethodDiscrete &&\n                sourceTrack.createInterpolant !== sourceTrack.InterpolantFactoryMethodLinear) {\n\n                if (sourceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline) {\n\n                    // This should never happen, because glTF morph target animations\n                    // affect all targets already.\n                    throw new Error('THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.');\n\n                }\n\n                console.warn('THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead.');\n\n                sourceTrack = sourceTrack.clone();\n                sourceTrack.setInterpolation(InterpolateLinear);\n\n            }\n\n            var targetCount = sourceTrackNode.morphTargetInfluences.length;\n            var targetIndex = sourceTrackNode.morphTargetDictionary[sourceTrackBinding.propertyIndex];\n\n            if (targetIndex === undefined) {\n\n                throw new Error('THREE.GLTFExporter: Morph target name not found: ' + sourceTrackBinding.propertyIndex);\n\n            }\n\n            var mergedTrack;\n\n            // If this is the first time we've seen this object, create a new\n            // track to store merged keyframe data for each morph target.\n            if (mergedTracks[sourceTrackNode.uuid] === undefined) {\n\n                mergedTrack = sourceTrack.clone();\n\n                var values = new mergedTrack.ValueBufferType(targetCount * mergedTrack.times.length);\n\n                for (var j = 0; j < mergedTrack.times.length; j++) {\n\n                    values[j * targetCount + targetIndex] = mergedTrack.values[j];\n\n                }\n\n                mergedTrack.name = '.morphTargetInfluences';\n                mergedTrack.values = values;\n\n                mergedTracks[sourceTrackNode.uuid] = mergedTrack;\n                tracks.push(mergedTrack);\n\n                continue;\n\n            }\n\n            var sourceInterpolant = sourceTrack.createInterpolant(new sourceTrack.ValueBufferType(1));\n\n            mergedTrack = mergedTracks[sourceTrackNode.uuid];\n\n            // For every existing keyframe of the merged track, write a (possibly\n            // interpolated) value from the source track.\n            for (var j = 0; j < mergedTrack.times.length; j++) {\n\n                mergedTrack.values[j * targetCount + targetIndex] = sourceInterpolant.evaluate(mergedTrack.times[j]);\n\n            }\n\n            // For every existing keyframe of the source track, write a (possibly\n            // new) keyframe to the merged track. Values from the previous loop may\n            // be written again, but keyframes are de-duplicated.\n            for (var j = 0; j < sourceTrack.times.length; j++) {\n\n                var keyframeIndex = this.insertKeyframe(mergedTrack, sourceTrack.times[j]);\n                mergedTrack.values[keyframeIndex * targetCount + targetIndex] = sourceTrack.values[j];\n\n            }\n\n        }\n\n        clip.tracks = tracks;\n\n        return clip;\n\n    }\n\n};\n\nexport {\n    GLTFExporter\n};",
    "static": true,
    "longname": "E:/rgnjs/js/lib/GLTFExporter.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 181,
    "kind": "variable",
    "name": "WEBGL_CONSTANTS",
    "memberof": "js/lib/GLTFExporter.js",
    "static": true,
    "longname": "js/lib/GLTFExporter.js~WEBGL_CONSTANTS",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/lib/GLTFExporter.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 182,
    "kind": "variable",
    "name": "THREE_TO_WEBGL",
    "memberof": "js/lib/GLTFExporter.js",
    "static": true,
    "longname": "js/lib/GLTFExporter.js~THREE_TO_WEBGL",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/lib/GLTFExporter.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 60,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 183,
    "kind": "variable",
    "name": "PATH_PROPERTIES",
    "memberof": "js/lib/GLTFExporter.js",
    "static": true,
    "longname": "js/lib/GLTFExporter.js~PATH_PROPERTIES",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/lib/GLTFExporter.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 73,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 184,
    "kind": "function",
    "name": "GLTFExporter",
    "memberof": "js/lib/GLTFExporter.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/lib/GLTFExporter.js~GLTFExporter",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/lib/GLTFExporter.js",
    "importStyle": "{GLTFExporter}",
    "description": null,
    "lineNumber": 83,
    "undocument": true
  },
  {
    "__docId__": 185,
    "kind": "file",
    "name": "js/lib/GLTFLoader.js",
    "content": "/**\n * @author Rich Tibbett / https://github.com/richtr\n * @author mrdoob / http://mrdoob.com/\n * @author Tony Parisi / http://www.tonyparisi.com/\n * @author Takahiro / https://github.com/takahirox\n * @author Don McCurdy / https://www.donmccurdy.com\n */\n\nimport {\n\n\n\n\n\n\n} from \"./three.js\";\n\nvar GLTFLoader = (function() {\n\n    function GLTFLoader(manager) {\n\n        Loader.call(this, manager);\n\n        this.dracoLoader = null;\n        this.ddsLoader = null;\n\n    }\n\n    GLTFLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n        constructor: GLTFLoader,\n\n        load: function(url, onLoad, onProgress, onError) {\n\n            var scope = this;\n\n            var resourcePath;\n\n            if (this.resourcePath !== '') {\n\n                resourcePath = this.resourcePath;\n\n            } else if (this.path !== '') {\n\n                resourcePath = this.path;\n\n            } else {\n\n                resourcePath = LoaderUtils.extractUrlBase(url);\n\n            }\n\n            // Tells the LoadingManager to track an extra item, which resolves after\n            // the model is fully loaded. This means the count of items loaded will\n            // be incorrect, but ensures manager.onLoad() does not fire early.\n            scope.manager.itemStart(url);\n\n            var _onError = function(e) {\n\n                if (onError) {\n\n                    onError(e);\n\n                } else {\n\n                    console.error(e);\n\n                }\n\n                scope.manager.itemError(url);\n                scope.manager.itemEnd(url);\n\n            };\n\n            var loader = new FileLoader(scope.manager);\n\n            loader.setPath(this.path);\n            loader.setResponseType('arraybuffer');\n\n            if (scope.crossOrigin === 'use-credentials') {\n\n                loader.setWithCredentials(true);\n\n            }\n\n            loader.load(url, function(data) {\n\n                try {\n\n                    scope.parse(data, resourcePath, function(gltf) {\n\n                        onLoad(gltf);\n\n                        scope.manager.itemEnd(url);\n\n                    }, _onError);\n\n                } catch (e) {\n\n                    _onError(e);\n\n                }\n\n            }, onProgress, _onError);\n\n        },\n\n        setDRACOLoader: function(dracoLoader) {\n\n            this.dracoLoader = dracoLoader;\n            return this;\n\n        },\n\n        setDDSLoader: function(ddsLoader) {\n\n            this.ddsLoader = ddsLoader;\n            return this;\n\n        },\n\n        parse: function(data, path, onLoad, onError) {\n\n            var content;\n            var extensions = {};\n\n            if (typeof data === 'string') {\n\n                content = data;\n\n            } else {\n\n                var magic = LoaderUtils.decodeText(new Uint8Array(data, 0, 4));\n\n                if (magic === BINARY_EXTENSION_HEADER_MAGIC) {\n\n                    try {\n\n                        extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data);\n\n                    } catch (error) {\n\n                        if (onError) onError(error);\n                        return;\n\n                    }\n\n                    content = extensions[EXTENSIONS.KHR_BINARY_GLTF].content;\n\n                } else {\n\n                    content = LoaderUtils.decodeText(new Uint8Array(data));\n\n                }\n\n            }\n\n            var json = JSON.parse(content);\n\n            if (json.asset === undefined || json.asset.version[0] < 2) {\n\n                if (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.'));\n                return;\n\n            }\n\n            if (json.extensionsUsed) {\n\n                for (var i = 0; i < json.extensionsUsed.length; ++i) {\n\n                    var extensionName = json.extensionsUsed[i];\n                    var extensionsRequired = json.extensionsRequired || [];\n\n                    switch (extensionName) {\n\n                        case EXTENSIONS.KHR_LIGHTS_PUNCTUAL:\n                            extensions[extensionName] = new GLTFLightsExtension(json);\n                            break;\n\n                        case EXTENSIONS.KHR_MATERIALS_CLEARCOAT:\n                            extensions[extensionName] = new GLTFMaterialsClearcoatExtension();\n                            break;\n\n                        case EXTENSIONS.KHR_MATERIALS_UNLIT:\n                            extensions[extensionName] = new GLTFMaterialsUnlitExtension();\n                            break;\n\n                        case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n                            extensions[extensionName] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n                            break;\n\n                        case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n                            extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader);\n                            break;\n\n                        case EXTENSIONS.MSFT_TEXTURE_DDS:\n                            extensions[extensionName] = new GLTFTextureDDSExtension(this.ddsLoader);\n                            break;\n\n                        case EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n                            extensions[extensionName] = new GLTFTextureTransformExtension();\n                            break;\n\n                        case EXTENSIONS.KHR_MESH_QUANTIZATION:\n                            extensions[extensionName] = new GLTFMeshQuantizationExtension();\n                            break;\n\n                        default:\n\n                            if (extensionsRequired.indexOf(extensionName) >= 0) {\n\n                                console.warn('THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".');\n\n                            }\n\n                    }\n\n                }\n\n            }\n\n            var parser = new GLTFParser(json, extensions, {\n\n                path: path || this.resourcePath || '',\n                crossOrigin: this.crossOrigin,\n                manager: this.manager\n\n            });\n\n            parser.parse(onLoad, onError);\n\n        }\n\n    });\n\n    /* GLTFREGISTRY */\n\n    function GLTFRegistry() {\n\n        var objects = {};\n\n        return {\n\n            get: function(key) {\n\n                return objects[key];\n\n            },\n\n            add: function(key, object) {\n\n                objects[key] = object;\n\n            },\n\n            remove: function(key) {\n\n                delete objects[key];\n\n            },\n\n            removeAll: function() {\n\n                objects = {};\n\n            }\n\n        };\n\n    }\n\n    /*********************************/\n    /********** EXTENSIONS ***********/\n    /*********************************/\n\n    var EXTENSIONS = {\n        KHR_BINARY_GLTF: 'KHR_binary_glTF',\n        KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n        KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n        KHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n        KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n        KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n        KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n        KHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n        MSFT_TEXTURE_DDS: 'MSFT_texture_dds'\n    };\n\n    /**\n     * DDS Texture Extension\n     *\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\n     *\n     */\n    function GLTFTextureDDSExtension(ddsLoader) {\n\n        if (!ddsLoader) {\n\n            throw new Error('THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader');\n\n        }\n\n        this.name = EXTENSIONS.MSFT_TEXTURE_DDS;\n        this.ddsLoader = ddsLoader;\n\n    }\n\n    /**\n     * Punctual Lights Extension\n     *\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n     */\n    function GLTFLightsExtension(json) {\n\n        this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n        var extension = (json.extensions && json.extensions[EXTENSIONS.KHR_LIGHTS_PUNCTUAL]) || {};\n        this.lightDefs = extension.lights || [];\n\n    }\n\n    GLTFLightsExtension.prototype.loadLight = function(lightIndex) {\n\n        var lightDef = this.lightDefs[lightIndex];\n        var lightNode;\n\n        var color = new Color(0xffffff);\n        if (lightDef.color !== undefined) color.fromArray(lightDef.color);\n\n        var range = lightDef.range !== undefined ? lightDef.range : 0;\n\n        switch (lightDef.type) {\n\n            case 'directional':\n                lightNode = new DirectionalLight(color);\n                lightNode.target.position.set(0, 0, -1);\n                lightNode.add(lightNode.target);\n                break;\n\n            case 'point':\n                lightNode = new PointLight(color);\n                lightNode.distance = range;\n                break;\n\n            case 'spot':\n                lightNode = new SpotLight(color);\n                lightNode.distance = range;\n                // Handle spotlight properties.\n                lightDef.spot = lightDef.spot || {};\n                lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n                lightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n                lightNode.angle = lightDef.spot.outerConeAngle;\n                lightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n                lightNode.target.position.set(0, 0, -1);\n                lightNode.add(lightNode.target);\n                break;\n\n            default:\n                throw new Error('THREE.GLTFLoader: Unexpected light type, \"' + lightDef.type + '\".');\n\n        }\n\n        // Some lights (e.g. spot) default to a position other than the origin. Reset the position\n        // here, because node-level parsing will only override position if explicitly specified.\n        lightNode.position.set(0, 0, 0);\n\n        lightNode.decay = 2;\n\n        if (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity;\n\n        lightNode.name = lightDef.name || ('light_' + lightIndex);\n\n        return Promise.resolve(lightNode);\n\n    };\n\n    /**\n     * Unlit Materials Extension\n     *\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n     */\n    function GLTFMaterialsUnlitExtension() {\n\n        this.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n    }\n\n    GLTFMaterialsUnlitExtension.prototype.getMaterialType = function() {\n\n        return MeshBasicMaterial;\n\n    };\n\n    GLTFMaterialsUnlitExtension.prototype.extendParams = function(materialParams, materialDef, parser) {\n\n        var pending = [];\n\n        materialParams.color = new Color(1.0, 1.0, 1.0);\n        materialParams.opacity = 1.0;\n\n        var metallicRoughness = materialDef.pbrMetallicRoughness;\n\n        if (metallicRoughness) {\n\n            if (Array.isArray(metallicRoughness.baseColorFactor)) {\n\n                var array = metallicRoughness.baseColorFactor;\n\n                materialParams.color.fromArray(array);\n                materialParams.opacity = array[3];\n\n            }\n\n            if (metallicRoughness.baseColorTexture !== undefined) {\n\n                pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n\n            }\n\n        }\n\n        return Promise.all(pending);\n\n    };\n\n    /**\n     * Clearcoat Materials Extension\n     *\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n     */\n    function GLTFMaterialsClearcoatExtension() {\n\n        this.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n\n    }\n\n    GLTFMaterialsClearcoatExtension.prototype.getMaterialType = function() {\n\n        return MeshPhysicalMaterial;\n\n    };\n\n    GLTFMaterialsClearcoatExtension.prototype.extendParams = function(materialParams, materialDef, parser) {\n\n        var pending = [];\n\n        var extension = materialDef.extensions[this.name];\n\n        if (extension.clearcoatFactor !== undefined) {\n\n            materialParams.clearcoat = extension.clearcoatFactor;\n\n        }\n\n        if (extension.clearcoatTexture !== undefined) {\n\n            pending.push(parser.assignTexture(materialParams, 'clearcoatMap', extension.clearcoatTexture));\n\n        }\n\n        if (extension.clearcoatRoughnessFactor !== undefined) {\n\n            materialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n\n        }\n\n        if (extension.clearcoatRoughnessTexture !== undefined) {\n\n            pending.push(parser.assignTexture(materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture));\n\n        }\n\n        if (extension.clearcoatNormalTexture !== undefined) {\n\n            pending.push(parser.assignTexture(materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture));\n\n            if (extension.clearcoatNormalTexture.scale !== undefined) {\n\n                var scale = extension.clearcoatNormalTexture.scale;\n\n                materialParams.clearcoatNormalScale = new Vector2(scale, scale);\n\n            }\n\n        }\n\n        return Promise.all(pending);\n\n    };\n\n    /* BINARY EXTENSION */\n    var BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\n    var BINARY_EXTENSION_HEADER_LENGTH = 12;\n    var BINARY_EXTENSION_CHUNK_TYPES = {\n        JSON: 0x4E4F534A,\n        BIN: 0x004E4942\n    };\n\n    function GLTFBinaryExtension(data) {\n\n        this.name = EXTENSIONS.KHR_BINARY_GLTF;\n        this.content = null;\n        this.body = null;\n\n        var headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH);\n\n        this.header = {\n            magic: LoaderUtils.decodeText(new Uint8Array(data.slice(0, 4))),\n            version: headerView.getUint32(4, true),\n            length: headerView.getUint32(8, true)\n        };\n\n        if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {\n\n            throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.');\n\n        } else if (this.header.version < 2.0) {\n\n            throw new Error('THREE.GLTFLoader: Legacy binary file detected.');\n\n        }\n\n        var chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH);\n        var chunkIndex = 0;\n\n        while (chunkIndex < chunkView.byteLength) {\n\n            var chunkLength = chunkView.getUint32(chunkIndex, true);\n            chunkIndex += 4;\n\n            var chunkType = chunkView.getUint32(chunkIndex, true);\n            chunkIndex += 4;\n\n            if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {\n\n                var contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength);\n                this.content = LoaderUtils.decodeText(contentArray);\n\n            } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {\n\n                var byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n                this.body = data.slice(byteOffset, byteOffset + chunkLength);\n\n            }\n\n            // Clients must ignore chunks with unknown types.\n\n            chunkIndex += chunkLength;\n\n        }\n\n        if (this.content === null) {\n\n            throw new Error('THREE.GLTFLoader: JSON content not found.');\n\n        }\n\n    }\n\n    /**\n     * DRACO Mesh Compression Extension\n     *\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n     */\n    function GLTFDracoMeshCompressionExtension(json, dracoLoader) {\n\n        if (!dracoLoader) {\n\n            throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.');\n\n        }\n\n        this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n        this.json = json;\n        this.dracoLoader = dracoLoader;\n        this.dracoLoader.preload();\n\n    }\n\n    GLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function(primitive, parser) {\n\n        var json = this.json;\n        var dracoLoader = this.dracoLoader;\n        var bufferViewIndex = primitive.extensions[this.name].bufferView;\n        var gltfAttributeMap = primitive.extensions[this.name].attributes;\n        var threeAttributeMap = {};\n        var attributeNormalizedMap = {};\n        var attributeTypeMap = {};\n\n        for (var attributeName in gltfAttributeMap) {\n\n            var threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n\n            threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName];\n\n        }\n\n        for (attributeName in primitive.attributes) {\n\n            var threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n\n            if (gltfAttributeMap[attributeName] !== undefined) {\n\n                var accessorDef = json.accessors[primitive.attributes[attributeName]];\n                var componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\n\n                attributeTypeMap[threeAttributeName] = componentType;\n                attributeNormalizedMap[threeAttributeName] = accessorDef.normalized === true;\n\n            }\n\n        }\n\n        return parser.getDependency('bufferView', bufferViewIndex).then(function(bufferView) {\n\n            return new Promise(function(resolve) {\n\n                dracoLoader.decodeDracoFile(bufferView, function(geometry) {\n\n                    for (var attributeName in geometry.attributes) {\n\n                        var attribute = geometry.attributes[attributeName];\n                        var normalized = attributeNormalizedMap[attributeName];\n\n                        if (normalized !== undefined) attribute.normalized = normalized;\n\n                    }\n\n                    resolve(geometry);\n\n                }, threeAttributeMap, attributeTypeMap);\n\n            });\n\n        });\n\n    };\n\n    /**\n     * Texture Transform Extension\n     *\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n     */\n    function GLTFTextureTransformExtension() {\n\n        this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n    }\n\n    GLTFTextureTransformExtension.prototype.extendTexture = function(texture, transform) {\n\n        texture = texture.clone();\n\n        if (transform.offset !== undefined) {\n\n            texture.offset.fromArray(transform.offset);\n\n        }\n\n        if (transform.rotation !== undefined) {\n\n            texture.rotation = transform.rotation;\n\n        }\n\n        if (transform.scale !== undefined) {\n\n            texture.repeat.fromArray(transform.scale);\n\n        }\n\n        if (transform.texCoord !== undefined) {\n\n            console.warn('THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.');\n\n        }\n\n        texture.needsUpdate = true;\n\n        return texture;\n\n    };\n\n    /**\n     * Specular-Glossiness Extension\n     *\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n     */\n\n    /**\n     * A sub class of StandardMaterial with some of the functionality\n     * changed via the `onBeforeCompile` callback\n     * @pailhead\n     */\n\n    function GLTFMeshStandardSGMaterial(params) {\n\n        MeshStandardMaterial.call(this);\n\n        this.isGLTFSpecularGlossinessMaterial = true;\n\n        //various chunks that need replacing\n        var specularMapParsFragmentChunk = [\n            '#ifdef USE_SPECULARMAP',\n            '\tuniform sampler2D specularMap;',\n            '#endif'\n        ].join('\\n');\n\n        var glossinessMapParsFragmentChunk = [\n            '#ifdef USE_GLOSSINESSMAP',\n            '\tuniform sampler2D glossinessMap;',\n            '#endif'\n        ].join('\\n');\n\n        var specularMapFragmentChunk = [\n            'vec3 specularFactor = specular;',\n            '#ifdef USE_SPECULARMAP',\n            '\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n            '\ttexelSpecular = sRGBToLinear( texelSpecular );',\n            '\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n            '\tspecularFactor *= texelSpecular.rgb;',\n            '#endif'\n        ].join('\\n');\n\n        var glossinessMapFragmentChunk = [\n            'float glossinessFactor = glossiness;',\n            '#ifdef USE_GLOSSINESSMAP',\n            '\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n            '\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n            '\tglossinessFactor *= texelGlossiness.a;',\n            '#endif'\n        ].join('\\n');\n\n        var lightPhysicalFragmentChunk = [\n            'PhysicalMaterial material;',\n            'material.diffuseColor = diffuseColor.rgb;',\n            'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\n            'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\n            'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.',\n            'material.specularRoughness += geometryRoughness;',\n            'material.specularRoughness = min( material.specularRoughness, 1.0 );',\n            'material.specularColor = specularFactor.rgb;',\n        ].join('\\n');\n\n        var uniforms = {\n            specular: {\n                value: new Color().setHex(0xffffff)\n            },\n            glossiness: {\n                value: 1\n            },\n            specularMap: {\n                value: null\n            },\n            glossinessMap: {\n                value: null\n            }\n        };\n\n        this._extraUniforms = uniforms;\n\n        // please see #14031 or #13198 for an alternate approach\n        this.onBeforeCompile = function(shader) {\n\n            for (var uniformName in uniforms) {\n\n                shader.uniforms[uniformName] = uniforms[uniformName];\n\n            }\n\n            shader.fragmentShader = shader.fragmentShader.replace('uniform float roughness;', 'uniform vec3 specular;');\n            shader.fragmentShader = shader.fragmentShader.replace('uniform float metalness;', 'uniform float glossiness;');\n            shader.fragmentShader = shader.fragmentShader.replace('#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk);\n            shader.fragmentShader = shader.fragmentShader.replace('#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk);\n            shader.fragmentShader = shader.fragmentShader.replace('#include <roughnessmap_fragment>', specularMapFragmentChunk);\n            shader.fragmentShader = shader.fragmentShader.replace('#include <metalnessmap_fragment>', glossinessMapFragmentChunk);\n            shader.fragmentShader = shader.fragmentShader.replace('#include <lights_physical_fragment>', lightPhysicalFragmentChunk);\n\n        };\n\n        /*eslint-disable*/\n        Object.defineProperties(\n            this, {\n                specular: {\n                    get: function() {\n                        return uniforms.specular.value;\n                    },\n                    set: function(v) {\n                        uniforms.specular.value = v;\n                    }\n                },\n                specularMap: {\n                    get: function() {\n                        return uniforms.specularMap.value;\n                    },\n                    set: function(v) {\n                        uniforms.specularMap.value = v;\n                    }\n                },\n                glossiness: {\n                    get: function() {\n                        return uniforms.glossiness.value;\n                    },\n                    set: function(v) {\n                        uniforms.glossiness.value = v;\n                    }\n                },\n                glossinessMap: {\n                    get: function() {\n                        return uniforms.glossinessMap.value;\n                    },\n                    set: function(v) {\n\n                        uniforms.glossinessMap.value = v;\n                        //how about something like this - @pailhead\n                        if (v) {\n\n                            this.defines.USE_GLOSSINESSMAP = '';\n                            // set USE_ROUGHNESSMAP to enable vUv\n                            this.defines.USE_ROUGHNESSMAP = '';\n\n                        } else {\n\n                            delete this.defines.USE_ROUGHNESSMAP;\n                            delete this.defines.USE_GLOSSINESSMAP;\n\n                        }\n\n                    }\n                }\n            }\n        );\n\n        /*eslint-enable*/\n        delete this.metalness;\n        delete this.roughness;\n        delete this.metalnessMap;\n        delete this.roughnessMap;\n\n        this.setValues(params);\n\n    }\n\n    GLTFMeshStandardSGMaterial.prototype = Object.create(MeshStandardMaterial.prototype);\n    GLTFMeshStandardSGMaterial.prototype.constructor = GLTFMeshStandardSGMaterial;\n\n    GLTFMeshStandardSGMaterial.prototype.copy = function(source) {\n\n        MeshStandardMaterial.prototype.copy.call(this, source);\n        this.specularMap = source.specularMap;\n        this.specular.copy(source.specular);\n        this.glossinessMap = source.glossinessMap;\n        this.glossiness = source.glossiness;\n        delete this.metalness;\n        delete this.roughness;\n        delete this.metalnessMap;\n        delete this.roughnessMap;\n        return this;\n\n    };\n\n    function GLTFMaterialsPbrSpecularGlossinessExtension() {\n\n        return {\n\n            name: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\n\n            specularGlossinessParams: [\n                'color',\n                'map',\n                'lightMap',\n                'lightMapIntensity',\n                'aoMap',\n                'aoMapIntensity',\n                'emissive',\n                'emissiveIntensity',\n                'emissiveMap',\n                'bumpMap',\n                'bumpScale',\n                'normalMap',\n                'normalMapType',\n                'displacementMap',\n                'displacementScale',\n                'displacementBias',\n                'specularMap',\n                'specular',\n                'glossinessMap',\n                'glossiness',\n                'alphaMap',\n                'envMap',\n                'envMapIntensity',\n                'refractionRatio',\n            ],\n\n            getMaterialType: function() {\n\n                return GLTFMeshStandardSGMaterial;\n\n            },\n\n            extendParams: function(materialParams, materialDef, parser) {\n\n                var pbrSpecularGlossiness = materialDef.extensions[this.name];\n\n                materialParams.color = new Color(1.0, 1.0, 1.0);\n                materialParams.opacity = 1.0;\n\n                var pending = [];\n\n                if (Array.isArray(pbrSpecularGlossiness.diffuseFactor)) {\n\n                    var array = pbrSpecularGlossiness.diffuseFactor;\n\n                    materialParams.color.fromArray(array);\n                    materialParams.opacity = array[3];\n\n                }\n\n                if (pbrSpecularGlossiness.diffuseTexture !== undefined) {\n\n                    pending.push(parser.assignTexture(materialParams, 'map', pbrSpecularGlossiness.diffuseTexture));\n\n                }\n\n                materialParams.emissive = new Color(0.0, 0.0, 0.0);\n                materialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n                materialParams.specular = new Color(1.0, 1.0, 1.0);\n\n                if (Array.isArray(pbrSpecularGlossiness.specularFactor)) {\n\n                    materialParams.specular.fromArray(pbrSpecularGlossiness.specularFactor);\n\n                }\n\n                if (pbrSpecularGlossiness.specularGlossinessTexture !== undefined) {\n\n                    var specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n                    pending.push(parser.assignTexture(materialParams, 'glossinessMap', specGlossMapDef));\n                    pending.push(parser.assignTexture(materialParams, 'specularMap', specGlossMapDef));\n\n                }\n\n                return Promise.all(pending);\n\n            },\n\n            createMaterial: function(materialParams) {\n\n                var material = new GLTFMeshStandardSGMaterial(materialParams);\n                material.fog = true;\n\n                material.color = materialParams.color;\n\n                material.map = materialParams.map === undefined ? null : materialParams.map;\n\n                material.lightMap = null;\n                material.lightMapIntensity = 1.0;\n\n                material.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n                material.aoMapIntensity = 1.0;\n\n                material.emissive = materialParams.emissive;\n                material.emissiveIntensity = 1.0;\n                material.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n\n                material.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n                material.bumpScale = 1;\n\n                material.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n                material.normalMapType = TangentSpaceNormalMap;\n\n                if (materialParams.normalScale) material.normalScale = materialParams.normalScale;\n\n                material.displacementMap = null;\n                material.displacementScale = 1;\n                material.displacementBias = 0;\n\n                material.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n                material.specular = materialParams.specular;\n\n                material.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n                material.glossiness = materialParams.glossiness;\n\n                material.alphaMap = null;\n\n                material.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n                material.envMapIntensity = 1.0;\n\n                material.refractionRatio = 0.98;\n\n                return material;\n\n            },\n\n        };\n\n    }\n\n    /**\n     * Mesh Quantization Extension\n     *\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n     */\n    function GLTFMeshQuantizationExtension() {\n\n        this.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n\n    }\n\n    /*********************************/\n    /********** INTERPOLATION ********/\n    /*********************************/\n\n    // Spline Interpolation\n    // Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n    function GLTFCubicSplineInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\n        Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n\n    }\n\n    GLTFCubicSplineInterpolant.prototype = Object.create(Interpolant.prototype);\n    GLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\n\n    GLTFCubicSplineInterpolant.prototype.copySampleValue_ = function(index) {\n\n        // Copies a sample value to the result buffer. See description of glTF\n        // CUBICSPLINE values layout in interpolate_() function below.\n\n        var result = this.resultBuffer,\n            values = this.sampleValues,\n            valueSize = this.valueSize,\n            offset = index * valueSize * 3 + valueSize;\n\n        for (var i = 0; i !== valueSize; i++) {\n\n            result[i] = values[offset + i];\n\n        }\n\n        return result;\n\n    };\n\n    GLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n    GLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n    GLTFCubicSplineInterpolant.prototype.interpolate_ = function(i1, t0, t, t1) {\n\n        var result = this.resultBuffer;\n        var values = this.sampleValues;\n        var stride = this.valueSize;\n\n        var stride2 = stride * 2;\n        var stride3 = stride * 3;\n\n        var td = t1 - t0;\n\n        var p = (t - t0) / td;\n        var pp = p * p;\n        var ppp = pp * p;\n\n        var offset1 = i1 * stride3;\n        var offset0 = offset1 - stride3;\n\n        var s2 = -2 * ppp + 3 * pp;\n        var s3 = ppp - pp;\n        var s0 = 1 - s2;\n        var s1 = s3 - pp + p;\n\n        // Layout of keyframe output values for CUBICSPLINE animations:\n        //   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n        for (var i = 0; i !== stride; i++) {\n\n            var p0 = values[offset0 + i + stride]; // splineVertex_k\n            var m0 = values[offset0 + i + stride2] * td; // outTangent_k * (t_k+1 - t_k)\n            var p1 = values[offset1 + i + stride]; // splineVertex_k+1\n            var m1 = values[offset1 + i] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n            result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n        }\n\n        return result;\n\n    };\n\n    /*********************************/\n    /********** INTERNALS ************/\n    /*********************************/\n\n    /* CONSTANTS */\n\n    var WEBGL_CONSTANTS = {\n        FLOAT: 5126,\n        //FLOAT_MAT2: 35674,\n        FLOAT_MAT3: 35675,\n        FLOAT_MAT4: 35676,\n        FLOAT_VEC2: 35664,\n        FLOAT_VEC3: 35665,\n        FLOAT_VEC4: 35666,\n        LINEAR: 9729,\n        REPEAT: 10497,\n        SAMPLER_2D: 35678,\n        POINTS: 0,\n        LINES: 1,\n        LINE_LOOP: 2,\n        LINE_STRIP: 3,\n        TRIANGLES: 4,\n        TRIANGLE_STRIP: 5,\n        TRIANGLE_FAN: 6,\n        UNSIGNED_BYTE: 5121,\n        UNSIGNED_SHORT: 5123\n    };\n\n    var WEBGL_COMPONENT_TYPES = {\n        5120: Int8Array,\n        5121: Uint8Array,\n        5122: Int16Array,\n        5123: Uint16Array,\n        5125: Uint32Array,\n        5126: Float32Array\n    };\n\n    var WEBGL_FILTERS = {\n        9728: NearestFilter,\n        9729: LinearFilter,\n        9984: NearestMipmapNearestFilter,\n        9985: LinearMipmapNearestFilter,\n        9986: NearestMipmapLinearFilter,\n        9987: LinearMipmapLinearFilter\n    };\n\n    var WEBGL_WRAPPINGS = {\n        33071: ClampToEdgeWrapping,\n        33648: MirroredRepeatWrapping,\n        10497: RepeatWrapping\n    };\n\n    var WEBGL_TYPE_SIZES = {\n        'SCALAR': 1,\n        'VEC2': 2,\n        'VEC3': 3,\n        'VEC4': 4,\n        'MAT2': 4,\n        'MAT3': 9,\n        'MAT4': 16\n    };\n\n    var ATTRIBUTES = {\n        POSITION: 'position',\n        NORMAL: 'normal',\n        TANGENT: 'tangent',\n        TEXCOORD_0: 'uv',\n        TEXCOORD_1: 'uv2',\n        COLOR_0: 'color',\n        WEIGHTS_0: 'skinWeight',\n        JOINTS_0: 'skinIndex',\n    };\n\n    var PATH_PROPERTIES = {\n        scale: 'scale',\n        translation: 'position',\n        rotation: 'quaternion',\n        weights: 'morphTargetInfluences'\n    };\n\n    var INTERPOLATION = {\n        CUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n        // keyframe track will be initialized with a default interpolation type, then modified.\n        LINEAR: InterpolateLinear,\n        STEP: InterpolateDiscrete\n    };\n\n    var ALPHA_MODES = {\n        OPAQUE: 'OPAQUE',\n        MASK: 'MASK',\n        BLEND: 'BLEND'\n    };\n\n    var MIME_TYPE_FORMATS = {\n        'image/png': RGBAFormat,\n        'image/jpeg': RGBFormat\n    };\n\n    /* UTILITY FUNCTIONS */\n\n    function resolveURL(url, path) {\n\n        // Invalid URL\n        if (typeof url !== 'string' || url === '') return '';\n\n        // Host Relative URL\n        if (/^https?:\\/\\//i.test(path) && /^\\//.test(url)) {\n\n            path = path.replace(/(^https?:\\/\\/[^\\/]+).*/i, '$1');\n\n        }\n\n        // Absolute URL http://,https://,//\n        if (/^(https?:)?\\/\\//i.test(url)) return url;\n\n        // Data URI\n        if (/^data:.*,.*$/i.test(url)) return url;\n\n        // Blob URL\n        if (/^blob:.*$/i.test(url)) return url;\n\n        // Relative URL\n        return path + url;\n\n    }\n\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n     */\n    function createDefaultMaterial(cache) {\n\n        if (cache['DefaultMaterial'] === undefined) {\n\n            cache['DefaultMaterial'] = new MeshStandardMaterial({\n                color: 0xFFFFFF,\n                emissive: 0x000000,\n                metalness: 1,\n                roughness: 1,\n                transparent: false,\n                depthTest: true,\n                side: FrontSide\n            });\n\n        }\n\n        return cache['DefaultMaterial'];\n\n    }\n\n    function addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {\n\n        // Add unknown glTF extensions to an object's userData.\n\n        for (var name in objectDef.extensions) {\n\n            if (knownExtensions[name] === undefined) {\n\n                object.userData.gltfExtensions = object.userData.gltfExtensions || {};\n                object.userData.gltfExtensions[name] = objectDef.extensions[name];\n\n            }\n\n        }\n\n    }\n\n    /**\n     * @param {Object3D|Material|BufferGeometry} object\n     * @param {GLTF.definition} gltfDef\n     */\n    function assignExtrasToUserData(object, gltfDef) {\n\n        if (gltfDef.extras !== undefined) {\n\n            if (typeof gltfDef.extras === 'object') {\n\n                Object.assign(object.userData, gltfDef.extras);\n\n            } else {\n\n                console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras);\n\n            }\n\n        }\n\n    }\n\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n     *\n     * @param {BufferGeometry} geometry\n     * @param {Array<GLTF.Target>} targets\n     * @param {GLTFParser} parser\n     * @return {Promise<BufferGeometry>}\n     */\n    function addMorphTargets(geometry, targets, parser) {\n\n        var hasMorphPosition = false;\n        var hasMorphNormal = false;\n\n        for (var i = 0, il = targets.length; i < il; i++) {\n\n            var target = targets[i];\n\n            if (target.POSITION !== undefined) hasMorphPosition = true;\n            if (target.NORMAL !== undefined) hasMorphNormal = true;\n\n            if (hasMorphPosition && hasMorphNormal) break;\n\n        }\n\n        if (!hasMorphPosition && !hasMorphNormal) return Promise.resolve(geometry);\n\n        var pendingPositionAccessors = [];\n        var pendingNormalAccessors = [];\n\n        for (var i = 0, il = targets.length; i < il; i++) {\n\n            var target = targets[i];\n\n            if (hasMorphPosition) {\n\n                var pendingAccessor = target.POSITION !== undefined ?\n                    parser.getDependency('accessor', target.POSITION) :\n                    geometry.attributes.position;\n\n                pendingPositionAccessors.push(pendingAccessor);\n\n            }\n\n            if (hasMorphNormal) {\n\n                var pendingAccessor = target.NORMAL !== undefined ?\n                    parser.getDependency('accessor', target.NORMAL) :\n                    geometry.attributes.normal;\n\n                pendingNormalAccessors.push(pendingAccessor);\n\n            }\n\n        }\n\n        return Promise.all([\n            Promise.all(pendingPositionAccessors),\n            Promise.all(pendingNormalAccessors)\n        ]).then(function(accessors) {\n\n            var morphPositions = accessors[0];\n            var morphNormals = accessors[1];\n\n            if (hasMorphPosition) geometry.morphAttributes.position = morphPositions;\n            if (hasMorphNormal) geometry.morphAttributes.normal = morphNormals;\n            geometry.morphTargetsRelative = true;\n\n            return geometry;\n\n        });\n\n    }\n\n    /**\n     * @param {Mesh} mesh\n     * @param {GLTF.Mesh} meshDef\n     */\n    function updateMorphTargets(mesh, meshDef) {\n\n        mesh.updateMorphTargets();\n\n        if (meshDef.weights !== undefined) {\n\n            for (var i = 0, il = meshDef.weights.length; i < il; i++) {\n\n                mesh.morphTargetInfluences[i] = meshDef.weights[i];\n\n            }\n\n        }\n\n        // .extras has user-defined data, so check that .extras.targetNames is an array.\n        if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {\n\n            var targetNames = meshDef.extras.targetNames;\n\n            if (mesh.morphTargetInfluences.length === targetNames.length) {\n\n                mesh.morphTargetDictionary = {};\n\n                for (var i = 0, il = targetNames.length; i < il; i++) {\n\n                    mesh.morphTargetDictionary[targetNames[i]] = i;\n\n                }\n\n            } else {\n\n                console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.');\n\n            }\n\n        }\n\n    }\n\n    function createPrimitiveKey(primitiveDef) {\n\n        var dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];\n        var geometryKey;\n\n        if (dracoExtension) {\n\n            geometryKey = 'draco:' + dracoExtension.bufferView +\n                ':' + dracoExtension.indices +\n                ':' + createAttributesKey(dracoExtension.attributes);\n\n        } else {\n\n            geometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode;\n\n        }\n\n        return geometryKey;\n\n    }\n\n    function createAttributesKey(attributes) {\n\n        var attributesKey = '';\n\n        var keys = Object.keys(attributes).sort();\n\n        for (var i = 0, il = keys.length; i < il; i++) {\n\n            attributesKey += keys[i] + ':' + attributes[keys[i]] + ';';\n\n        }\n\n        return attributesKey;\n\n    }\n\n    /* GLTF PARSER */\n\n    function GLTFParser(json, extensions, options) {\n\n        this.json = json || {};\n        this.extensions = extensions || {};\n        this.options = options || {};\n\n        // loader object cache\n        this.cache = new GLTFRegistry();\n\n        // BufferGeometry caching\n        this.primitiveCache = {};\n\n        this.textureLoader = new TextureLoader(this.options.manager);\n        this.textureLoader.setCrossOrigin(this.options.crossOrigin);\n\n        this.fileLoader = new FileLoader(this.options.manager);\n        this.fileLoader.setResponseType('arraybuffer');\n\n        if (this.options.crossOrigin === 'use-credentials') {\n\n            this.fileLoader.setWithCredentials(true);\n\n        }\n\n    }\n\n    GLTFParser.prototype.parse = function(onLoad, onError) {\n\n        var parser = this;\n        var json = this.json;\n        var extensions = this.extensions;\n\n        // Clear the loader cache\n        this.cache.removeAll();\n\n        // Mark the special nodes/meshes in json for efficient parse\n        this.markDefs();\n\n        Promise.all([\n\n            this.getDependencies('scene'),\n            this.getDependencies('animation'),\n            this.getDependencies('camera'),\n\n        ]).then(function(dependencies) {\n\n            var result = {\n                scene: dependencies[0][json.scene || 0],\n                scenes: dependencies[0],\n                animations: dependencies[1],\n                cameras: dependencies[2],\n                asset: json.asset,\n                parser: parser,\n                userData: {}\n            };\n\n            addUnknownExtensionsToUserData(extensions, result, json);\n\n            assignExtrasToUserData(result, json);\n\n            onLoad(result);\n\n        }).catch(onError);\n\n    };\n\n    /**\n     * Marks the special nodes/meshes in json for efficient parse.\n     */\n    GLTFParser.prototype.markDefs = function() {\n\n        var nodeDefs = this.json.nodes || [];\n        var skinDefs = this.json.skins || [];\n        var meshDefs = this.json.meshes || [];\n\n        var meshReferences = {};\n        var meshUses = {};\n\n        // Nothing in the node definition indicates whether it is a Bone or an\n        // Object3D. Use the skins' joint references to mark bones.\n        for (var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {\n\n            var joints = skinDefs[skinIndex].joints;\n\n            for (var i = 0, il = joints.length; i < il; i++) {\n\n                nodeDefs[joints[i]].isBone = true;\n\n            }\n\n        }\n\n        // Meshes can (and should) be reused by multiple nodes in a glTF asset. To\n        // avoid having more than one Mesh with the same name, count\n        // references and rename instances below.\n        //\n        // Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n        for (var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n\n            var nodeDef = nodeDefs[nodeIndex];\n\n            if (nodeDef.mesh !== undefined) {\n\n                if (meshReferences[nodeDef.mesh] === undefined) {\n\n                    meshReferences[nodeDef.mesh] = meshUses[nodeDef.mesh] = 0;\n\n                }\n\n                meshReferences[nodeDef.mesh]++;\n\n                // Nothing in the mesh definition indicates whether it is\n                // a SkinnedMesh or Mesh. Use the node's mesh reference\n                // to mark SkinnedMesh if node has skin.\n                if (nodeDef.skin !== undefined) {\n\n                    meshDefs[nodeDef.mesh].isSkinnedMesh = true;\n\n                }\n\n            }\n\n        }\n\n        this.json.meshReferences = meshReferences;\n        this.json.meshUses = meshUses;\n\n    };\n\n    /**\n     * Requests the specified dependency asynchronously, with caching.\n     * @param {string} type\n     * @param {number} index\n     * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n     */\n    GLTFParser.prototype.getDependency = function(type, index) {\n\n        var cacheKey = type + ':' + index;\n        var dependency = this.cache.get(cacheKey);\n\n        if (!dependency) {\n\n            switch (type) {\n\n                case 'scene':\n                    dependency = this.loadScene(index);\n                    break;\n\n                case 'node':\n                    dependency = this.loadNode(index);\n                    break;\n\n                case 'mesh':\n                    dependency = this.loadMesh(index);\n                    break;\n\n                case 'accessor':\n                    dependency = this.loadAccessor(index);\n                    break;\n\n                case 'bufferView':\n                    dependency = this.loadBufferView(index);\n                    break;\n\n                case 'buffer':\n                    dependency = this.loadBuffer(index);\n                    break;\n\n                case 'material':\n                    dependency = this.loadMaterial(index);\n                    break;\n\n                case 'texture':\n                    dependency = this.loadTexture(index);\n                    break;\n\n                case 'skin':\n                    dependency = this.loadSkin(index);\n                    break;\n\n                case 'animation':\n                    dependency = this.loadAnimation(index);\n                    break;\n\n                case 'camera':\n                    dependency = this.loadCamera(index);\n                    break;\n\n                case 'light':\n                    dependency = this.extensions[EXTENSIONS.KHR_LIGHTS_PUNCTUAL].loadLight(index);\n                    break;\n\n                default:\n                    throw new Error('Unknown type: ' + type);\n\n            }\n\n            this.cache.add(cacheKey, dependency);\n\n        }\n\n        return dependency;\n\n    };\n\n    /**\n     * Requests all dependencies of the specified type asynchronously, with caching.\n     * @param {string} type\n     * @return {Promise<Array<Object>>}\n     */\n    GLTFParser.prototype.getDependencies = function(type) {\n\n        var dependencies = this.cache.get(type);\n\n        if (!dependencies) {\n\n            var parser = this;\n            var defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || [];\n\n            dependencies = Promise.all(defs.map(function(def, index) {\n\n                return parser.getDependency(type, index);\n\n            }));\n\n            this.cache.add(type, dependencies);\n\n        }\n\n        return dependencies;\n\n    };\n\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n     * @param {number} bufferIndex\n     * @return {Promise<ArrayBuffer>}\n     */\n    GLTFParser.prototype.loadBuffer = function(bufferIndex) {\n\n        var bufferDef = this.json.buffers[bufferIndex];\n        var loader = this.fileLoader;\n\n        if (bufferDef.type && bufferDef.type !== 'arraybuffer') {\n\n            throw new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.');\n\n        }\n\n        // If present, GLB container is required to be the first buffer.\n        if (bufferDef.uri === undefined && bufferIndex === 0) {\n\n            return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);\n\n        }\n\n        var options = this.options;\n\n        return new Promise(function(resolve, reject) {\n\n            loader.load(resolveURL(bufferDef.uri, options.path), resolve, undefined, function() {\n\n                reject(new Error('THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".'));\n\n            });\n\n        });\n\n    };\n\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n     * @param {number} bufferViewIndex\n     * @return {Promise<ArrayBuffer>}\n     */\n    GLTFParser.prototype.loadBufferView = function(bufferViewIndex) {\n\n        var bufferViewDef = this.json.bufferViews[bufferViewIndex];\n\n        return this.getDependency('buffer', bufferViewDef.buffer).then(function(buffer) {\n\n            var byteLength = bufferViewDef.byteLength || 0;\n            var byteOffset = bufferViewDef.byteOffset || 0;\n            return buffer.slice(byteOffset, byteOffset + byteLength);\n\n        });\n\n    };\n\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n     * @param {number} accessorIndex\n     * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n     */\n    GLTFParser.prototype.loadAccessor = function(accessorIndex) {\n\n        var parser = this;\n        var json = this.json;\n\n        var accessorDef = this.json.accessors[accessorIndex];\n\n        if (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {\n\n            // Ignore empty accessors, which may be used to declare runtime\n            // information about attributes coming from another source (e.g. Draco\n            // compression extension).\n            return Promise.resolve(null);\n\n        }\n\n        var pendingBufferViews = [];\n\n        if (accessorDef.bufferView !== undefined) {\n\n            pendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView));\n\n        } else {\n\n            pendingBufferViews.push(null);\n\n        }\n\n        if (accessorDef.sparse !== undefined) {\n\n            pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView));\n            pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView));\n\n        }\n\n        return Promise.all(pendingBufferViews).then(function(bufferViews) {\n\n            var bufferView = bufferViews[0];\n\n            var itemSize = WEBGL_TYPE_SIZES[accessorDef.type];\n            var TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\n\n            // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n            var elementBytes = TypedArray.BYTES_PER_ELEMENT;\n            var itemBytes = elementBytes * itemSize;\n            var byteOffset = accessorDef.byteOffset || 0;\n            var byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined;\n            var normalized = accessorDef.normalized === true;\n            var array, bufferAttribute;\n\n            // The buffer is not interleaved if the stride is the item size in bytes.\n            if (byteStride && byteStride !== itemBytes) {\n\n                // Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n                // This makes sure that IBA.count reflects accessor.count properly\n                var ibSlice = Math.floor(byteOffset / byteStride);\n                var ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n                var ib = parser.cache.get(ibCacheKey);\n\n                if (!ib) {\n\n                    array = new TypedArray(bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes);\n\n                    // Integer parameters to IB/IBA are in array elements, not bytes.\n                    ib = new InterleavedBuffer(array, byteStride / elementBytes);\n\n                    parser.cache.add(ibCacheKey, ib);\n\n                }\n\n                bufferAttribute = new InterleavedBufferAttribute(ib, itemSize, (byteOffset % byteStride) / elementBytes, normalized);\n\n            } else {\n\n                if (bufferView === null) {\n\n                    array = new TypedArray(accessorDef.count * itemSize);\n\n                } else {\n\n                    array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize);\n\n                }\n\n                bufferAttribute = new BufferAttribute(array, itemSize, normalized);\n\n            }\n\n            // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n            if (accessorDef.sparse !== undefined) {\n\n                var itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n                var TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType];\n\n                var byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n                var byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n                var sparseIndices = new TypedArrayIndices(bufferViews[1], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices);\n                var sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize);\n\n                if (bufferView !== null) {\n\n                    // Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n                    bufferAttribute = new BufferAttribute(bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized);\n\n                }\n\n                for (var i = 0, il = sparseIndices.length; i < il; i++) {\n\n                    var index = sparseIndices[i];\n\n                    bufferAttribute.setX(index, sparseValues[i * itemSize]);\n                    if (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1]);\n                    if (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2]);\n                    if (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3]);\n                    if (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.');\n\n                }\n\n            }\n\n            return bufferAttribute;\n\n        });\n\n    };\n\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n     * @param {number} textureIndex\n     * @return {Promise<THREE.Texture>}\n     */\n    GLTFParser.prototype.loadTexture = function(textureIndex) {\n\n        var parser = this;\n        var json = this.json;\n        var options = this.options;\n        var textureLoader = this.textureLoader;\n\n        var URL = self.URL || self.webkitURL;\n\n        var textureDef = json.textures[textureIndex];\n\n        var textureExtensions = textureDef.extensions || {};\n\n        var source;\n\n        if (textureExtensions[EXTENSIONS.MSFT_TEXTURE_DDS]) {\n\n            source = json.images[textureExtensions[EXTENSIONS.MSFT_TEXTURE_DDS].source];\n\n        } else {\n\n            source = json.images[textureDef.source];\n\n        }\n\n        var sourceURI = source.uri;\n        var isObjectURL = false;\n\n        if (source.bufferView !== undefined) {\n\n            // Load binary image data from bufferView, if provided.\n\n            sourceURI = parser.getDependency('bufferView', source.bufferView).then(function(bufferView) {\n\n                isObjectURL = true;\n                var blob = new Blob([bufferView], {\n                    type: source.mimeType\n                });\n                sourceURI = URL.createObjectURL(blob);\n                return sourceURI;\n\n            });\n\n        }\n\n        return Promise.resolve(sourceURI).then(function(sourceURI) {\n\n            // Load Texture resource.\n\n            var loader = options.manager.getHandler(sourceURI);\n\n            if (!loader) {\n\n                loader = textureExtensions[EXTENSIONS.MSFT_TEXTURE_DDS] ?\n                    parser.extensions[EXTENSIONS.MSFT_TEXTURE_DDS].ddsLoader :\n                    textureLoader;\n\n            }\n\n            return new Promise(function(resolve, reject) {\n\n                loader.load(resolveURL(sourceURI, options.path), resolve, undefined, reject);\n\n            });\n\n        }).then(function(texture) {\n\n            // Clean up resources and configure Texture.\n\n            if (isObjectURL === true) {\n\n                URL.revokeObjectURL(sourceURI);\n\n            }\n\n            texture.flipY = false;\n\n            if (textureDef.name) texture.name = textureDef.name;\n\n            // Ignore unknown mime types, like DDS files.\n            if (source.mimeType in MIME_TYPE_FORMATS) {\n\n                texture.format = MIME_TYPE_FORMATS[source.mimeType];\n\n            }\n\n            var samplers = json.samplers || {};\n            var sampler = samplers[textureDef.sampler] || {};\n\n            texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || LinearFilter;\n            texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || LinearMipmapLinearFilter;\n            texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || RepeatWrapping;\n            texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || RepeatWrapping;\n\n            return texture;\n\n        });\n\n    };\n\n    /**\n     * Asynchronously assigns a texture to the given material parameters.\n     * @param {Object} materialParams\n     * @param {string} mapName\n     * @param {Object} mapDef\n     * @return {Promise}\n     */\n    GLTFParser.prototype.assignTexture = function(materialParams, mapName, mapDef) {\n\n        var parser = this;\n\n        return this.getDependency('texture', mapDef.index).then(function(texture) {\n\n            if (!texture.isCompressedTexture) {\n\n                switch (mapName) {\n\n                    case 'aoMap':\n                    case 'emissiveMap':\n                    case 'metalnessMap':\n                    case 'normalMap':\n                    case 'roughnessMap':\n                        texture.format = RGBFormat;\n                        break;\n\n                }\n\n            }\n\n            // Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n            // However, we will copy UV set 0 to UV set 1 on demand for aoMap\n            if (mapDef.texCoord !== undefined && mapDef.texCoord != 0 && !(mapName === 'aoMap' && mapDef.texCoord == 1)) {\n\n                console.warn('THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.');\n\n            }\n\n            if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {\n\n                var transform = mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined;\n\n                if (transform) {\n\n                    texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform);\n\n                }\n\n            }\n\n            materialParams[mapName] = texture;\n\n        });\n\n    };\n\n    /**\n     * Assigns final material to a Mesh, Line, or Points instance. The instance\n     * already has a material (generated from the glTF material options alone)\n     * but reuse of the same glTF material may require multiple threejs materials\n     * to accomodate different primitive types, defines, etc. New materials will\n     * be created if necessary, and reused from a cache.\n     * @param  {Object3D} mesh Mesh, Line, or Points instance.\n     */\n    GLTFParser.prototype.assignFinalMaterial = function(mesh) {\n\n        var geometry = mesh.geometry;\n        var material = mesh.material;\n\n        var useVertexTangents = geometry.attributes.tangent !== undefined;\n        var useVertexColors = geometry.attributes.color !== undefined;\n        var useFlatShading = geometry.attributes.normal === undefined;\n        var useSkinning = mesh.isSkinnedMesh === true;\n        var useMorphTargets = Object.keys(geometry.morphAttributes).length > 0;\n        var useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\n\n        if (mesh.isPoints) {\n\n            var cacheKey = 'PointsMaterial:' + material.uuid;\n\n            var pointsMaterial = this.cache.get(cacheKey);\n\n            if (!pointsMaterial) {\n\n                pointsMaterial = new PointsMaterial();\n                Material.prototype.copy.call(pointsMaterial, material);\n                pointsMaterial.color.copy(material.color);\n                pointsMaterial.map = material.map;\n                pointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n                this.cache.add(cacheKey, pointsMaterial);\n\n            }\n\n            material = pointsMaterial;\n\n        } else if (mesh.isLine) {\n\n            var cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n            var lineMaterial = this.cache.get(cacheKey);\n\n            if (!lineMaterial) {\n\n                lineMaterial = new LineBasicMaterial();\n                Material.prototype.copy.call(lineMaterial, material);\n                lineMaterial.color.copy(material.color);\n\n                this.cache.add(cacheKey, lineMaterial);\n\n            }\n\n            material = lineMaterial;\n\n        }\n\n        // Clone the material if it will be modified\n        if (useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets) {\n\n            var cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n            if (material.isGLTFSpecularGlossinessMaterial) cacheKey += 'specular-glossiness:';\n            if (useSkinning) cacheKey += 'skinning:';\n            if (useVertexTangents) cacheKey += 'vertex-tangents:';\n            if (useVertexColors) cacheKey += 'vertex-colors:';\n            if (useFlatShading) cacheKey += 'flat-shading:';\n            if (useMorphTargets) cacheKey += 'morph-targets:';\n            if (useMorphNormals) cacheKey += 'morph-normals:';\n\n            var cachedMaterial = this.cache.get(cacheKey);\n\n            if (!cachedMaterial) {\n\n                cachedMaterial = material.clone();\n\n                if (useSkinning) cachedMaterial.skinning = true;\n                if (useVertexTangents) cachedMaterial.vertexTangents = true;\n                if (useVertexColors) cachedMaterial.vertexColors = true;\n                if (useFlatShading) cachedMaterial.flatShading = true;\n                if (useMorphTargets) cachedMaterial.morphTargets = true;\n                if (useMorphNormals) cachedMaterial.morphNormals = true;\n\n                this.cache.add(cacheKey, cachedMaterial);\n\n            }\n\n            material = cachedMaterial;\n\n        }\n\n        // workarounds for mesh and geometry\n\n        if (material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined) {\n\n            geometry.setAttribute('uv2', new BufferAttribute(geometry.attributes.uv.array, 2));\n\n        }\n\n        // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n        if (material.normalScale && !useVertexTangents) {\n\n            material.normalScale.y = -material.normalScale.y;\n\n        }\n\n        if (material.clearcoatNormalScale && !useVertexTangents) {\n\n            material.clearcoatNormalScale.y = -material.clearcoatNormalScale.y;\n\n        }\n\n        mesh.material = material;\n\n    };\n\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n     * @param {number} materialIndex\n     * @return {Promise<Material>}\n     */\n    GLTFParser.prototype.loadMaterial = function(materialIndex) {\n\n        var parser = this;\n        var json = this.json;\n        var extensions = this.extensions;\n        var materialDef = json.materials[materialIndex];\n\n        var materialType;\n        var materialParams = {};\n        var materialExtensions = materialDef.extensions || {};\n\n        var pending = [];\n\n        if (materialExtensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {\n\n            var sgExtension = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];\n            materialType = sgExtension.getMaterialType();\n            pending.push(sgExtension.extendParams(materialParams, materialDef, parser));\n\n        } else if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {\n\n            var kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT];\n            materialType = kmuExtension.getMaterialType();\n            pending.push(kmuExtension.extendParams(materialParams, materialDef, parser));\n\n        } else {\n\n            // Specification:\n            // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n            materialType = MeshStandardMaterial;\n\n            var metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n            materialParams.color = new Color(1.0, 1.0, 1.0);\n            materialParams.opacity = 1.0;\n\n            if (Array.isArray(metallicRoughness.baseColorFactor)) {\n\n                var array = metallicRoughness.baseColorFactor;\n\n                materialParams.color.fromArray(array);\n                materialParams.opacity = array[3];\n\n            }\n\n            if (metallicRoughness.baseColorTexture !== undefined) {\n\n                pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n\n            }\n\n            materialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n            materialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n            if (metallicRoughness.metallicRoughnessTexture !== undefined) {\n\n                pending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture));\n                pending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture));\n\n            }\n\n        }\n\n        if (materialDef.doubleSided === true) {\n\n            materialParams.side = DoubleSide;\n\n        }\n\n        var alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n        if (alphaMode === ALPHA_MODES.BLEND) {\n\n            materialParams.transparent = true;\n\n            // See: https://github.com/mrdoob/three.js/issues/17706\n            materialParams.depthWrite = false;\n\n        } else {\n\n            materialParams.transparent = false;\n\n            if (alphaMode === ALPHA_MODES.MASK) {\n\n                materialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n            }\n\n        }\n\n        if (materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial) {\n\n            pending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture));\n\n            materialParams.normalScale = new Vector2(1, 1);\n\n            if (materialDef.normalTexture.scale !== undefined) {\n\n                materialParams.normalScale.set(materialDef.normalTexture.scale, materialDef.normalTexture.scale);\n\n            }\n\n        }\n\n        if (materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial) {\n\n            pending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture));\n\n            if (materialDef.occlusionTexture.strength !== undefined) {\n\n                materialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n            }\n\n        }\n\n        if (materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial) {\n\n            materialParams.emissive = new Color().fromArray(materialDef.emissiveFactor);\n\n        }\n\n        if (materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial) {\n\n            pending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture));\n\n        }\n\n        if (materialExtensions[EXTENSIONS.KHR_MATERIALS_CLEARCOAT]) {\n\n            var clearcoatExtension = extensions[EXTENSIONS.KHR_MATERIALS_CLEARCOAT];\n            materialType = clearcoatExtension.getMaterialType();\n            pending.push(clearcoatExtension.extendParams(materialParams, {\n                extensions: materialExtensions\n            }, parser));\n\n        }\n\n        return Promise.all(pending).then(function() {\n\n            var material;\n\n            if (materialType === GLTFMeshStandardSGMaterial) {\n\n                material = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(materialParams);\n\n            } else {\n\n                material = new materialType(materialParams);\n\n            }\n\n            if (materialDef.name) material.name = materialDef.name;\n\n            // baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n            if (material.map) material.map.encoding = sRGBEncoding;\n            if (material.emissiveMap) material.emissiveMap.encoding = sRGBEncoding;\n\n            assignExtrasToUserData(material, materialDef);\n\n            if (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef);\n\n            return material;\n\n        });\n\n    };\n\n    /**\n     * @param {BufferGeometry} geometry\n     * @param {GLTF.Primitive} primitiveDef\n     * @param {GLTFParser} parser\n     */\n    function computeBounds(geometry, primitiveDef, parser) {\n\n        var attributes = primitiveDef.attributes;\n\n        var box = new Box3();\n\n        if (attributes.POSITION !== undefined) {\n\n            var accessor = parser.json.accessors[attributes.POSITION];\n\n            var min = accessor.min;\n            var max = accessor.max;\n\n            // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n            if (min !== undefined && max !== undefined) {\n\n                box.set(\n                    new Vector3(min[0], min[1], min[2]),\n                    new Vector3(max[0], max[1], max[2]));\n\n            } else {\n\n                console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n\n                return;\n\n            }\n\n        } else {\n\n            return;\n\n        }\n\n        var targets = primitiveDef.targets;\n\n        if (targets !== undefined) {\n\n            var maxDisplacement = new Vector3();\n            var vector = new Vector3();\n\n            for (var i = 0, il = targets.length; i < il; i++) {\n\n                var target = targets[i];\n\n                if (target.POSITION !== undefined) {\n\n                    var accessor = parser.json.accessors[target.POSITION];\n                    var min = accessor.min;\n                    var max = accessor.max;\n\n                    // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n                    if (min !== undefined && max !== undefined) {\n\n                        // we need to get max of absolute components because target weight is [-1,1]\n                        vector.setX(Math.max(Math.abs(min[0]), Math.abs(max[0])));\n                        vector.setY(Math.max(Math.abs(min[1]), Math.abs(max[1])));\n                        vector.setZ(Math.max(Math.abs(min[2]), Math.abs(max[2])));\n\n                        // Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n                        // to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n                        // are used to implement key-frame animations and as such only two are active at a time - this results in very large\n                        // boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n                        maxDisplacement.max(vector);\n\n                    } else {\n\n                        console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n\n                    }\n\n                }\n\n            }\n\n            // As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n            box.expandByVector(maxDisplacement);\n\n        }\n\n        geometry.boundingBox = box;\n\n        var sphere = new Sphere();\n\n        box.getCenter(sphere.center);\n        sphere.radius = box.min.distanceTo(box.max) / 2;\n\n        geometry.boundingSphere = sphere;\n\n    }\n\n    /**\n     * @param {BufferGeometry} geometry\n     * @param {GLTF.Primitive} primitiveDef\n     * @param {GLTFParser} parser\n     * @return {Promise<BufferGeometry>}\n     */\n    function addPrimitiveAttributes(geometry, primitiveDef, parser) {\n\n        var attributes = primitiveDef.attributes;\n\n        var pending = [];\n\n        function assignAttributeAccessor(accessorIndex, attributeName) {\n\n            return parser.getDependency('accessor', accessorIndex)\n                .then(function(accessor) {\n\n                    geometry.setAttribute(attributeName, accessor);\n\n                });\n\n        }\n\n        for (var gltfAttributeName in attributes) {\n\n            var threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase();\n\n            // Skip attributes already provided by e.g. Draco extension.\n            if (threeAttributeName in geometry.attributes) continue;\n\n            pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName));\n\n        }\n\n        if (primitiveDef.indices !== undefined && !geometry.index) {\n\n            var accessor = parser.getDependency('accessor', primitiveDef.indices).then(function(accessor) {\n\n                geometry.setIndex(accessor);\n\n            });\n\n            pending.push(accessor);\n\n        }\n\n        assignExtrasToUserData(geometry, primitiveDef);\n\n        computeBounds(geometry, primitiveDef, parser);\n\n        return Promise.all(pending).then(function() {\n\n            return primitiveDef.targets !== undefined ?\n                addMorphTargets(geometry, primitiveDef.targets, parser) :\n                geometry;\n\n        });\n\n    }\n\n    /**\n     * @param {BufferGeometry} geometry\n     * @param {Number} drawMode\n     * @return {BufferGeometry}\n     */\n    function toTrianglesDrawMode(geometry, drawMode) {\n\n        var index = geometry.getIndex();\n\n        // generate index if not present\n\n        if (index === null) {\n\n            var indices = [];\n\n            var position = geometry.getAttribute('position');\n\n            if (position !== undefined) {\n\n                for (var i = 0; i < position.count; i++) {\n\n                    indices.push(i);\n\n                }\n\n                geometry.setIndex(indices);\n                index = geometry.getIndex();\n\n            } else {\n\n                console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.');\n                return geometry;\n\n            }\n\n        }\n\n        //\n\n        var numberOfTriangles = index.count - 2;\n        var newIndices = [];\n\n        if (drawMode === TriangleFanDrawMode) {\n\n            // gl.TRIANGLE_FAN\n\n            for (var i = 1; i <= numberOfTriangles; i++) {\n\n                newIndices.push(index.getX(0));\n                newIndices.push(index.getX(i));\n                newIndices.push(index.getX(i + 1));\n\n            }\n\n        } else {\n\n            // gl.TRIANGLE_STRIP\n\n            for (var i = 0; i < numberOfTriangles; i++) {\n\n                if (i % 2 === 0) {\n\n                    newIndices.push(index.getX(i));\n                    newIndices.push(index.getX(i + 1));\n                    newIndices.push(index.getX(i + 2));\n\n                } else {\n\n                    newIndices.push(index.getX(i + 2));\n                    newIndices.push(index.getX(i + 1));\n                    newIndices.push(index.getX(i));\n\n                }\n\n            }\n\n        }\n\n        if ((newIndices.length / 3) !== numberOfTriangles) {\n\n            console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.');\n\n        }\n\n        // build final geometry\n\n        var newGeometry = geometry.clone();\n        newGeometry.setIndex(newIndices);\n\n        return newGeometry;\n\n    }\n\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n     *\n     * Creates BufferGeometries from primitives.\n     *\n     * @param {Array<GLTF.Primitive>} primitives\n     * @return {Promise<Array<BufferGeometry>>}\n     */\n    GLTFParser.prototype.loadGeometries = function(primitives) {\n\n        var parser = this;\n        var extensions = this.extensions;\n        var cache = this.primitiveCache;\n\n        function createDracoPrimitive(primitive) {\n\n            return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]\n                .decodePrimitive(primitive, parser)\n                .then(function(geometry) {\n\n                    return addPrimitiveAttributes(geometry, primitive, parser);\n\n                });\n\n        }\n\n        var pending = [];\n\n        for (var i = 0, il = primitives.length; i < il; i++) {\n\n            var primitive = primitives[i];\n            var cacheKey = createPrimitiveKey(primitive);\n\n            // See if we've already created this geometry\n            var cached = cache[cacheKey];\n\n            if (cached) {\n\n                // Use the cached geometry if it exists\n                pending.push(cached.promise);\n\n            } else {\n\n                var geometryPromise;\n\n                if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {\n\n                    // Use DRACO geometry if available\n                    geometryPromise = createDracoPrimitive(primitive);\n\n                } else {\n\n                    // Otherwise create a new geometry\n                    geometryPromise = addPrimitiveAttributes(new BufferGeometry(), primitive, parser);\n\n                }\n\n                // Cache this geometry\n                cache[cacheKey] = {\n                    primitive: primitive,\n                    promise: geometryPromise\n                };\n\n                pending.push(geometryPromise);\n\n            }\n\n        }\n\n        return Promise.all(pending);\n\n    };\n\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n     * @param {number} meshIndex\n     * @return {Promise<Group|Mesh|SkinnedMesh>}\n     */\n    GLTFParser.prototype.loadMesh = function(meshIndex) {\n\n        var parser = this;\n        var json = this.json;\n\n        var meshDef = json.meshes[meshIndex];\n        var primitives = meshDef.primitives;\n\n        var pending = [];\n\n        for (var i = 0, il = primitives.length; i < il; i++) {\n\n            var material = primitives[i].material === undefined ?\n                createDefaultMaterial(this.cache) :\n                this.getDependency('material', primitives[i].material);\n\n            pending.push(material);\n\n        }\n\n        pending.push(parser.loadGeometries(primitives));\n\n        return Promise.all(pending).then(function(results) {\n\n            var materials = results.slice(0, results.length - 1);\n            var geometries = results[results.length - 1];\n\n            var meshes = [];\n\n            for (var i = 0, il = geometries.length; i < il; i++) {\n\n                var geometry = geometries[i];\n                var primitive = primitives[i];\n\n                // 1. create Mesh\n\n                var mesh;\n\n                var material = materials[i];\n\n                if (primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n                    primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n                    primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n                    primitive.mode === undefined) {\n\n                    // .isSkinnedMesh isn't in glTF spec. See .markDefs()\n                    mesh = meshDef.isSkinnedMesh === true ?\n                        new SkinnedMesh(geometry, material) :\n                        new Mesh(geometry, material);\n\n                    if (mesh.isSkinnedMesh === true && !mesh.geometry.attributes.skinWeight.normalized) {\n\n                        // we normalize floating point skin weight array to fix malformed assets (see #15319)\n                        // it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n                        mesh.normalizeSkinWeights();\n\n                    }\n\n                    if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {\n\n                        mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleStripDrawMode);\n\n                    } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {\n\n                        mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleFanDrawMode);\n\n                    }\n\n                } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {\n\n                    mesh = new LineSegments(geometry, material);\n\n                } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {\n\n                    mesh = new Line(geometry, material);\n\n                } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {\n\n                    mesh = new LineLoop(geometry, material);\n\n                } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {\n\n                    mesh = new Points(geometry, material);\n\n                } else {\n\n                    throw new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode);\n\n                }\n\n                if (Object.keys(mesh.geometry.morphAttributes).length > 0) {\n\n                    updateMorphTargets(mesh, meshDef);\n\n                }\n\n                mesh.name = meshDef.name || ('mesh_' + meshIndex);\n\n                if (geometries.length > 1) mesh.name += '_' + i;\n\n                assignExtrasToUserData(mesh, meshDef);\n\n                parser.assignFinalMaterial(mesh);\n\n                meshes.push(mesh);\n\n            }\n\n            if (meshes.length === 1) {\n\n                return meshes[0];\n\n            }\n\n            var group = new Group();\n\n            for (var i = 0, il = meshes.length; i < il; i++) {\n\n                group.add(meshes[i]);\n\n            }\n\n            return group;\n\n        });\n\n    };\n\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n     * @param {number} cameraIndex\n     * @return {Promise<THREE.Camera>}\n     */\n    GLTFParser.prototype.loadCamera = function(cameraIndex) {\n\n        var camera;\n        var cameraDef = this.json.cameras[cameraIndex];\n        var params = cameraDef[cameraDef.type];\n\n        if (!params) {\n\n            console.warn('THREE.GLTFLoader: Missing camera parameters.');\n            return;\n\n        }\n\n        if (cameraDef.type === 'perspective') {\n\n            camera = new PerspectiveCamera(MathUtils.radToDeg(params.yfov), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6);\n\n        } else if (cameraDef.type === 'orthographic') {\n\n            camera = new OrthographicCamera(params.xmag / -2, params.xmag / 2, params.ymag / 2, params.ymag / -2, params.znear, params.zfar);\n\n        }\n\n        if (cameraDef.name) camera.name = cameraDef.name;\n\n        assignExtrasToUserData(camera, cameraDef);\n\n        return Promise.resolve(camera);\n\n    };\n\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n     * @param {number} skinIndex\n     * @return {Promise<Object>}\n     */\n    GLTFParser.prototype.loadSkin = function(skinIndex) {\n\n        var skinDef = this.json.skins[skinIndex];\n\n        var skinEntry = {\n            joints: skinDef.joints\n        };\n\n        if (skinDef.inverseBindMatrices === undefined) {\n\n            return Promise.resolve(skinEntry);\n\n        }\n\n        return this.getDependency('accessor', skinDef.inverseBindMatrices).then(function(accessor) {\n\n            skinEntry.inverseBindMatrices = accessor;\n\n            return skinEntry;\n\n        });\n\n    };\n\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n     * @param {number} animationIndex\n     * @return {Promise<AnimationClip>}\n     */\n    GLTFParser.prototype.loadAnimation = function(animationIndex) {\n\n        var json = this.json;\n\n        var animationDef = json.animations[animationIndex];\n\n        var pendingNodes = [];\n        var pendingInputAccessors = [];\n        var pendingOutputAccessors = [];\n        var pendingSamplers = [];\n        var pendingTargets = [];\n\n        for (var i = 0, il = animationDef.channels.length; i < il; i++) {\n\n            var channel = animationDef.channels[i];\n            var sampler = animationDef.samplers[channel.sampler];\n            var target = channel.target;\n            var name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n            var input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input;\n            var output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output;\n\n            pendingNodes.push(this.getDependency('node', name));\n            pendingInputAccessors.push(this.getDependency('accessor', input));\n            pendingOutputAccessors.push(this.getDependency('accessor', output));\n            pendingSamplers.push(sampler);\n            pendingTargets.push(target);\n\n        }\n\n        return Promise.all([\n\n            Promise.all(pendingNodes),\n            Promise.all(pendingInputAccessors),\n            Promise.all(pendingOutputAccessors),\n            Promise.all(pendingSamplers),\n            Promise.all(pendingTargets)\n\n        ]).then(function(dependencies) {\n\n            var nodes = dependencies[0];\n            var inputAccessors = dependencies[1];\n            var outputAccessors = dependencies[2];\n            var samplers = dependencies[3];\n            var targets = dependencies[4];\n\n            var tracks = [];\n\n            for (var i = 0, il = nodes.length; i < il; i++) {\n\n                var node = nodes[i];\n                var inputAccessor = inputAccessors[i];\n                var outputAccessor = outputAccessors[i];\n                var sampler = samplers[i];\n                var target = targets[i];\n\n                if (node === undefined) continue;\n\n                node.updateMatrix();\n                node.matrixAutoUpdate = true;\n\n                var TypedKeyframeTrack;\n\n                switch (PATH_PROPERTIES[target.path]) {\n\n                    case PATH_PROPERTIES.weights:\n\n                        TypedKeyframeTrack = NumberKeyframeTrack;\n                        break;\n\n                    case PATH_PROPERTIES.rotation:\n\n                        TypedKeyframeTrack = QuaternionKeyframeTrack;\n                        break;\n\n                    case PATH_PROPERTIES.position:\n                    case PATH_PROPERTIES.scale:\n                    default:\n\n                        TypedKeyframeTrack = VectorKeyframeTrack;\n                        break;\n\n                }\n\n                var targetName = node.name ? node.name : node.uuid;\n\n                var interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : InterpolateLinear;\n\n                var targetNames = [];\n\n                if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {\n\n                    // Node may be a Group (glTF mesh with several primitives) or a Mesh.\n                    node.traverse(function(object) {\n\n                        if (object.isMesh === true && object.morphTargetInfluences) {\n\n                            targetNames.push(object.name ? object.name : object.uuid);\n\n                        }\n\n                    });\n\n                } else {\n\n                    targetNames.push(targetName);\n\n                }\n\n                var outputArray = outputAccessor.array;\n\n                if (outputAccessor.normalized) {\n\n                    var scale;\n\n                    if (outputArray.constructor === Int8Array) {\n\n                        scale = 1 / 127;\n\n                    } else if (outputArray.constructor === Uint8Array) {\n\n                        scale = 1 / 255;\n\n                    } else if (outputArray.constructor == Int16Array) {\n\n                        scale = 1 / 32767;\n\n                    } else if (outputArray.constructor === Uint16Array) {\n\n                        scale = 1 / 65535;\n\n                    } else {\n\n                        throw new Error('THREE.GLTFLoader: Unsupported output accessor component type.');\n\n                    }\n\n                    var scaled = new Float32Array(outputArray.length);\n\n                    for (var j = 0, jl = outputArray.length; j < jl; j++) {\n\n                        scaled[j] = outputArray[j] * scale;\n\n                    }\n\n                    outputArray = scaled;\n\n                }\n\n                for (var j = 0, jl = targetNames.length; j < jl; j++) {\n\n                    var track = new TypedKeyframeTrack(\n                        targetNames[j] + '.' + PATH_PROPERTIES[target.path],\n                        inputAccessor.array,\n                        outputArray,\n                        interpolation\n                    );\n\n                    // Override interpolation with custom factory method.\n                    if (sampler.interpolation === 'CUBICSPLINE') {\n\n                        track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {\n\n                            // A CUBICSPLINE keyframe in glTF has three output values for each input value,\n                            // representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n                            // must be divided by three to get the interpolant's sampleSize argument.\n\n                            return new GLTFCubicSplineInterpolant(this.times, this.values, this.getValueSize() / 3, result);\n\n                        };\n\n                        // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n                        track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n                    }\n\n                    tracks.push(track);\n\n                }\n\n            }\n\n            var name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n\n            return new AnimationClip(name, undefined, tracks);\n\n        });\n\n    };\n\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n     * @param {number} nodeIndex\n     * @return {Promise<Object3D>}\n     */\n    GLTFParser.prototype.loadNode = function(nodeIndex) {\n\n        var json = this.json;\n        var extensions = this.extensions;\n        var parser = this;\n\n        var meshReferences = json.meshReferences;\n        var meshUses = json.meshUses;\n\n        var nodeDef = json.nodes[nodeIndex];\n\n        return (function() {\n\n            var pending = [];\n\n            if (nodeDef.mesh !== undefined) {\n\n                pending.push(parser.getDependency('mesh', nodeDef.mesh).then(function(mesh) {\n\n                    var node;\n\n                    if (meshReferences[nodeDef.mesh] > 1) {\n\n                        var instanceNum = meshUses[nodeDef.mesh]++;\n\n                        node = mesh.clone();\n                        node.name += '_instance_' + instanceNum;\n\n                    } else {\n\n                        node = mesh;\n\n                    }\n\n                    // if weights are provided on the node, override weights on the mesh.\n                    if (nodeDef.weights !== undefined) {\n\n                        node.traverse(function(o) {\n\n                            if (!o.isMesh) return;\n\n                            for (var i = 0, il = nodeDef.weights.length; i < il; i++) {\n\n                                o.morphTargetInfluences[i] = nodeDef.weights[i];\n\n                            }\n\n                        });\n\n                    }\n\n                    return node;\n\n                }));\n\n            }\n\n            if (nodeDef.camera !== undefined) {\n\n                pending.push(parser.getDependency('camera', nodeDef.camera));\n\n            }\n\n            if (nodeDef.extensions &&\n                nodeDef.extensions[EXTENSIONS.KHR_LIGHTS_PUNCTUAL] &&\n                nodeDef.extensions[EXTENSIONS.KHR_LIGHTS_PUNCTUAL].light !== undefined) {\n\n                pending.push(parser.getDependency('light', nodeDef.extensions[EXTENSIONS.KHR_LIGHTS_PUNCTUAL].light));\n\n            }\n\n            return Promise.all(pending);\n\n        }()).then(function(objects) {\n\n            var node;\n\n            // .isBone isn't in glTF spec. See .markDefs\n            if (nodeDef.isBone === true) {\n\n                node = new Bone();\n\n            } else if (objects.length > 1) {\n\n                node = new Group();\n\n            } else if (objects.length === 1) {\n\n                node = objects[0];\n\n            } else {\n\n                node = new Object3D();\n\n            }\n\n            if (node !== objects[0]) {\n\n                for (var i = 0, il = objects.length; i < il; i++) {\n\n                    node.add(objects[i]);\n\n                }\n\n            }\n\n            if (nodeDef.name) {\n\n                node.userData.name = nodeDef.name;\n                node.name = PropertyBinding.sanitizeNodeName(nodeDef.name);\n\n            }\n\n            assignExtrasToUserData(node, nodeDef);\n\n            if (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef);\n\n            if (nodeDef.matrix !== undefined) {\n\n                var matrix = new Matrix4();\n                matrix.fromArray(nodeDef.matrix);\n                node.applyMatrix4(matrix);\n\n            } else {\n\n                if (nodeDef.translation !== undefined) {\n\n                    node.position.fromArray(nodeDef.translation);\n\n                }\n\n                if (nodeDef.rotation !== undefined) {\n\n                    node.quaternion.fromArray(nodeDef.rotation);\n\n                }\n\n                if (nodeDef.scale !== undefined) {\n\n                    node.scale.fromArray(nodeDef.scale);\n\n                }\n\n            }\n\n            return node;\n\n        });\n\n    };\n\n    /**\n     * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n     * @param {number} sceneIndex\n     * @return {Promise<Group>}\n     */\n    GLTFParser.prototype.loadScene = function() {\n\n        // scene node hierachy builder\n\n        function buildNodeHierachy(nodeId, parentObject, json, parser) {\n\n            var nodeDef = json.nodes[nodeId];\n\n            return parser.getDependency('node', nodeId).then(function(node) {\n\n                if (nodeDef.skin === undefined) return node;\n\n                // build skeleton here as well\n\n                var skinEntry;\n\n                return parser.getDependency('skin', nodeDef.skin).then(function(skin) {\n\n                    skinEntry = skin;\n\n                    var pendingJoints = [];\n\n                    for (var i = 0, il = skinEntry.joints.length; i < il; i++) {\n\n                        pendingJoints.push(parser.getDependency('node', skinEntry.joints[i]));\n\n                    }\n\n                    return Promise.all(pendingJoints);\n\n                }).then(function(jointNodes) {\n\n                    node.traverse(function(mesh) {\n\n                        if (!mesh.isMesh) return;\n\n                        var bones = [];\n                        var boneInverses = [];\n\n                        for (var j = 0, jl = jointNodes.length; j < jl; j++) {\n\n                            var jointNode = jointNodes[j];\n\n                            if (jointNode) {\n\n                                bones.push(jointNode);\n\n                                var mat = new Matrix4();\n\n                                if (skinEntry.inverseBindMatrices !== undefined) {\n\n                                    mat.fromArray(skinEntry.inverseBindMatrices.array, j * 16);\n\n                                }\n\n                                boneInverses.push(mat);\n\n                            } else {\n\n                                console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[j]);\n\n                            }\n\n                        }\n\n                        mesh.bind(new Skeleton(bones, boneInverses), mesh.matrixWorld);\n\n                    });\n\n                    return node;\n\n                });\n\n            }).then(function(node) {\n\n                // build node hierachy\n\n                parentObject.add(node);\n\n                var pending = [];\n\n                if (nodeDef.children) {\n\n                    var children = nodeDef.children;\n\n                    for (var i = 0, il = children.length; i < il; i++) {\n\n                        var child = children[i];\n                        pending.push(buildNodeHierachy(child, node, json, parser));\n\n                    }\n\n                }\n\n                return Promise.all(pending);\n\n            });\n\n        }\n\n        return function loadScene(sceneIndex) {\n\n            var json = this.json;\n            var extensions = this.extensions;\n            var sceneDef = this.json.scenes[sceneIndex];\n            var parser = this;\n\n            // Loader returns Group, not Scene.\n            // See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n            var scene = new Group();\n            if (sceneDef.name) scene.name = sceneDef.name;\n\n            assignExtrasToUserData(scene, sceneDef);\n\n            if (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef);\n\n            var nodeIds = sceneDef.nodes || [];\n\n            var pending = [];\n\n            for (var i = 0, il = nodeIds.length; i < il; i++) {\n\n                pending.push(buildNodeHierachy(nodeIds[i], scene, json, parser));\n\n            }\n\n            return Promise.all(pending).then(function() {\n\n                return scene;\n\n            });\n\n        };\n\n    }();\n\n    return GLTFLoader;\n\n})();\n\nexport {\n    GLTFLoader\n};",
    "static": true,
    "longname": "E:/rgnjs/js/lib/GLTFLoader.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 186,
    "kind": "variable",
    "name": "GLTFLoader",
    "memberof": "js/lib/GLTFLoader.js",
    "static": true,
    "longname": "js/lib/GLTFLoader.js~GLTFLoader",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/lib/GLTFLoader.js",
    "importStyle": "{GLTFLoader}",
    "description": null,
    "lineNumber": 18,
    "undocument": true
  },
  {
    "__docId__": 187,
    "kind": "file",
    "name": "js/lib/index.var.js",
    "content": "var AWN = function(t) {\n    var e = {};\n\n    function n(o) {\n        if (e[o]) return e[o].exports;\n        var i = e[o] = {\n            i: o,\n            l: !1,\n            exports: {}\n        };\n        return t[o].call(i.exports, i, i.exports, n), i.l = !0, i.exports\n    }\n    return n.m = t, n.c = e, n.d = function(t, e, o) {\n        n.o(t, e) || Object.defineProperty(t, e, {\n            enumerable: !0,\n            get: o\n        })\n    }, n.r = function(t) {\n        \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n            value: \"Module\"\n        }), Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        })\n    }, n.t = function(t, e) {\n        if (1 & e && (t = n(t)), 8 & e) return t;\n        if (4 & e && \"object\" == typeof t && t && t.__esModule) return t;\n        var o = Object.create(null);\n        if (n.r(o), Object.defineProperty(o, \"default\", {\n                enumerable: !0,\n                value: t\n            }), 2 & e && \"string\" != typeof t)\n            for (var i in t) n.d(o, i, function(e) {\n                return t[e]\n            }.bind(null, i));\n        return o\n    }, n.n = function(t) {\n        var e = t && t.__esModule ? function() {\n            return t.default\n        } : function() {\n            return t\n        };\n        return n.d(e, \"a\", e), e\n    }, n.o = function(t, e) {\n        return Object.prototype.hasOwnProperty.call(t, e)\n    }, n.p = \"\", n(n.s = 0)\n}([function(t, e, n) {\n    t.exports = n(1).default\n}, function(t, e, n) {\n    \"use strict\";\n\n    function o(t) {\n        return (o = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(t) {\n            return typeof t\n        } : function(t) {\n            return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t\n        })(t)\n    }\n\n    function i(t, e) {\n        for (var n = 0; n < e.length; n++) {\n            var o = e[n];\n            o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)\n        }\n    }\n    n.r(e);\n    var r = {\n            maxNotifications: 10,\n            animationDuration: 300,\n            position: \"bottom-right\",\n            labels: {\n                tip: \"Tip\",\n                info: \"Info\",\n                success: \"Success\",\n                warning: \"Attention\",\n                alert: \"Error\",\n                async: \"Loading\",\n                confirm: \"Confirmation required\",\n                confirmOk: \"OK\",\n                confirmCancel: \"Cancel\"\n            },\n            icons: {\n                tip: \"question-circle\",\n                info: \"info-circle\",\n                success: \"check-circle\",\n                warning: \"exclamation-circle\",\n                alert: \"exclamation-triangle\",\n                async: \"cog fa-spin\",\n                confirm: \"exclamation-triangle\",\n                prefix: \"<i class='fa fas fa-fw fa-\",\n                suffix: \"'></i>\",\n                enabled: !0\n            },\n            replacements: {\n                tip: null,\n                info: null,\n                success: null,\n                warning: null,\n                alert: null,\n                async: null,\n                \"async-block\": null,\n                modal: null,\n                confirm: null,\n                general: {\n                    \"<script>\": \"\",\n                    \"<\\/script>\": \"\"\n                }\n            },\n            messages: {\n                tip: \"\",\n                info: \"\",\n                success: \"Action has been succeeded\",\n                warning: \"\",\n                alert: \"Action has been failed\",\n                confirm: \"This action can't be undone. Continue?\",\n                async: \"Please, wait...\",\n                \"async-block\": \"Loading\"\n            },\n            formatError: function(t) {\n                if (t.response) {\n                    if (!t.response.data) return \"500 API Server Error\";\n                    if (t.response.data.errors) return t.response.data.errors.map(function(t) {\n                        return t.detail\n                    }).join(\"<br>\");\n                    if (t.response.statusText) return \"\".concat(t.response.status, \" \").concat(t.response.statusText, \": \").concat(t.response.data)\n                }\n                return t.message ? t.message : t\n            },\n            durations: {\n                global: 5e3,\n                success: null,\n                info: null,\n                tip: null,\n                warning: null,\n                alert: null\n            },\n            minDurations: {\n                async: 1e3,\n                \"async-block\": 1e3\n            }\n        },\n        a = function() {\n            function t() {\n                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : r;\n                ! function(t, e) {\n                    if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\")\n                }(this, t), Object.assign(this, this.defaultsDeep(n, e))\n            }\n            var e, n, a;\n            return e = t, (n = [{\n                key: \"icon\",\n                value: function(t) {\n                    return this.icons.enabled ? \"\".concat(this.icons.prefix).concat(this.icons[t]).concat(this.icons.suffix) : \"\"\n                }\n            }, {\n                key: \"label\",\n                value: function(t) {\n                    return this.labels[t]\n                }\n            }, {\n                key: \"duration\",\n                value: function(t) {\n                    var e = this.durations[t];\n                    return null === e ? this.durations.global : e\n                }\n            }, {\n                key: \"toSecs\",\n                value: function(t) {\n                    return \"\".concat(t / 1e3, \"s\")\n                }\n            }, {\n                key: \"applyReplacements\",\n                value: function(t, e) {\n                    if (!t) return this.messages[e] || \"\";\n                    for (var n = 0, o = [\"general\", e]; n < o.length; n++) {\n                        var i = o[n];\n                        if (this.replacements[i])\n                            for (var r in this.replacements[i]) t = t.replace(r, this.replacements[i][r])\n                    }\n                    return t\n                }\n            }, {\n                key: \"override\",\n                value: function(e) {\n                    return e ? new t(e, this) : this\n                }\n            }, {\n                key: \"defaultsDeep\",\n                value: function(t, e) {\n                    var n = {};\n                    for (var i in t) e.hasOwnProperty(i) ? n[i] = \"object\" === o(t[i]) && null !== t[i] ? this.defaultsDeep(t[i], e[i]) : e[i] : n[i] = t[i];\n                    return n\n                }\n            }]) && i(e.prototype, n), a && i(e, a), t\n        }(),\n        s = {\n            popup: \"\".concat(\"awn\", \"-popup\"),\n            toast: \"\".concat(\"awn\", \"-toast\"),\n            btn: \"\".concat(\"awn\", \"-btn\"),\n            confirm: \"\".concat(\"awn\", \"-confirm\")\n        },\n        c = {\n            prefix: s.toast,\n            klass: {\n                label: \"\".concat(s.toast, \"-label\"),\n                content: \"\".concat(s.toast, \"-content\"),\n                icon: \"\".concat(s.toast, \"-icon\"),\n                progressBar: \"\".concat(s.toast, \"-progress-bar\"),\n                progressBarPause: \"\".concat(s.toast, \"-progress-bar-paused\")\n            },\n            ids: {\n                container: \"\".concat(s.toast, \"-container\")\n            }\n        },\n        u = {\n            prefix: s.popup,\n            klass: {\n                buttons: \"\".concat(\"awn\", \"-buttons\"),\n                button: s.btn,\n                successBtn: \"\".concat(s.btn, \"-success\"),\n                cancelBtn: \"\".concat(s.btn, \"-cancel\"),\n                title: \"\".concat(s.popup, \"-title\"),\n                body: \"\".concat(s.popup, \"-body\"),\n                content: \"\".concat(s.popup, \"-content\"),\n                dotAnimation: \"\".concat(s.popup, \"-loading-dots\")\n            },\n            ids: {\n                wrapper: \"\".concat(s.popup, \"-wrapper\"),\n                confirmOk: \"\".concat(s.confirm, \"-ok\"),\n                confirmCancel: \"\".concat(s.confirm, \"-cancel\")\n            }\n        },\n        l = {\n            klass: {\n                hiding: \"\".concat(\"awn\", \"-hiding\")\n            },\n            lib: \"awn\"\n        };\n\n    function f(t, e) {\n        for (var n = 0; n < e.length; n++) {\n            var o = e[n];\n            o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)\n        }\n    }\n    var p = function() {\n        function t(e, n, o, i, r) {\n            ! function(t, e) {\n                if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\")\n            }(this, t), this.newNode = document.createElement(\"div\"), n && (this.newNode.id = n), o && (this.newNode.className = o), i && (this.newNode.style.cssText = i), this.parent = e, this.options = r\n        }\n        var e, n, o;\n        return e = t, (n = [{\n            key: \"beforeInsert\",\n            value: function() {}\n        }, {\n            key: \"afterInsert\",\n            value: function() {}\n        }, {\n            key: \"insert\",\n            value: function() {\n                return this.beforeInsert(), this.el = this.parent.appendChild(this.newNode), this.afterInsert(), this\n            }\n        }, {\n            key: \"replace\",\n            value: function(t) {\n                var e = this;\n                if (this.getElement()) return this.beforeDelete().then(function() {\n                    return e.updateType(t.type), e.parent.replaceChild(t.newNode, e.el), e.el = e.getElement(t.newNode), e.afterInsert(), e\n                })\n            }\n        }, {\n            key: \"beforeDelete\",\n            value: function() {\n                var t = this,\n                    e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.el,\n                    n = 0;\n                return this.start && (n = this.options.minDurations[this.type] + this.start - Date.now()) < 0 && (n = 0), new Promise(function(o) {\n                    setTimeout(function() {\n                        e.classList.add(l.klass.hiding), setTimeout(o, t.options.animationDuration)\n                    }, n)\n                })\n            }\n        }, {\n            key: \"delete\",\n            value: function() {\n                var t = this,\n                    e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.el;\n                return this.getElement(e) ? this.beforeDelete(e).then(function() {\n                    e.remove(), t.afterDelete()\n                }) : null\n            }\n        }, {\n            key: \"afterDelete\",\n            value: function() {}\n        }, {\n            key: \"getElement\",\n            value: function() {\n                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.el;\n                return document.getElementById(t.id)\n            }\n        }, {\n            key: \"addEvent\",\n            value: function(t, e) {\n                this.el.addEventListener(t, e)\n            }\n        }, {\n            key: \"toggleClass\",\n            value: function(t) {\n                this.el.classList.toggle(t)\n            }\n        }, {\n            key: \"updateType\",\n            value: function(t) {\n                this.type = t, this.duration = this.options.duration(this.type)\n            }\n        }]) && f(e.prototype, n), o && f(e, o), t\n    }();\n\n    function d(t, e) {\n        for (var n = 0; n < e.length; n++) {\n            var o = e[n];\n            o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)\n        }\n    }\n    var h = function() {\n        function t(e, n) {\n            ! function(t, e) {\n                if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\")\n            }(this, t), this.callback = e, this.remaining = n, this.resume()\n        }\n        var e, n, o;\n        return e = t, (n = [{\n            key: \"pause\",\n            value: function() {\n                this.paused = !0, window.clearTimeout(this.timerId), this.remaining -= new Date - this.start\n            }\n        }, {\n            key: \"resume\",\n            value: function() {\n                var t = this;\n                this.paused = !1, this.start = new Date, window.clearTimeout(this.timerId), this.timerId = window.setTimeout(function() {\n                    window.clearTimeout(t.timerId), t.callback()\n                }, this.remaining)\n            }\n        }, {\n            key: \"toggle\",\n            value: function() {\n                this.paused ? this.resume() : this.pause()\n            }\n        }]) && d(e.prototype, n), o && d(e, o), t\n    }();\n\n    function y(t) {\n        return (y = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(t) {\n            return typeof t\n        } : function(t) {\n            return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t\n        })(t)\n    }\n\n    function m(t, e) {\n        for (var n = 0; n < e.length; n++) {\n            var o = e[n];\n            o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)\n        }\n    }\n\n    function v(t, e) {\n        return !e || \"object\" !== y(e) && \"function\" != typeof e ? function(t) {\n            if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n            return t\n        }(t) : e\n    }\n\n    function b(t) {\n        return (b = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {\n            return t.__proto__ || Object.getPrototypeOf(t)\n        })(t)\n    }\n\n    function k(t, e) {\n        return (k = Object.setPrototypeOf || function(t, e) {\n            return t.__proto__ = e, t\n        })(t, e)\n    }\n    var g = function(t) {\n        function e(t, n, o, i) {\n            var r;\n            return function(t, e) {\n                if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\")\n            }(this, e), (r = v(this, b(e).call(this, i, \"\".concat(c.prefix, \"-\").concat(Math.floor(Date.now() - 100 * Math.random())), \"\".concat(c.prefix, \" \").concat(c.prefix, \"-\").concat(n), \"animation-duration: \".concat(o.toSecs(o.animationDuration), \";\"), o))).updateType(n), r.setInnerHtml(t), r\n        }\n        var n, o, i;\n        return function(t, e) {\n            if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n            t.prototype = Object.create(e && e.prototype, {\n                constructor: {\n                    value: t,\n                    writable: !0,\n                    configurable: !0\n                }\n            }), e && k(t, e)\n        }(e, p), n = e, (o = [{\n            key: \"setInnerHtml\",\n            value: function(t) {\n                \"alert\" === this.type && t && (t = this.options.formatError(t)), t = this.options.applyReplacements(t, this.type), this.newNode.innerHTML = '<div class=\"awn-toast-wrapper\">'.concat(this.progressBar).concat(this.label, '<div class=\"').concat(c.klass.content, '\">').concat(t, '</div><span class=\"').concat(c.klass.icon, '\">').concat(this.options.icon(this.type), \"</span></div>\")\n            }\n        }, {\n            key: \"beforeInsert\",\n            value: function() {\n                var t = this;\n                if (this.parent.childElementCount >= this.options.maxNotifications) {\n                    var e = Array.from(this.parent.getElementsByClassName(c.prefix));\n                    this.delete(e.find(function(e) {\n                        return !t.isDeleted(e)\n                    }))\n                }\n            }\n        }, {\n            key: \"afterInsert\",\n            value: function() {\n                var t = this;\n                if (\"async\" == this.type) return this.start = Date.now();\n                if (this.addEvent(\"click\", function() {\n                        return t.delete()\n                    }), !(this.duration <= 0)) {\n                    this.timer = new h(function() {\n                        return t.delete()\n                    }, this.duration);\n                    for (var e = 0, n = [\"mouseenter\", \"mouseleave\"]; e < n.length; e++) {\n                        var o = n[e];\n                        this.addEvent(o, function() {\n                            t.isDeleted() || (t.toggleClass(c.klass.progressBarPause), t.timer.toggle())\n                        })\n                    }\n                }\n            }\n        }, {\n            key: \"isDeleted\",\n            value: function() {\n                return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.el).classList.contains(l.klass.hiding)\n            }\n        }, {\n            key: \"progressBar\",\n            get: function() {\n                return this.duration <= 0 || \"async\" === this.type ? \"\" : \"<div class='\".concat(c.klass.progressBar, \"' style=\\\"animation-duration:\").concat(this.options.toSecs(this.duration), ';\"></div>')\n            }\n        }, {\n            key: \"label\",\n            get: function() {\n                return '<b class=\"'.concat(c.klass.label, '\">').concat(this.options.label(this.type), \"</b>\")\n            }\n        }]) && m(n.prototype, o), i && m(n, i), e\n    }();\n\n    function w(t) {\n        return (w = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(t) {\n            return typeof t\n        } : function(t) {\n            return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t\n        })(t)\n    }\n\n    function O(t, e) {\n        for (var n = 0; n < e.length; n++) {\n            var o = e[n];\n            o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)\n        }\n    }\n\n    function _(t, e) {\n        return !e || \"object\" !== w(e) && \"function\" != typeof e ? function(t) {\n            if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n            return t\n        }(t) : e\n    }\n\n    function T(t) {\n        return (T = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {\n            return t.__proto__ || Object.getPrototypeOf(t)\n        })(t)\n    }\n\n    function E(t, e) {\n        return (E = Object.setPrototypeOf || function(t, e) {\n            return t.__proto__ = e, t\n        })(t, e)\n    }\n    var S = function(t) {\n        function e(t) {\n            var n, o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"modal\",\n                i = arguments.length > 2 ? arguments[2] : void 0,\n                r = arguments.length > 3 ? arguments[3] : void 0,\n                a = arguments.length > 4 ? arguments[4] : void 0;\n            ! function(t, e) {\n                if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\")\n            }(this, e);\n            var s = \"animation-duration: \".concat(i.toSecs(i.animationDuration), \";\");\n            return (n = _(this, T(e).call(this, document.body, u.ids.wrapper, null, s, i)))[u.ids.confirmOk] = r, n[u.ids.confirmCancel] = a, n.className = \"\".concat(u.prefix, \"-\").concat(o), [\"confirm\", \"async-block\", \"modal\"].includes(o) || (o = \"modal\"), n.updateType(o), n.setInnerHtml(t), n.insert(), n\n        }\n        var n, o, i;\n        return function(t, e) {\n            if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n            t.prototype = Object.create(e && e.prototype, {\n                constructor: {\n                    value: t,\n                    writable: !0,\n                    configurable: !0\n                }\n            }), e && E(t, e)\n        }(e, p), n = e, (o = [{\n            key: \"setInnerHtml\",\n            value: function(t) {\n                var e = this.options.applyReplacements(t, this.type);\n                switch (this.type) {\n                    case \"confirm\":\n                        var n = [\"<button class='\".concat(u.klass.button, \" \").concat(u.klass.successBtn, \"'id='\").concat(u.ids.confirmOk, \"'>\").concat(this.options.labels.confirmOk, \"</button>\")];\n                        !1 !== this[u.ids.confirmCancel] && n.push(\"<button class='\".concat(u.klass.button, \" \").concat(u.klass.cancelBtn, \"'id='\").concat(u.ids.confirmCancel, \"'>\").concat(this.options.labels.confirmCancel, \"</button>\")), e = \"\".concat(this.options.icon(this.type), \"<div class='\").concat(u.klass.title, \"'>\").concat(this.options.label(this.type), '</div><div class=\"').concat(u.klass.content, '\">').concat(e, \"</div><div class='\").concat(u.klass.buttons, \" \").concat(u.klass.buttons, \"-\").concat(n.length, \"'>\").concat(n.join(\"\"), \"</div>\");\n                        break;\n                    case \"async-block\":\n                        e = \"\".concat(e, '<div class=\"').concat(u.klass.dotAnimation, '\"></div>')\n                }\n                this.newNode.innerHTML = '<div class=\"'.concat(u.klass.body, \" \").concat(this.className, '\">').concat(e, \"</div>\")\n            }\n        }, {\n            key: \"keyupListener\",\n            value: function(t) {\n                if (\"async-block\" === this.type) return t.preventDefault();\n                switch (t.code) {\n                    case \"Escape\":\n                        t.preventDefault(), this.delete();\n                    case \"Tab\":\n                        if (t.preventDefault(), \"confirm\" !== this.type || !1 === this[u.ids.confirmCancel]) return !0;\n                        var e = this.okBtn;\n                        t.shiftKey ? document.activeElement.id == u.ids.confirmOk && (e = this.cancelBtn) : document.activeElement.id !== u.ids.confirmCancel && (e = this.cancelBtn), e.focus()\n                }\n            }\n        }, {\n            key: \"afterInsert\",\n            value: function() {\n                var t = this;\n                switch (this.listener = function(e) {\n                    return t.keyupListener(e)\n                }, window.addEventListener(\"keydown\", this.listener), this.type) {\n                    case \"async-block\":\n                        this.start = Date.now();\n                        break;\n                    case \"confirm\":\n                        this.okBtn.focus(), this.addEvent(\"click\", function(e) {\n                            if (\"BUTTON\" !== e.target.nodeName) return !1;\n                            t.delete(), t[e.target.id] && t[e.target.id]()\n                        });\n                        break;\n                    default:\n                        document.activeElement.blur(), this.addEvent(\"click\", function(e) {\n                            e.target.id === t.newNode.id && t.delete()\n                        })\n                }\n            }\n        }, {\n            key: \"afterDelete\",\n            value: function() {\n                window.removeEventListener(\"keydown\", this.listener)\n            }\n        }, {\n            key: \"okBtn\",\n            get: function() {\n                return document.getElementById(u.ids.confirmOk)\n            }\n        }, {\n            key: \"cancelBtn\",\n            get: function() {\n                return document.getElementById(u.ids.confirmCancel)\n            }\n        }]) && O(n.prototype, o), i && O(n, i), e\n    }();\n\n    function j(t) {\n        return (j = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(t) {\n            return typeof t\n        } : function(t) {\n            return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t\n        })(t)\n    }\n\n    function C(t, e) {\n        for (var n = 0; n < e.length; n++) {\n            var o = e[n];\n            o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)\n        }\n    }\n    n.d(e, \"default\", function() {\n        return P\n    });\n    var P = function() {\n        function t() {\n            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n            ! function(t, e) {\n                if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\")\n            }(this, t), this.options = new a(e)\n        }\n        var e, n, o;\n        return e = t, (n = [{\n            key: \"tip\",\n            value: function(t, e) {\n                return this._addToast(t, \"tip\", e).el\n            }\n        }, {\n            key: \"info\",\n            value: function(t, e) {\n                return this._addToast(t, \"info\", e).el\n            }\n        }, {\n            key: \"success\",\n            value: function(t, e) {\n                return this._addToast(t, \"success\", e).el\n            }\n        }, {\n            key: \"warning\",\n            value: function(t, e) {\n                return this._addToast(t, \"warning\", e).el\n            }\n        }, {\n            key: \"alert\",\n            value: function(t, e) {\n                return this._addToast(t, \"alert\", e).el\n            }\n        }, {\n            key: \"async\",\n            value: function(t, e, n, o, i) {\n                var r = this._addToast(o, \"async\", i);\n                return this._afterAsync(t, e, n, i, r)\n            }\n        }, {\n            key: \"confirm\",\n            value: function(t, e, n, o) {\n                return this._addPopup(t, \"confirm\", o, e, n)\n            }\n        }, {\n            key: \"asyncBlock\",\n            value: function(t, e, n, o, i) {\n                var r = this._addPopup(o, \"async-block\", i);\n                return this._afterAsync(t, e, n, i, r)\n            }\n        }, {\n            key: \"modal\",\n            value: function(t, e, n) {\n                return this._addPopup(t, e, n)\n            }\n        }, {\n            key: \"closeToasts\",\n            value: function() {\n                for (var t = this.container; t.firstChild;) t.removeChild(t.firstChild)\n            }\n        }, {\n            key: \"_addPopup\",\n            value: function(t, e, n, o, i) {\n                return new S(t, e, this.options.override(n), o, i)\n            }\n        }, {\n            key: \"_addToast\",\n            value: function(t, e, n, o) {\n                n = this.options.override(n);\n                var i = new g(t, e, n, this.container);\n                return o ? o instanceof S ? o.delete().then(function() {\n                    return i.insert()\n                }) : o.replace(i) : i.insert()\n            }\n        }, {\n            key: \"_afterAsync\",\n            value: function(t, e, n, o, i) {\n                return t.then(this._responseHandler(e, \"success\", o, i), this._responseHandler(n, \"alert\", o, i))\n            }\n        }, {\n            key: \"_responseHandler\",\n            value: function(t, e, n, o) {\n                var i = this;\n                return function(r) {\n                    switch (j(t)) {\n                        case \"undefined\":\n                        case \"string\":\n                            var a = \"alert\" === e ? t || r : t;\n                            i._addToast(a, e, n, o);\n                            break;\n                        default:\n                            o.delete().then(function() {\n                                t && t(r)\n                            })\n                    }\n                }\n            }\n        }, {\n            key: \"_createContainer\",\n            value: function() {\n                return new p(document.body, c.ids.container, \"awn-\".concat(this.options.position)).insert().el\n            }\n        }, {\n            key: \"container\",\n            get: function() {\n                return document.getElementById(c.ids.container) || this._createContainer()\n            }\n        }]) && C(e.prototype, n), o && C(e, o), t\n    }()\n}]);",
    "static": true,
    "longname": "E:/rgnjs/js/lib/index.var.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 188,
    "kind": "variable",
    "name": "AWN",
    "memberof": "js/lib/index.var.js",
    "static": true,
    "longname": "js/lib/index.var.js~AWN",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/lib/index.var.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "ignore": true
  },
  {
    "__docId__": 189,
    "kind": "file",
    "name": "js/lib/rgn/Camera.js",
    "content": "export class Camera {\r\n    cameraView = {\r\n        Back: 1,\r\n        SideLeft: 2,\r\n        SideRight: 3,\r\n        Near: 4,\r\n        Far: 5,\r\n        Driver: 6,\r\n        Front: 7,\r\n        Bumper: 8,\r\n        Hood: 9\r\n    }\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/lib/rgn/Camera.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 190,
    "kind": "class",
    "name": "Camera",
    "memberof": "js/lib/rgn/Camera.js",
    "static": true,
    "longname": "js/lib/rgn/Camera.js~Camera",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/lib/rgn/Camera.js",
    "importStyle": "{Camera}",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 191,
    "kind": "member",
    "name": "cameraView",
    "memberof": "js/lib/rgn/Camera.js~Camera",
    "static": false,
    "longname": "js/lib/rgn/Camera.js~Camera#cameraView",
    "access": "public",
    "description": null,
    "lineNumber": 2,
    "undocument": true
  },
  {
    "__docId__": 192,
    "kind": "file",
    "name": "js/lib/rgn/Car.js",
    "content": "import {\r\n    Differential\r\n} from './CarParts/Differential.js';\r\nimport {\r\n    Clutch\r\n} from './CarParts/Clutch.js';\r\nimport {\r\n    Gearbox\r\n} from './CarParts/Gearbox.js';\r\nimport {\r\n    Suspension\r\n} from './CarParts/Suspension.js';\r\n\r\nimport {\r\n    Maths\r\n} from './Maths.js';\r\n\r\nexport class Car {\r\n\r\n    differential = new Differential();\r\n    clutch = new Clutch();\r\n    gearbox = new Gearbox();\r\n    suspension = new Suspension();\r\n\r\n    distance = 0;\r\n    speed = 0;\r\n    topSpeed = 0;\r\n    handling = 0;\r\n    make = \"\";\r\n    model = \"\";\r\n    color = \"\";\r\n    description = \"\";\r\n    hp = 0;\r\n    weight = 0;\r\n    wheelBase = 0.0;\r\n    rearTrack = 0.0;\r\n    turnRadius = 0.0;\r\n    wheelRadius = 0.0;\r\n    RPM = 0;\r\n    isLocked = true;\r\n    isWon = false;\r\n    isUsed = false;\r\n    AImode = false;\r\n    fuelConsumption = 0.0;\r\n    tireExploit = 0.0;\r\n\r\n    // car related types\r\n    driveType = {\r\n        Awd: 1,\r\n        Fwd: 2,\r\n        Rwd: 3\r\n    };\r\n\r\n    transmissionType = {\r\n        MT: 1,\r\n        AT: 2\r\n\r\n    };\r\n\r\n    carType = {\r\n        Sports: 1,\r\n        Racecar: 2,\r\n        Supercar: 3,\r\n        Drift: 4,\r\n        Drag: 5,\r\n        Rally: 6,\r\n        Concept: 7,\r\n        Hypercar: 8,\r\n        Tuned: 9\r\n    };\r\n\r\n    racingType = {\r\n        GTR: 1,\r\n        F1: 2,\r\n        Touring: 3\r\n    };\r\n\r\n    tireType = {\r\n        Sport: 1,\r\n        SemiSlick: 2,\r\n        Slick: 3,\r\n        Supersoft: 4,\r\n        Soft: 5,\r\n        Medium: 6,\r\n        Hard: 7,\r\n        Dry: 8,\r\n        Wet: 9,\r\n        Street: 10,\r\n        Rally: 11,\r\n        Dirt: 12,\r\n        Snow: 13,\r\n        Summer: 14\r\n    };\r\n\r\n    paint = {\r\n        Matte: 1,\r\n        Chrome: 2,\r\n        Metallic: 3,\r\n        Pearl: 4,\r\n        Solid: 5\r\n    };\r\n\r\n    safetySystems = {\r\n        ABS: 1,\r\n        ESP: 2,\r\n        TCS: 3,\r\n        ESC: 4,\r\n        ASR: 5\r\n    };\r\n\r\n    price = {\r\n        Usd: 1,\r\n        Eur: 2\r\n    };\r\n\r\n    wheels = {\r\n        // front\r\n        FR: 1,\r\n\r\n        FL: 2,\r\n\r\n        // rear\r\n        RL: 3,\r\n\r\n        RR: 4\r\n    };\r\n\r\n    wheelColliders = {\r\n        // front\r\n        ColFR: 1,\r\n\r\n        ColFL: 2,\r\n\r\n        // rear\r\n        ColRL: 3,\r\n\r\n        ColRR: 4\r\n    }\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    /**\r\n     @summary left angle of ackermann steering in degrees\r\n     params in metres\r\n     @param  rearTrack\r\n     @param wheelBase\r\n    @param turnRadius\r\n    \r\n    @returns angle\r\n   */\r\n    static ackermannLeft(rearTrack, wheelBase, turnRadius) {\r\n        let left = Math.atan(wheelBase / (turnRadius + rearTrack / 2));\r\n        return Maths.radToDeg(left);\r\n    }\r\n\r\n    /**\r\n    @summary right angle of ackermann steering in degrees\r\n    \r\n    @param rearTrack\r\n    @param wheelBase\r\n    @param turnRadius\r\n     @returns angle\r\n    */\r\n    static ackermannRight(rearTrack, wheelBase, turnRadius) {\r\n        let right = Math.atan(wheelBase / (turnRadius - rearTrack / 2));\r\n        return Maths.radToDeg(right);\r\n    }\r\n\r\n    /**  @summary Meters per second to kmh.\r\n    \r\n     @param speed\r\n    @returns speed in kmh\r\n    */\r\n    static mpsToKmh(speed) {\r\n        return Math.round(speed * 3.6);\r\n    }\r\n\r\n    /**  @summary Meters to km.\r\n    \r\n    @param distance\r\n    @returns The km.\r\n    */\r\n    static mToKm(distance) {\r\n        return distance / 1000;\r\n    }\r\n\r\n    /**  @summary    Kmh to mph\r\n    \r\n     @param speed\r\n    @returns speed in mph\r\n    */\r\n    static kmhToMph(speed) {\r\n        return Math.round(speed / 1.61);\r\n    }\r\n\r\n    /**  @summary Mph to kmh\r\n    \r\n     @param speed\r\n    @returns speed in kmh\r\n    */\r\n    static mphToKmh(speed) {\r\n        return Math.round(speed * 1.61);\r\n    }\r\n\r\n    accelerate(engineForce) {\r\n        //  rb.AddForce(engineForce);\r\n    }\r\n\r\n    brake(brakeForce) {\r\n        //   rb.AddForce(brakeForce);\r\n    }\r\n\r\n    steerLeft(torque) {\r\n        //   rb.AddTorque(torque * -1);\r\n    }\r\n\r\n    steerRight(torque) {\r\n        //   rb.AddTorque(torque);\r\n    }\r\n\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/lib/rgn/Car.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 193,
    "kind": "class",
    "name": "Car",
    "memberof": "js/lib/rgn/Car.js",
    "static": true,
    "longname": "js/lib/rgn/Car.js~Car",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/lib/rgn/Car.js",
    "importStyle": "{Car}",
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 194,
    "kind": "member",
    "name": "differential",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#differential",
    "access": "public",
    "description": null,
    "lineNumber": 20,
    "undocument": true
  },
  {
    "__docId__": 195,
    "kind": "member",
    "name": "clutch",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#clutch",
    "access": "public",
    "description": null,
    "lineNumber": 21,
    "undocument": true
  },
  {
    "__docId__": 196,
    "kind": "member",
    "name": "gearbox",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#gearbox",
    "access": "public",
    "description": null,
    "lineNumber": 22,
    "undocument": true
  },
  {
    "__docId__": 197,
    "kind": "member",
    "name": "suspension",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#suspension",
    "access": "public",
    "description": null,
    "lineNumber": 23,
    "undocument": true
  },
  {
    "__docId__": 198,
    "kind": "member",
    "name": "distance",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#distance",
    "access": "public",
    "description": null,
    "lineNumber": 25,
    "undocument": true
  },
  {
    "__docId__": 199,
    "kind": "member",
    "name": "speed",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#speed",
    "access": "public",
    "description": null,
    "lineNumber": 26,
    "undocument": true
  },
  {
    "__docId__": 200,
    "kind": "member",
    "name": "topSpeed",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#topSpeed",
    "access": "public",
    "description": null,
    "lineNumber": 27,
    "undocument": true
  },
  {
    "__docId__": 201,
    "kind": "member",
    "name": "handling",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#handling",
    "access": "public",
    "description": null,
    "lineNumber": 28,
    "undocument": true
  },
  {
    "__docId__": 202,
    "kind": "member",
    "name": "make",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#make",
    "access": "public",
    "description": null,
    "lineNumber": 29,
    "undocument": true
  },
  {
    "__docId__": 203,
    "kind": "member",
    "name": "model",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#model",
    "access": "public",
    "description": null,
    "lineNumber": 30,
    "undocument": true
  },
  {
    "__docId__": 204,
    "kind": "member",
    "name": "color",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#color",
    "access": "public",
    "description": null,
    "lineNumber": 31,
    "undocument": true
  },
  {
    "__docId__": 205,
    "kind": "member",
    "name": "description",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#description",
    "access": "public",
    "description": null,
    "lineNumber": 32,
    "undocument": true
  },
  {
    "__docId__": 206,
    "kind": "member",
    "name": "hp",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#hp",
    "access": "public",
    "description": null,
    "lineNumber": 33,
    "undocument": true
  },
  {
    "__docId__": 207,
    "kind": "member",
    "name": "weight",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#weight",
    "access": "public",
    "description": null,
    "lineNumber": 34,
    "undocument": true
  },
  {
    "__docId__": 208,
    "kind": "member",
    "name": "wheelBase",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#wheelBase",
    "access": "public",
    "description": null,
    "lineNumber": 35,
    "undocument": true
  },
  {
    "__docId__": 209,
    "kind": "member",
    "name": "rearTrack",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#rearTrack",
    "access": "public",
    "description": null,
    "lineNumber": 36,
    "undocument": true
  },
  {
    "__docId__": 210,
    "kind": "member",
    "name": "turnRadius",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#turnRadius",
    "access": "public",
    "description": null,
    "lineNumber": 37,
    "undocument": true
  },
  {
    "__docId__": 211,
    "kind": "member",
    "name": "wheelRadius",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#wheelRadius",
    "access": "public",
    "description": null,
    "lineNumber": 38,
    "undocument": true
  },
  {
    "__docId__": 212,
    "kind": "member",
    "name": "RPM",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#RPM",
    "access": "public",
    "description": null,
    "lineNumber": 39,
    "undocument": true
  },
  {
    "__docId__": 213,
    "kind": "member",
    "name": "isLocked",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#isLocked",
    "access": "public",
    "description": null,
    "lineNumber": 40,
    "undocument": true
  },
  {
    "__docId__": 214,
    "kind": "member",
    "name": "isWon",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#isWon",
    "access": "public",
    "description": null,
    "lineNumber": 41,
    "undocument": true
  },
  {
    "__docId__": 215,
    "kind": "member",
    "name": "isUsed",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#isUsed",
    "access": "public",
    "description": null,
    "lineNumber": 42,
    "undocument": true
  },
  {
    "__docId__": 216,
    "kind": "member",
    "name": "AImode",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#AImode",
    "access": "public",
    "description": null,
    "lineNumber": 43,
    "undocument": true
  },
  {
    "__docId__": 217,
    "kind": "member",
    "name": "fuelConsumption",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#fuelConsumption",
    "access": "public",
    "description": null,
    "lineNumber": 44,
    "undocument": true
  },
  {
    "__docId__": 218,
    "kind": "member",
    "name": "tireExploit",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#tireExploit",
    "access": "public",
    "description": null,
    "lineNumber": 45,
    "undocument": true
  },
  {
    "__docId__": 219,
    "kind": "member",
    "name": "driveType",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#driveType",
    "access": "public",
    "description": null,
    "lineNumber": 48,
    "undocument": true
  },
  {
    "__docId__": 220,
    "kind": "member",
    "name": "transmissionType",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#transmissionType",
    "access": "public",
    "description": null,
    "lineNumber": 54,
    "undocument": true
  },
  {
    "__docId__": 221,
    "kind": "member",
    "name": "carType",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#carType",
    "access": "public",
    "description": null,
    "lineNumber": 60,
    "undocument": true
  },
  {
    "__docId__": 222,
    "kind": "member",
    "name": "racingType",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#racingType",
    "access": "public",
    "description": null,
    "lineNumber": 72,
    "undocument": true
  },
  {
    "__docId__": 223,
    "kind": "member",
    "name": "tireType",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#tireType",
    "access": "public",
    "description": null,
    "lineNumber": 78,
    "undocument": true
  },
  {
    "__docId__": 224,
    "kind": "member",
    "name": "paint",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#paint",
    "access": "public",
    "description": null,
    "lineNumber": 95,
    "undocument": true
  },
  {
    "__docId__": 225,
    "kind": "member",
    "name": "safetySystems",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#safetySystems",
    "access": "public",
    "description": null,
    "lineNumber": 103,
    "undocument": true
  },
  {
    "__docId__": 226,
    "kind": "member",
    "name": "price",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#price",
    "access": "public",
    "description": null,
    "lineNumber": 111,
    "undocument": true
  },
  {
    "__docId__": 227,
    "kind": "member",
    "name": "wheels",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#wheels",
    "access": "public",
    "description": null,
    "lineNumber": 116,
    "undocument": true
  },
  {
    "__docId__": 228,
    "kind": "member",
    "name": "wheelColliders",
    "memberof": "js/lib/rgn/Car.js~Car",
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#wheelColliders",
    "access": "public",
    "description": null,
    "lineNumber": 128,
    "undocument": true
  },
  {
    "__docId__": 229,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "js/lib/rgn/Car.js~Car",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 140,
    "undocument": true
  },
  {
    "__docId__": 230,
    "kind": "method",
    "name": "ackermannLeft",
    "memberof": "js/lib/rgn/Car.js~Car",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/lib/rgn/Car.js~Car.ackermannLeft",
    "access": "public",
    "description": "",
    "lineNumber": 153,
    "unknown": [
      {
        "tagName": "@summary",
        "tagValue": "left angle of ackermann steering in degrees\nparams in metres"
      },
      {
        "tagName": "@returns",
        "tagValue": "angle"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "rearTrack",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "wheelBase",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "turnRadius",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "angle"
    }
  },
  {
    "__docId__": 231,
    "kind": "method",
    "name": "ackermannRight",
    "memberof": "js/lib/rgn/Car.js~Car",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/lib/rgn/Car.js~Car.ackermannRight",
    "access": "public",
    "description": "",
    "lineNumber": 166,
    "unknown": [
      {
        "tagName": "@summary",
        "tagValue": "right angle of ackermann steering in degrees"
      },
      {
        "tagName": "@returns",
        "tagValue": "angle"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "rearTrack",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "wheelBase",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "turnRadius",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "angle"
    }
  },
  {
    "__docId__": 232,
    "kind": "method",
    "name": "mpsToKmh",
    "memberof": "js/lib/rgn/Car.js~Car",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/lib/rgn/Car.js~Car.mpsToKmh",
    "access": "public",
    "description": " @summary Meters per second to kmh.",
    "lineNumber": 176,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "speed in kmh"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "speed",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "speed in kmh"
    }
  },
  {
    "__docId__": 233,
    "kind": "method",
    "name": "mToKm",
    "memberof": "js/lib/rgn/Car.js~Car",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/lib/rgn/Car.js~Car.mToKm",
    "access": "public",
    "description": " @summary Meters to km.",
    "lineNumber": 185,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "The km."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "distance",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "The km."
    }
  },
  {
    "__docId__": 234,
    "kind": "method",
    "name": "kmhToMph",
    "memberof": "js/lib/rgn/Car.js~Car",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/lib/rgn/Car.js~Car.kmhToMph",
    "access": "public",
    "description": " @summary    Kmh to mph",
    "lineNumber": 194,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "speed in mph"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "speed",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "speed in mph"
    }
  },
  {
    "__docId__": 235,
    "kind": "method",
    "name": "mphToKmh",
    "memberof": "js/lib/rgn/Car.js~Car",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/lib/rgn/Car.js~Car.mphToKmh",
    "access": "public",
    "description": " @summary Mph to kmh",
    "lineNumber": 203,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "speed in kmh"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "speed",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "speed in kmh"
    }
  },
  {
    "__docId__": 236,
    "kind": "method",
    "name": "accelerate",
    "memberof": "js/lib/rgn/Car.js~Car",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#accelerate",
    "access": "public",
    "description": null,
    "lineNumber": 207,
    "undocument": true
  },
  {
    "__docId__": 237,
    "kind": "method",
    "name": "brake",
    "memberof": "js/lib/rgn/Car.js~Car",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#brake",
    "access": "public",
    "description": null,
    "lineNumber": 211,
    "undocument": true
  },
  {
    "__docId__": 238,
    "kind": "method",
    "name": "steerLeft",
    "memberof": "js/lib/rgn/Car.js~Car",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#steerLeft",
    "access": "public",
    "description": null,
    "lineNumber": 215,
    "undocument": true
  },
  {
    "__docId__": 239,
    "kind": "method",
    "name": "steerRight",
    "memberof": "js/lib/rgn/Car.js~Car",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "js/lib/rgn/Car.js~Car#steerRight",
    "access": "public",
    "description": null,
    "lineNumber": 219,
    "undocument": true
  },
  {
    "__docId__": 240,
    "kind": "file",
    "name": "js/lib/rgn/CarParts/Clutch.js",
    "content": "export class Clutch {}",
    "static": true,
    "longname": "E:/rgnjs/js/lib/rgn/CarParts/Clutch.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 241,
    "kind": "class",
    "name": "Clutch",
    "memberof": "js/lib/rgn/CarParts/Clutch.js",
    "static": true,
    "longname": "js/lib/rgn/CarParts/Clutch.js~Clutch",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/lib/rgn/CarParts/Clutch.js",
    "importStyle": "{Clutch}",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 242,
    "kind": "file",
    "name": "js/lib/rgn/CarParts/Differential.js",
    "content": "export class Differential {\r\n    type = {\r\n        ClutchPack: 1,\r\n        Locked: 2, // drift\r\n        Open: 3,\r\n        TorqueBias: 4,\r\n        Viscous: 5\r\n    };\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/lib/rgn/CarParts/Differential.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 243,
    "kind": "class",
    "name": "Differential",
    "memberof": "js/lib/rgn/CarParts/Differential.js",
    "static": true,
    "longname": "js/lib/rgn/CarParts/Differential.js~Differential",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/lib/rgn/CarParts/Differential.js",
    "importStyle": "{Differential}",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 244,
    "kind": "member",
    "name": "type",
    "memberof": "js/lib/rgn/CarParts/Differential.js~Differential",
    "static": false,
    "longname": "js/lib/rgn/CarParts/Differential.js~Differential#type",
    "access": "public",
    "description": null,
    "lineNumber": 2,
    "undocument": true
  },
  {
    "__docId__": 245,
    "kind": "file",
    "name": "js/lib/rgn/CarParts/Gearbox.js",
    "content": "export class Gearbox {\r\n    ATMode = {\r\n        M: 1,\r\n        P: 2,\r\n        R: 3,\r\n        N: 4,\r\n        D: 5,\r\n        L: 6\r\n    }\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/lib/rgn/CarParts/Gearbox.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 246,
    "kind": "class",
    "name": "Gearbox",
    "memberof": "js/lib/rgn/CarParts/Gearbox.js",
    "static": true,
    "longname": "js/lib/rgn/CarParts/Gearbox.js~Gearbox",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/lib/rgn/CarParts/Gearbox.js",
    "importStyle": "{Gearbox}",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 247,
    "kind": "member",
    "name": "ATMode",
    "memberof": "js/lib/rgn/CarParts/Gearbox.js~Gearbox",
    "static": false,
    "longname": "js/lib/rgn/CarParts/Gearbox.js~Gearbox#ATMode",
    "access": "public",
    "description": null,
    "lineNumber": 2,
    "undocument": true
  },
  {
    "__docId__": 248,
    "kind": "file",
    "name": "js/lib/rgn/CarParts/Suspension.js",
    "content": "export class Suspension {\r\n    distance = 0.0;\r\n    spring = new Spring();\r\n\r\n    static springRate(mass, distance, noOfWheels = 4) {\r\n        return Math.round(mass / noOfWheels * 2 * 9.81 / distance);\r\n    }\r\n\r\n    compressionDistance(weight, gravity, springRate) {\r\n        return Math.round(weight * gravity / springRate);\r\n    }\r\n\r\n    force(springRate, compressionDistance, damper, contactSpeed) {\r\n        return Math.round(springRate * compressionDistance + damper * contactSpeed);\r\n    }\r\n}\r\n\r\nclass Spring {\r\n    springForce = 0;\r\n    damper = 0;\r\n    targetPos = .5;\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/lib/rgn/CarParts/Suspension.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 249,
    "kind": "class",
    "name": "Suspension",
    "memberof": "js/lib/rgn/CarParts/Suspension.js",
    "static": true,
    "longname": "js/lib/rgn/CarParts/Suspension.js~Suspension",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/lib/rgn/CarParts/Suspension.js",
    "importStyle": "{Suspension}",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 250,
    "kind": "member",
    "name": "distance",
    "memberof": "js/lib/rgn/CarParts/Suspension.js~Suspension",
    "static": false,
    "longname": "js/lib/rgn/CarParts/Suspension.js~Suspension#distance",
    "access": "public",
    "description": null,
    "lineNumber": 2,
    "undocument": true
  },
  {
    "__docId__": 251,
    "kind": "member",
    "name": "spring",
    "memberof": "js/lib/rgn/CarParts/Suspension.js~Suspension",
    "static": false,
    "longname": "js/lib/rgn/CarParts/Suspension.js~Suspension#spring",
    "access": "public",
    "description": null,
    "lineNumber": 3,
    "undocument": true
  },
  {
    "__docId__": 252,
    "kind": "method",
    "name": "springRate",
    "memberof": "js/lib/rgn/CarParts/Suspension.js~Suspension",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/lib/rgn/CarParts/Suspension.js~Suspension.springRate",
    "access": "public",
    "description": null,
    "lineNumber": 5,
    "undocument": true
  },
  {
    "__docId__": 253,
    "kind": "method",
    "name": "compressionDistance",
    "memberof": "js/lib/rgn/CarParts/Suspension.js~Suspension",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "js/lib/rgn/CarParts/Suspension.js~Suspension#compressionDistance",
    "access": "public",
    "description": null,
    "lineNumber": 9,
    "undocument": true
  },
  {
    "__docId__": 254,
    "kind": "method",
    "name": "force",
    "memberof": "js/lib/rgn/CarParts/Suspension.js~Suspension",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "js/lib/rgn/CarParts/Suspension.js~Suspension#force",
    "access": "public",
    "description": null,
    "lineNumber": 13,
    "undocument": true
  },
  {
    "__docId__": 255,
    "kind": "class",
    "name": "Spring",
    "memberof": "js/lib/rgn/CarParts/Suspension.js",
    "static": true,
    "longname": "js/lib/rgn/CarParts/Suspension.js~Spring",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/lib/rgn/CarParts/Suspension.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "interface": false,
    "ignore": true
  },
  {
    "__docId__": 256,
    "kind": "member",
    "name": "springForce",
    "memberof": "js/lib/rgn/CarParts/Suspension.js~Spring",
    "static": false,
    "longname": "js/lib/rgn/CarParts/Suspension.js~Spring#springForce",
    "access": "public",
    "description": null,
    "lineNumber": 19,
    "undocument": true
  },
  {
    "__docId__": 257,
    "kind": "member",
    "name": "damper",
    "memberof": "js/lib/rgn/CarParts/Suspension.js~Spring",
    "static": false,
    "longname": "js/lib/rgn/CarParts/Suspension.js~Spring#damper",
    "access": "public",
    "description": null,
    "lineNumber": 20,
    "undocument": true
  },
  {
    "__docId__": 258,
    "kind": "member",
    "name": "targetPos",
    "memberof": "js/lib/rgn/CarParts/Suspension.js~Spring",
    "static": false,
    "longname": "js/lib/rgn/CarParts/Suspension.js~Spring#targetPos",
    "access": "public",
    "description": null,
    "lineNumber": 21,
    "undocument": true
  },
  {
    "__docId__": 259,
    "kind": "file",
    "name": "js/lib/rgn/Driver.js",
    "content": "export class Driver {\r\n    name = \"\";\r\n    level = 0;\r\n    exp = 0;\r\n\r\n}",
    "static": true,
    "longname": "E:/rgnjs/js/lib/rgn/Driver.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 260,
    "kind": "class",
    "name": "Driver",
    "memberof": "js/lib/rgn/Driver.js",
    "static": true,
    "longname": "js/lib/rgn/Driver.js~Driver",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/lib/rgn/Driver.js",
    "importStyle": "{Driver}",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 261,
    "kind": "member",
    "name": "name",
    "memberof": "js/lib/rgn/Driver.js~Driver",
    "static": false,
    "longname": "js/lib/rgn/Driver.js~Driver#name",
    "access": "public",
    "description": null,
    "lineNumber": 2,
    "undocument": true
  },
  {
    "__docId__": 262,
    "kind": "member",
    "name": "level",
    "memberof": "js/lib/rgn/Driver.js~Driver",
    "static": false,
    "longname": "js/lib/rgn/Driver.js~Driver#level",
    "access": "public",
    "description": null,
    "lineNumber": 3,
    "undocument": true
  },
  {
    "__docId__": 263,
    "kind": "member",
    "name": "exp",
    "memberof": "js/lib/rgn/Driver.js~Driver",
    "static": false,
    "longname": "js/lib/rgn/Driver.js~Driver#exp",
    "access": "public",
    "description": null,
    "lineNumber": 4,
    "undocument": true
  },
  {
    "__docId__": 264,
    "kind": "file",
    "name": "js/lib/rgn/Maths.js",
    "content": "export class Maths {\n    /**  @summary convert radians to degrees\n    \n    @param angle\n    @returns converted angle\n    */\n    static radToDeg(angle) {\n        return angle * (180.0 / Math.PI);\n    }\n\n    /**  @summary Gets random item from array.\n    \n     @param array\n    @returns The item.\n    */\n    static randomItem(array) {\n        const max = array.length;\n        let index = ~~(Math.random() * max);\n\n        let item = array[index];\n        return item;\n    }\n}",
    "static": true,
    "longname": "E:/rgnjs/js/lib/rgn/Maths.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 265,
    "kind": "class",
    "name": "Maths",
    "memberof": "js/lib/rgn/Maths.js",
    "static": true,
    "longname": "js/lib/rgn/Maths.js~Maths",
    "access": "public",
    "export": true,
    "importPath": "rgnjs/js/lib/rgn/Maths.js",
    "importStyle": "{Maths}",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 266,
    "kind": "method",
    "name": "radToDeg",
    "memberof": "js/lib/rgn/Maths.js~Maths",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/lib/rgn/Maths.js~Maths.radToDeg",
    "access": "public",
    "description": " @summary convert radians to degrees",
    "lineNumber": 7,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "converted angle"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "angle",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "converted angle"
    }
  },
  {
    "__docId__": 267,
    "kind": "method",
    "name": "randomItem",
    "memberof": "js/lib/rgn/Maths.js~Maths",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "js/lib/rgn/Maths.js~Maths.randomItem",
    "access": "public",
    "description": " @summary Gets random item from array.",
    "lineNumber": 16,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "The item."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "array",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "The item."
    }
  },
  {
    "__docId__": 268,
    "kind": "file",
    "name": "js/out/scripts/linenumber.js",
    "content": "/*global document */\n(() => {\n    const source = document.getElementsByClassName('prettyprint source linenums');\n    let i = 0;\n    let lineNumber = 0;\n    let lineId;\n    let lines;\n    let totalLines;\n    let anchorHash;\n\n    if (source && source[0]) {\n        anchorHash = document.location.hash.substring(1);\n        lines = source[0].getElementsByTagName('li');\n        totalLines = lines.length;\n\n        for (; i < totalLines; i++) {\n            lineNumber++;\n            lineId = `line${lineNumber}`;\n            lines[i].id = lineId;\n            if (lineId === anchorHash) {\n                lines[i].className += ' selected';\n            }\n        }\n    }\n})();\n",
    "static": true,
    "longname": "E:/rgnjs/js/out/scripts/linenumber.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 269,
    "kind": "file",
    "name": "js/out/scripts/prettify/lang-css.js",
    "content": "PR.registerLangHandler(PR.createSimpleLexer([[\"pln\",/^[\\t\\n\\f\\r ]+/,null,\" \\t\\r\\n\f\"]],[[\"str\",/^\"(?:[^\\n\\f\\r\"\\\\]|\\\\(?:\\r\\n?|\\n|\\f)|\\\\[\\S\\s])*\"/,null],[\"str\",/^'(?:[^\\n\\f\\r'\\\\]|\\\\(?:\\r\\n?|\\n|\\f)|\\\\[\\S\\s])*'/,null],[\"lang-css-str\",/^url\\(([^\"')]*)\\)/i],[\"kwd\",/^(?:url|rgb|!important|@import|@page|@media|@charset|inherit)(?=[^\\w-]|$)/i,null],[\"lang-css-kw\",/^(-?(?:[_a-z]|\\\\[\\da-f]+ ?)(?:[\\w-]|\\\\\\\\[\\da-f]+ ?)*)\\s*:/i],[\"com\",/^\\/\\*[^*]*\\*+(?:[^*/][^*]*\\*+)*\\//],[\"com\",\n/^(?:<\\!--|--\\>)/],[\"lit\",/^(?:\\d+|\\d*\\.\\d+)(?:%|[a-z]+)?/i],[\"lit\",/^#[\\da-f]{3,6}/i],[\"pln\",/^-?(?:[_a-z]|\\\\[\\da-f]+ ?)(?:[\\w-]|\\\\\\\\[\\da-f]+ ?)*/i],[\"pun\",/^[^\\s\\w\"']+/]]),[\"css\"]);PR.registerLangHandler(PR.createSimpleLexer([],[[\"kwd\",/^-?(?:[_a-z]|\\\\[\\da-f]+ ?)(?:[\\w-]|\\\\\\\\[\\da-f]+ ?)*/i]]),[\"css-kw\"]);PR.registerLangHandler(PR.createSimpleLexer([],[[\"str\",/^[^\"')]+/]]),[\"css-str\"]);\n",
    "static": true,
    "longname": "E:/rgnjs/js/out/scripts/prettify/lang-css.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 270,
    "kind": "file",
    "name": "js/out/scripts/prettify/prettify.js",
    "content": "var q=null;window.PR_SHOULD_USE_CONTINUATION=!0;\n(function(){function L(a){function m(a){var f=a.charCodeAt(0);if(f!==92)return f;var b=a.charAt(1);return(f=r[b])?f:\"0\"<=b&&b<=\"7\"?parseInt(a.substring(1),8):b===\"u\"||b===\"x\"?parseInt(a.substring(2),16):a.charCodeAt(1)}function e(a){if(a<32)return(a<16?\"\\\\x0\":\"\\\\x\")+a.toString(16);a=String.fromCharCode(a);if(a===\"\\\\\"||a===\"-\"||a===\"[\"||a===\"]\")a=\"\\\\\"+a;return a}function h(a){for(var f=a.substring(1,a.length-1).match(/\\\\u[\\dA-Fa-f]{4}|\\\\x[\\dA-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\S\\s]|[^\\\\]/g),a=\n[],b=[],o=f[0]===\"^\",c=o?1:0,i=f.length;c<i;++c){var j=f[c];if(/\\\\[bdsw]/i.test(j))a.push(j);else{var j=m(j),d;c+2<i&&\"-\"===f[c+1]?(d=m(f[c+2]),c+=2):d=j;b.push([j,d]);d<65||j>122||(d<65||j>90||b.push([Math.max(65,j)|32,Math.min(d,90)|32]),d<97||j>122||b.push([Math.max(97,j)&-33,Math.min(d,122)&-33]))}}b.sort(function(a,f){return a[0]-f[0]||f[1]-a[1]});f=[];j=[NaN,NaN];for(c=0;c<b.length;++c)i=b[c],i[0]<=j[1]+1?j[1]=Math.max(j[1],i[1]):f.push(j=i);b=[\"[\"];o&&b.push(\"^\");b.push.apply(b,a);for(c=0;c<\nf.length;++c)i=f[c],b.push(e(i[0])),i[1]>i[0]&&(i[1]+1>i[0]&&b.push(\"-\"),b.push(e(i[1])));b.push(\"]\");return b.join(\"\")}function y(a){for(var f=a.source.match(/\\[(?:[^\\\\\\]]|\\\\[\\S\\s])*]|\\\\u[\\dA-Fa-f]{4}|\\\\x[\\dA-Fa-f]{2}|\\\\\\d+|\\\\[^\\dux]|\\(\\?[!:=]|[()^]|[^()[\\\\^]+/g),b=f.length,d=[],c=0,i=0;c<b;++c){var j=f[c];j===\"(\"?++i:\"\\\\\"===j.charAt(0)&&(j=+j.substring(1))&&j<=i&&(d[j]=-1)}for(c=1;c<d.length;++c)-1===d[c]&&(d[c]=++t);for(i=c=0;c<b;++c)j=f[c],j===\"(\"?(++i,d[i]===void 0&&(f[c]=\"(?:\")):\"\\\\\"===j.charAt(0)&&\n(j=+j.substring(1))&&j<=i&&(f[c]=\"\\\\\"+d[i]);for(i=c=0;c<b;++c)\"^\"===f[c]&&\"^\"!==f[c+1]&&(f[c]=\"\");if(a.ignoreCase&&s)for(c=0;c<b;++c)j=f[c],a=j.charAt(0),j.length>=2&&a===\"[\"?f[c]=h(j):a!==\"\\\\\"&&(f[c]=j.replace(/[A-Za-z]/g,function(a){a=a.charCodeAt(0);return\"[\"+String.fromCharCode(a&-33,a|32)+\"]\"}));return f.join(\"\")}for(var t=0,s=!1,l=!1,p=0,d=a.length;p<d;++p){var g=a[p];if(g.ignoreCase)l=!0;else if(/[a-z]/i.test(g.source.replace(/\\\\u[\\da-f]{4}|\\\\x[\\da-f]{2}|\\\\[^UXux]/gi,\"\"))){s=!0;l=!1;break}}for(var r=\n{b:8,t:9,n:10,v:11,f:12,r:13},n=[],p=0,d=a.length;p<d;++p){g=a[p];if(g.global||g.multiline)throw Error(\"\"+g);n.push(\"(?:\"+y(g)+\")\")}return RegExp(n.join(\"|\"),l?\"gi\":\"g\")}function M(a){function m(a){switch(a.nodeType){case 1:if(e.test(a.className))break;for(var g=a.firstChild;g;g=g.nextSibling)m(g);g=a.nodeName;if(\"BR\"===g||\"LI\"===g)h[s]=\"\\n\",t[s<<1]=y++,t[s++<<1|1]=a;break;case 3:case 4:g=a.nodeValue,g.length&&(g=p?g.replace(/\\r\\n?/g,\"\\n\"):g.replace(/[\\t\\n\\r ]+/g,\" \"),h[s]=g,t[s<<1]=y,y+=g.length,\nt[s++<<1|1]=a)}}var e=/(?:^|\\s)nocode(?:\\s|$)/,h=[],y=0,t=[],s=0,l;a.currentStyle?l=a.currentStyle.whiteSpace:window.getComputedStyle&&(l=document.defaultView.getComputedStyle(a,q).getPropertyValue(\"white-space\"));var p=l&&\"pre\"===l.substring(0,3);m(a);return{a:h.join(\"\").replace(/\\n$/,\"\"),c:t}}function B(a,m,e,h){m&&(a={a:m,d:a},e(a),h.push.apply(h,a.e))}function x(a,m){function e(a){for(var l=a.d,p=[l,\"pln\"],d=0,g=a.a.match(y)||[],r={},n=0,z=g.length;n<z;++n){var f=g[n],b=r[f],o=void 0,c;if(typeof b===\n\"string\")c=!1;else{var i=h[f.charAt(0)];if(i)o=f.match(i[1]),b=i[0];else{for(c=0;c<t;++c)if(i=m[c],o=f.match(i[1])){b=i[0];break}o||(b=\"pln\")}if((c=b.length>=5&&\"lang-\"===b.substring(0,5))&&!(o&&typeof o[1]===\"string\"))c=!1,b=\"src\";c||(r[f]=b)}i=d;d+=f.length;if(c){c=o[1];var j=f.indexOf(c),k=j+c.length;o[2]&&(k=f.length-o[2].length,j=k-c.length);b=b.substring(5);B(l+i,f.substring(0,j),e,p);B(l+i+j,c,C(b,c),p);B(l+i+k,f.substring(k),e,p)}else p.push(l+i,b)}a.e=p}var h={},y;(function(){for(var e=a.concat(m),\nl=[],p={},d=0,g=e.length;d<g;++d){var r=e[d],n=r[3];if(n)for(var k=n.length;--k>=0;)h[n.charAt(k)]=r;r=r[1];n=\"\"+r;p.hasOwnProperty(n)||(l.push(r),p[n]=q)}l.push(/[\\S\\s]/);y=L(l)})();var t=m.length;return e}function u(a){var m=[],e=[];a.tripleQuotedStrings?m.push([\"str\",/^(?:'''(?:[^'\\\\]|\\\\[\\S\\s]|''?(?=[^']))*(?:'''|$)|\"\"\"(?:[^\"\\\\]|\\\\[\\S\\s]|\"\"?(?=[^\"]))*(?:\"\"\"|$)|'(?:[^'\\\\]|\\\\[\\S\\s])*(?:'|$)|\"(?:[^\"\\\\]|\\\\[\\S\\s])*(?:\"|$))/,q,\"'\\\"\"]):a.multiLineStrings?m.push([\"str\",/^(?:'(?:[^'\\\\]|\\\\[\\S\\s])*(?:'|$)|\"(?:[^\"\\\\]|\\\\[\\S\\s])*(?:\"|$)|`(?:[^\\\\`]|\\\\[\\S\\s])*(?:`|$))/,\nq,\"'\\\"`\"]):m.push([\"str\",/^(?:'(?:[^\\n\\r'\\\\]|\\\\.)*(?:'|$)|\"(?:[^\\n\\r\"\\\\]|\\\\.)*(?:\"|$))/,q,\"\\\"'\"]);a.verbatimStrings&&e.push([\"str\",/^@\"(?:[^\"]|\"\")*(?:\"|$)/,q]);var h=a.hashComments;h&&(a.cStyleComments?(h>1?m.push([\"com\",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,\"#\"]):m.push([\"com\",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\\b|[^\\n\\r]*)/,q,\"#\"]),e.push([\"str\",/^<(?:(?:(?:\\.\\.\\/)*|\\/?)(?:[\\w-]+(?:\\/[\\w-]+)+)?[\\w-]+\\.h|[a-z]\\w*)>/,q])):m.push([\"com\",/^#[^\\n\\r]*/,\nq,\"#\"]));a.cStyleComments&&(e.push([\"com\",/^\\/\\/[^\\n\\r]*/,q]),e.push([\"com\",/^\\/\\*[\\S\\s]*?(?:\\*\\/|$)/,q]));a.regexLiterals&&e.push([\"lang-regex\",/^(?:^^\\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\\(|\\*|\\*=|\\+=|,|-=|->|\\/|\\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\\^=|\\^\\^|\\^\\^=|{|\\||\\|=|\\|\\||\\|\\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*(\\/(?=[^*/])(?:[^/[\\\\]|\\\\[\\S\\s]|\\[(?:[^\\\\\\]]|\\\\[\\S\\s])*(?:]|$))+\\/)/]);(h=a.types)&&e.push([\"typ\",h]);a=(\"\"+a.keywords).replace(/^ | $/g,\n\"\");a.length&&e.push([\"kwd\",RegExp(\"^(?:\"+a.replace(/[\\s,]+/g,\"|\")+\")\\\\b\"),q]);m.push([\"pln\",/^\\s+/,q,\" \\r\\n\\t\\xa0\"]);e.push([\"lit\",/^@[$_a-z][\\w$@]*/i,q],[\"typ\",/^(?:[@_]?[A-Z]+[a-z][\\w$@]*|\\w+_t\\b)/,q],[\"pln\",/^[$_a-z][\\w$@]*/i,q],[\"lit\",/^(?:0x[\\da-f]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+-]?\\d+)?)[a-z]*/i,q,\"0123456789\"],[\"pln\",/^\\\\[\\S\\s]?/,q],[\"pun\",/^.[^\\s\\w\"-$'./@\\\\`]*/,q]);return x(m,e)}function D(a,m){function e(a){switch(a.nodeType){case 1:if(k.test(a.className))break;if(\"BR\"===a.nodeName)h(a),\na.parentNode&&a.parentNode.removeChild(a);else for(a=a.firstChild;a;a=a.nextSibling)e(a);break;case 3:case 4:if(p){var b=a.nodeValue,d=b.match(t);if(d){var c=b.substring(0,d.index);a.nodeValue=c;(b=b.substring(d.index+d[0].length))&&a.parentNode.insertBefore(s.createTextNode(b),a.nextSibling);h(a);c||a.parentNode.removeChild(a)}}}}function h(a){function b(a,d){var e=d?a.cloneNode(!1):a,f=a.parentNode;if(f){var f=b(f,1),g=a.nextSibling;f.appendChild(e);for(var h=g;h;h=g)g=h.nextSibling,f.appendChild(h)}return e}\nfor(;!a.nextSibling;)if(a=a.parentNode,!a)return;for(var a=b(a.nextSibling,0),e;(e=a.parentNode)&&e.nodeType===1;)a=e;d.push(a)}var k=/(?:^|\\s)nocode(?:\\s|$)/,t=/\\r\\n?|\\n/,s=a.ownerDocument,l;a.currentStyle?l=a.currentStyle.whiteSpace:window.getComputedStyle&&(l=s.defaultView.getComputedStyle(a,q).getPropertyValue(\"white-space\"));var p=l&&\"pre\"===l.substring(0,3);for(l=s.createElement(\"LI\");a.firstChild;)l.appendChild(a.firstChild);for(var d=[l],g=0;g<d.length;++g)e(d[g]);m===(m|0)&&d[0].setAttribute(\"value\",\nm);var r=s.createElement(\"OL\");r.className=\"linenums\";for(var n=Math.max(0,m-1|0)||0,g=0,z=d.length;g<z;++g)l=d[g],l.className=\"L\"+(g+n)%10,l.firstChild||l.appendChild(s.createTextNode(\"\\xa0\")),r.appendChild(l);a.appendChild(r)}function k(a,m){for(var e=m.length;--e>=0;){var h=m[e];A.hasOwnProperty(h)?window.console&&console.warn(\"cannot override language handler %s\",h):A[h]=a}}function C(a,m){if(!a||!A.hasOwnProperty(a))a=/^\\s*</.test(m)?\"default-markup\":\"default-code\";return A[a]}function E(a){var m=\na.g;try{var e=M(a.h),h=e.a;a.a=h;a.c=e.c;a.d=0;C(m,h)(a);var k=/\\bMSIE\\b/.test(navigator.userAgent),m=/\\n/g,t=a.a,s=t.length,e=0,l=a.c,p=l.length,h=0,d=a.e,g=d.length,a=0;d[g]=s;var r,n;for(n=r=0;n<g;)d[n]!==d[n+2]?(d[r++]=d[n++],d[r++]=d[n++]):n+=2;g=r;for(n=r=0;n<g;){for(var z=d[n],f=d[n+1],b=n+2;b+2<=g&&d[b+1]===f;)b+=2;d[r++]=z;d[r++]=f;n=b}for(d.length=r;h<p;){var o=l[h+2]||s,c=d[a+2]||s,b=Math.min(o,c),i=l[h+1],j;if(i.nodeType!==1&&(j=t.substring(e,b))){k&&(j=j.replace(m,\"\\r\"));i.nodeValue=\nj;var u=i.ownerDocument,v=u.createElement(\"SPAN\");v.className=d[a+1];var x=i.parentNode;x.replaceChild(v,i);v.appendChild(i);e<o&&(l[h+1]=i=u.createTextNode(t.substring(b,o)),x.insertBefore(i,v.nextSibling))}e=b;e>=o&&(h+=2);e>=c&&(a+=2)}}catch(w){\"console\"in window&&console.log(w&&w.stack?w.stack:w)}}var v=[\"break,continue,do,else,for,if,return,while\"],w=[[v,\"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile\"],\n\"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof\"],F=[w,\"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where\"],G=[w,\"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient\"],\nH=[G,\"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var\"],w=[w,\"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN\"],I=[v,\"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None\"],\nJ=[v,\"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END\"],v=[v,\"case,done,elif,esac,eval,fi,function,in,local,set,then,until\"],K=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\\d*)/,N=/\\S/,O=u({keywords:[F,H,w,\"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END\"+\nI,J,v],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),A={};k(O,[\"default-code\"]);k(x([],[[\"pln\",/^[^<?]+/],[\"dec\",/^<!\\w[^>]*(?:>|$)/],[\"com\",/^<\\!--[\\S\\s]*?(?:--\\>|$)/],[\"lang-\",/^<\\?([\\S\\s]+?)(?:\\?>|$)/],[\"lang-\",/^<%([\\S\\s]+?)(?:%>|$)/],[\"pun\",/^(?:<[%?]|[%?]>)/],[\"lang-\",/^<xmp\\b[^>]*>([\\S\\s]+?)<\\/xmp\\b[^>]*>/i],[\"lang-js\",/^<script\\b[^>]*>([\\S\\s]*?)(<\\/script\\b[^>]*>)/i],[\"lang-css\",/^<style\\b[^>]*>([\\S\\s]*?)(<\\/style\\b[^>]*>)/i],[\"lang-in.tag\",/^(<\\/?[a-z][^<>]*>)/i]]),\n[\"default-markup\",\"htm\",\"html\",\"mxml\",\"xhtml\",\"xml\",\"xsl\"]);k(x([[\"pln\",/^\\s+/,q,\" \\t\\r\\n\"],[\"atv\",/^(?:\"[^\"]*\"?|'[^']*'?)/,q,\"\\\"'\"]],[[\"tag\",/^^<\\/?[a-z](?:[\\w-.:]*\\w)?|\\/?>$/i],[\"atn\",/^(?!style[\\s=]|on)[a-z](?:[\\w:-]*\\w)?/i],[\"lang-uq.val\",/^=\\s*([^\\s\"'>]*(?:[^\\s\"'/>]|\\/(?=\\s)))/],[\"pun\",/^[/<->]+/],[\"lang-js\",/^on\\w+\\s*=\\s*\"([^\"]+)\"/i],[\"lang-js\",/^on\\w+\\s*=\\s*'([^']+)'/i],[\"lang-js\",/^on\\w+\\s*=\\s*([^\\s\"'>]+)/i],[\"lang-css\",/^style\\s*=\\s*\"([^\"]+)\"/i],[\"lang-css\",/^style\\s*=\\s*'([^']+)'/i],[\"lang-css\",\n/^style\\s*=\\s*([^\\s\"'>]+)/i]]),[\"in.tag\"]);k(x([],[[\"atv\",/^[\\S\\s]+/]]),[\"uq.val\"]);k(u({keywords:F,hashComments:!0,cStyleComments:!0,types:K}),[\"c\",\"cc\",\"cpp\",\"cxx\",\"cyc\",\"m\"]);k(u({keywords:\"null,true,false\"}),[\"json\"]);k(u({keywords:H,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:K}),[\"cs\"]);k(u({keywords:G,cStyleComments:!0}),[\"java\"]);k(u({keywords:v,hashComments:!0,multiLineStrings:!0}),[\"bsh\",\"csh\",\"sh\"]);k(u({keywords:I,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),\n[\"cv\",\"py\"]);k(u({keywords:\"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END\",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),[\"perl\",\"pl\",\"pm\"]);k(u({keywords:J,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),[\"rb\"]);k(u({keywords:w,cStyleComments:!0,regexLiterals:!0}),[\"js\"]);k(u({keywords:\"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes\",\nhashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),[\"coffee\"]);k(x([],[[\"str\",/^[\\S\\s]+/]]),[\"regex\"]);window.prettyPrintOne=function(a,m,e){var h=document.createElement(\"PRE\");h.innerHTML=a;e&&D(h,e);E({g:m,i:e,h:h});return h.innerHTML};window.prettyPrint=function(a){function m(){for(var e=window.PR_SHOULD_USE_CONTINUATION?l.now()+250:Infinity;p<h.length&&l.now()<e;p++){var n=h[p],k=n.className;if(k.indexOf(\"prettyprint\")>=0){var k=k.match(g),f,b;if(b=\n!k){b=n;for(var o=void 0,c=b.firstChild;c;c=c.nextSibling)var i=c.nodeType,o=i===1?o?b:c:i===3?N.test(c.nodeValue)?b:o:o;b=(f=o===b?void 0:o)&&\"CODE\"===f.tagName}b&&(k=f.className.match(g));k&&(k=k[1]);b=!1;for(o=n.parentNode;o;o=o.parentNode)if((o.tagName===\"pre\"||o.tagName===\"code\"||o.tagName===\"xmp\")&&o.className&&o.className.indexOf(\"prettyprint\")>=0){b=!0;break}b||((b=(b=n.className.match(/\\blinenums\\b(?::(\\d+))?/))?b[1]&&b[1].length?+b[1]:!0:!1)&&D(n,b),d={g:k,h:n,i:b},E(d))}}p<h.length?setTimeout(m,\n250):a&&a()}for(var e=[document.getElementsByTagName(\"pre\"),document.getElementsByTagName(\"code\"),document.getElementsByTagName(\"xmp\")],h=[],k=0;k<e.length;++k)for(var t=0,s=e[k].length;t<s;++t)h.push(e[k][t]);var e=q,l=Date;l.now||(l={now:function(){return+new Date}});var p=0,d,g=/\\blang(?:uage)?-([\\w.]+)(?!\\S)/;m()};window.PR={createSimpleLexer:x,registerLangHandler:k,sourceDecorator:u,PR_ATTRIB_NAME:\"atn\",PR_ATTRIB_VALUE:\"atv\",PR_COMMENT:\"com\",PR_DECLARATION:\"dec\",PR_KEYWORD:\"kwd\",PR_LITERAL:\"lit\",\nPR_NOCODE:\"nocode\",PR_PLAIN:\"pln\",PR_PUNCTUATION:\"pun\",PR_SOURCE:\"src\",PR_STRING:\"str\",PR_TAG:\"tag\",PR_TYPE:\"typ\"}})();\n",
    "static": true,
    "longname": "E:/rgnjs/js/out/scripts/prettify/prettify.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 271,
    "kind": "variable",
    "name": "q",
    "memberof": "js/out/scripts/prettify/prettify.js",
    "static": true,
    "longname": "js/out/scripts/prettify/prettify.js~q",
    "access": "public",
    "export": false,
    "importPath": "rgnjs/js/out/scripts/prettify/prettify.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "ignore": true
  },
  {
    "kind": "index",
    "content": "# rgnjs\r\nracing game library starter and editor based on Three.js (port from c#)\r\n\r\n![Screenshot](rgn-img.PNG)\r\n",
    "longname": "E:\\rgnjs\\README.md",
    "name": "./README.md",
    "static": true,
    "access": "public"
  },
  {
    "kind": "packageJSON",
    "content": "{\n  \"name\": \"rgnjs\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"webpack.config.js\",\n  \"dependencies\": {\n    \"css-loader\": \"^3.5.2\",\n    \"dat.gui\": \"^0.7.7\",\n    \"esdoc\": \"^1.1.0\",\n    \"esdoc-ecmascript-proposal-plugin\": \"^1.0.0\",\n    \"esdoc-standard-plugin\": \"^1.0.0\",\n    \"gltf-loader\": \"^0.1.0\",\n    \"script-loader\": \"^0.7.2\",\n    \"style-loader\": \"^1.1.3\",\n    \"three\": \"^0.115.0\",\n    \"three-gltf-loader\": \"^1.111.0\",\n    \"webpack\": \"^4.42.1\",\n    \"webpack-cli\": \"^3.3.11\",\n    \"webpack-dev-server\": \"^3.10.3\"\n  },\n  \"devDependencies\": {},\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n    \"serve\": \"webpack-dev-server --mode development --hot\",\n    \"build\": \"webpack -p\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/grzesiekmq/rgnjs.git\"\n  },\n  \"author\": \"grzesiekmq\",\n  \"license\": \"MIT\",\n  \"bugs\": {\n    \"url\": \"https://github.com/grzesiekmq/rgnjs/issues\"\n  },\n  \"homepage\": \"https://github.com/grzesiekmq/rgnjs#readme\"\n}\n",
    "longname": "E:\\rgnjs\\package.json",
    "name": "package.json",
    "static": true,
    "access": "public"
  }
]